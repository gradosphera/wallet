(()=>{var e={43110:e=>{if(!r)var r={map:function(e,r){var t={};return r?e.map((function(e,n){return t.index=n,r.call(t,e)})):e.slice()},naturalOrder:function(e,r){return e<r?-1:e>r?1:0},sum:function(e,r){var t={};return e.reduce(r?function(e,n,o){return t.index=o,e+r.call(t,n)}:function(e,r){return e+r},0)},max:function(e,t){return Math.max.apply(null,t?r.map(e,t):e)}};var t=function(){function e(e,r,t){return(e<<10)+(r<<5)+t}function t(e){var r=[],t=!1;function n(){r.sort(e),t=!0}return{push:function(e){r.push(e),t=!1},peek:function(e){return t||n(),void 0===e&&(e=r.length-1),r[e]},pop:function(){return t||n(),r.pop()},size:function(){return r.length},map:function(e){return r.map(e)},debug:function(){return t||n(),r}}}function n(e,r,t,n,o,i,c){var a=this;a.r1=e,a.r2=r,a.g1=t,a.g2=n,a.b1=o,a.b2=i,a.histo=c}function o(){this.vboxes=new t((function(e,t){return r.naturalOrder(e.vbox.count()*e.vbox.volume(),t.vbox.count()*t.vbox.volume())}))}function i(t,n){if(n.count()){var o=n.r2-n.r1+1,i=n.g2-n.g1+1,c=n.b2-n.b1+1,a=r.max([o,i,c]);if(1==n.count())return[n.copy()];var s,u,f,l,h=0,d=[],p=[];if(a==o)for(s=n.r1;s<=n.r2;s++){for(l=0,u=n.g1;u<=n.g2;u++)for(f=n.b1;f<=n.b2;f++)l+=t[e(s,u,f)]||0;h+=l,d[s]=h}else if(a==i)for(s=n.g1;s<=n.g2;s++){for(l=0,u=n.r1;u<=n.r2;u++)for(f=n.b1;f<=n.b2;f++)l+=t[e(u,s,f)]||0;h+=l,d[s]=h}else for(s=n.b1;s<=n.b2;s++){for(l=0,u=n.r1;u<=n.r2;u++)for(f=n.g1;f<=n.g2;f++)l+=t[e(u,f,s)]||0;h+=l,d[s]=h}return d.forEach((function(e,r){p[r]=h-e})),function(e){var r,t,o,i,c,a=e+"1",u=e+"2",f=0;for(s=n[a];s<=n[u];s++)if(d[s]>h/2){for(o=n.copy(),i=n.copy(),c=(r=s-n[a])<=(t=n[u]-s)?Math.min(n[u]-1,~~(s+t/2)):Math.max(n[a],~~(s-1-r/2));!d[c];)c++;for(f=p[c];!f&&d[c-1];)f=p[--c];return o[u]=c,i[a]=o[u]+1,[o,i]}}(a==o?"r":a==i?"g":"b")}}return n.prototype={volume:function(e){var r=this;return r._volume&&!e||(r._volume=(r.r2-r.r1+1)*(r.g2-r.g1+1)*(r.b2-r.b1+1)),r._volume},count:function(r){var t=this,n=t.histo;if(!t._count_set||r){var o,i,c,a=0;for(o=t.r1;o<=t.r2;o++)for(i=t.g1;i<=t.g2;i++)for(c=t.b1;c<=t.b2;c++)a+=n[e(o,i,c)]||0;t._count=a,t._count_set=!0}return t._count},copy:function(){var e=this;return new n(e.r1,e.r2,e.g1,e.g2,e.b1,e.b2,e.histo)},avg:function(r){var t=this,n=t.histo;if(!t._avg||r){var o,i,c,a,s=0,u=0,f=0,l=0;for(i=t.r1;i<=t.r2;i++)for(c=t.g1;c<=t.g2;c++)for(a=t.b1;a<=t.b2;a++)s+=o=n[e(i,c,a)]||0,u+=o*(i+.5)*8,f+=o*(c+.5)*8,l+=o*(a+.5)*8;t._avg=s?[~~(u/s),~~(f/s),~~(l/s)]:[~~(8*(t.r1+t.r2+1)/2),~~(8*(t.g1+t.g2+1)/2),~~(8*(t.b1+t.b2+1)/2)]}return t._avg},contains:function(e){var r=this,t=e[0]>>3;return gval=e[1]>>3,bval=e[2]>>3,t>=r.r1&&t<=r.r2&&gval>=r.g1&&gval<=r.g2&&bval>=r.b1&&bval<=r.b2}},o.prototype={push:function(e){this.vboxes.push({vbox:e,color:e.avg()})},palette:function(){return this.vboxes.map((function(e){return e.color}))},size:function(){return this.vboxes.size()},map:function(e){for(var r=this.vboxes,t=0;t<r.size();t++)if(r.peek(t).vbox.contains(e))return r.peek(t).color;return this.nearest(e)},nearest:function(e){for(var r,t,n,o=this.vboxes,i=0;i<o.size();i++)((t=Math.sqrt(Math.pow(e[0]-o.peek(i).color[0],2)+Math.pow(e[1]-o.peek(i).color[1],2)+Math.pow(e[2]-o.peek(i).color[2],2)))<r||void 0===r)&&(r=t,n=o.peek(i).color);return n},forcebw:function(){var e=this.vboxes;e.sort((function(e,t){return r.naturalOrder(r.sum(e.color),r.sum(t.color))}));var t=e[0].color;t[0]<5&&t[1]<5&&t[2]<5&&(e[0].color=[0,0,0]);var n=e.length-1,o=e[n].color;o[0]>251&&o[1]>251&&o[2]>251&&(e[n].color=[255,255,255])}},{quantize:function(c,a){if(!c.length||a<2||a>256)return!1;var s=function(r){var t,n,o,i,c=new Array(32768);return r.forEach((function(r){n=r[0]>>3,o=r[1]>>3,i=r[2]>>3,t=e(n,o,i),c[t]=(c[t]||0)+1})),c}(c);s.forEach((function(){}));var u=function(e,r){var t,o,i,c=1e6,a=0,s=1e6,u=0,f=1e6,l=0;return e.forEach((function(e){t=e[0]>>3,o=e[1]>>3,i=e[2]>>3,t<c?c=t:t>a&&(a=t),o<s?s=o:o>u&&(u=o),i<f?f=i:i>l&&(l=i)})),new n(c,a,s,u,f,l,r)}(c,s),f=new t((function(e,t){return r.naturalOrder(e.count(),t.count())}));function l(e,r){for(var t,n=1,o=0;o<1e3;)if((t=e.pop()).count()){var c=i(s,t),a=c[0],u=c[1];if(!a)return;if(e.push(a),u&&(e.push(u),n++),n>=r)return;if(o++>1e3)return}else e.push(t),o++}f.push(u),l(f,.75*a);for(var h=new t((function(e,t){return r.naturalOrder(e.count()*e.volume(),t.count()*t.volume())}));f.size();)h.push(f.pop());l(h,a-h.size());for(var d=new o;h.size();)d.push(h.pop());return d}}}();e.exports=t.quantize},65606:e=>{var r,t,n=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function c(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{t="function"==typeof clearTimeout?clearTimeout:i}catch(e){t=i}}();var a,s=[],u=!1,f=-1;function l(){u&&a&&(u=!1,a.length?s=a.concat(s):f=-1,s.length&&h())}function h(){if(!u){var e=c(l);u=!0;for(var r=s.length;r;){for(a=s,s=[];++f<r;)a&&a[f].run();f=-1,r=s.length}a=null,u=!1,function(e){if(t===clearTimeout)return clearTimeout(e);if((t===i||!t)&&clearTimeout)return t=clearTimeout,clearTimeout(e);try{return t(e)}catch(r){try{return t.call(null,e)}catch(r){return t.call(this,e)}}}(e)}}function d(e,r){this.fun=e,this.array=r}function p(){}n.nextTick=function(e){var r=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)r[t-1]=arguments[t];s.push(new d(e,r)),1!==s.length||u||c(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}}},r={};function t(n){var o=r[n];if(void 0!==o)return o.exports;var i=r[n]={exports:{}};return e[n](i,i.exports,t),i.exports}t.m=e,t.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return t.d(r,{a:r}),r},t.d=(e,r)=>{for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},t.f={},t.e=e=>Promise.all(Object.keys(t.f).reduce(((r,n)=>(t.f[n](e,r),r)),[])),t.u=e=>e+".c4d3cd24fec95e2600be.js",t.miniCssF=e=>{},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),t.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var r=t.g.document;if(!e&&r&&(r.currentScript&&"SCRIPT"===r.currentScript.tagName.toUpperCase()&&(e=r.currentScript.src),!e)){var n=r.getElementsByTagName("script");if(n.length)for(var o=n.length-1;o>-1&&(!e||!/^http(s?):/.test(e));)e=n[o--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})(),(()=>{var e={771:1};t.f.i=(r,n)=>{e[r]||importScripts(t.p+t.u(r))};var r=self.webpackChunkmytonwallet=self.webpackChunkmytonwallet||[],n=r.push.bind(r);r.push=r=>{var[o,i,c]=r;for(var a in i)t.o(i,a)&&(t.m[a]=i[a]);for(c&&c(t);o.length;)e[o.pop()]=1;n(r)}})(),(()=>{"use strict";async function e(e){const r=function(){try{return new DecompressionStream("gzip")}catch{return}}();if(r)return function(e,r){const t=r.writable.getWriter();return t.write(e),t.close(),async function(e){const r=e.getReader(),t=[];let n=0;for(;;){const{value:e,done:o}=await r.read();if(o)break;t.push(e),n+=e.byteLength}if(1===t.length)return t[0];const o=new Uint8Array(n);let i=0;for(const e of t)o.set(e,i),i+=e.byteLength;return o}(r.readable)}(e,r);const{gunzipSync:n}=await t.e(861).then(t.bind(t,69861));return n((o=e)instanceof ArrayBuffer?new Uint8Array(o):new Uint8Array(o.buffer,o.byteOffset,o.byteLength));var o}t(65606).env.IS_OPERA_EXTENSION,new Set(["0:0e41dc1dc3c9067ed24248580e12b3359818d83dee0304fabcf80845eafafdb2","0:80d78a35f955a14b679faa887ff4cd5bfc0f43b4a4eea2a7e6927f3701b273c2"]);const r="ton-eqcxe6mutq";new Set(["toncoin",r,"trx","tron-tr7nhqjekq"]);new Set(["82566ad72b6568fe7276437d3b0c911aab65ed701c13601941b2917305e81c11","ec614ea4aaea3f7768606f1c1632b3374d3de096a1e7c4ba43c8009c487fee9d","c0f9d14fbc8e14f0d72cba2214165eee35836ab174130912baf9dbfa43ead562","1275095b6da3911292406f4f4386f9e780099b854c6dee9ee2895ddce70927c1","5d01684bdf1d5c9be2682c4e36074202432628bd3477d77518d66b0976b78cca","173e31eee054cb0c76f77edc7956bed766bf48a1f63bd062d87040dcd3df700f","5226dd4e6db9af26b24d5ca822bc4053b7e08152f923932abf25030c7e38bb42","fea2c08a704e5192b7f37434927170440d445b87aab865c3ea2a68abe7168204","e691cf9081a8aeb22ed4d94829f6626c9d822752e035800b5543c43f83d134b5","301ce25925830d713b326824e552e962925c4ff45b1e3ea21fc363a459a49b43","02250f83fbb8624d859c2c045ac70ee2b3b959688c3d843aec773be9b36dbfc3","dba3adb2c917db80fd71a6a68c1fc9e12976491a8309d5910f9722efc084ce4d","7da9223b90984d6a144e71611a8d7c65a6298cad734faed79438dc0f7a8e53d1"]),new Set(["ton-eqcqc6ehrj","ton-eqcbzvsfwq"]);var n=1e6,o="[big.js] ",i=o+"Invalid ",c=i+"decimal places",a=i+"rounding mode",s=o+"Division by zero",u={},f=void 0,l=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function h(e,r,t,n){var o=e.c;if(t===f&&(t=e.constructor.RM),0!==t&&1!==t&&2!==t&&3!==t)throw Error(a);if(r<1)n=3===t&&(n||!!o[0])||0===r&&(1===t&&o[0]>=5||2===t&&(o[0]>5||5===o[0]&&(n||o[1]!==f))),o.length=1,n?(e.e=e.e-r+1,o[0]=1):o[0]=e.e=0;else if(r<o.length){if(n=1===t&&o[r]>=5||2===t&&(o[r]>5||5===o[r]&&(n||o[r+1]!==f||1&o[r-1]))||3===t&&(n||!!o[0]),o.length=r,n)for(;++o[--r]>9;)if(o[r]=0,0===r){++e.e,o.unshift(1);break}for(r=o.length;!o[--r];)o.pop()}return e}function d(e,r,t){var n=e.e,o=e.c.join(""),i=o.length;if(r)o=o.charAt(0)+(i>1?"."+o.slice(1):"")+(n<0?"e":"e+")+n;else if(n<0){for(;++n;)o="0"+o;o="0."+o}else if(n>0)if(++n>i)for(n-=i;n--;)o+="0";else n<i&&(o=o.slice(0,n)+"."+o.slice(n));else i>1&&(o=o.charAt(0)+"."+o.slice(1));return e.s<0&&t?"-"+o:o}u.abs=function(){var e=new this.constructor(this);return e.s=1,e},u.cmp=function(e){var r,t=this,n=t.c,o=(e=new t.constructor(e)).c,i=t.s,c=e.s,a=t.e,s=e.e;if(!n[0]||!o[0])return n[0]?i:o[0]?-c:0;if(i!=c)return i;if(r=i<0,a!=s)return a>s^r?1:-1;for(c=(a=n.length)<(s=o.length)?a:s,i=-1;++i<c;)if(n[i]!=o[i])return n[i]>o[i]^r?1:-1;return a==s?0:a>s^r?1:-1},u.div=function(e){var r=this,t=r.constructor,o=r.c,i=(e=new t(e)).c,a=r.s==e.s?1:-1,u=t.DP;if(u!==~~u||u<0||u>n)throw Error(c);if(!i[0])throw Error(s);if(!o[0])return e.s=a,e.c=[e.e=0],e;var l,d,p,g,b,m=i.slice(),v=l=i.length,w=o.length,y=o.slice(0,l),E=y.length,F=e,x=F.c=[],A=0,k=u+(F.e=r.e-e.e)+1;for(F.s=a,a=k<0?0:k,m.unshift(0);E++<l;)y.push(0);do{for(p=0;p<10;p++){if(l!=(E=y.length))g=l>E?1:-1;else for(b=-1,g=0;++b<l;)if(i[b]!=y[b]){g=i[b]>y[b]?1:-1;break}if(!(g<0))break;for(d=E==l?i:m;E;){if(y[--E]<d[E]){for(b=E;b&&!y[--b];)y[b]=9;--y[b],y[E]+=10}y[E]-=d[E]}for(;!y[0];)y.shift()}x[A++]=g?p:++p,y[0]&&g?y[E]=o[v]||0:y=[o[v]]}while((v++<w||y[0]!==f)&&a--);return x[0]||1==A||(x.shift(),F.e--,k--),A>k&&h(F,k,t.RM,y[0]!==f),F},u.eq=function(e){return 0===this.cmp(e)},u.gt=function(e){return this.cmp(e)>0},u.gte=function(e){return this.cmp(e)>-1},u.lt=function(e){return this.cmp(e)<0},u.lte=function(e){return this.cmp(e)<1},u.minus=u.sub=function(e){var r,t,n,o,i=this,c=i.constructor,a=i.s,s=(e=new c(e)).s;if(a!=s)return e.s=-s,i.plus(e);var u=i.c.slice(),f=i.e,l=e.c,h=e.e;if(!u[0]||!l[0])return l[0]?e.s=-s:u[0]?e=new c(i):e.s=1,e;if(a=f-h){for((o=a<0)?(a=-a,n=u):(h=f,n=l),n.reverse(),s=a;s--;)n.push(0);n.reverse()}else for(t=((o=u.length<l.length)?u:l).length,a=s=0;s<t;s++)if(u[s]!=l[s]){o=u[s]<l[s];break}if(o&&(n=u,u=l,l=n,e.s=-e.s),(s=(t=l.length)-(r=u.length))>0)for(;s--;)u[r++]=0;for(s=r;t>a;){if(u[--t]<l[t]){for(r=t;r&&!u[--r];)u[r]=9;--u[r],u[t]+=10}u[t]-=l[t]}for(;0===u[--s];)u.pop();for(;0===u[0];)u.shift(),--h;return u[0]||(e.s=1,u=[h=0]),e.c=u,e.e=h,e},u.mod=function(e){var r,t=this,n=t.constructor,o=t.s,i=(e=new n(e)).s;if(!e.c[0])throw Error(s);return t.s=e.s=1,r=1==e.cmp(t),t.s=o,e.s=i,r?new n(t):(o=n.DP,i=n.RM,n.DP=n.RM=0,t=t.div(e),n.DP=o,n.RM=i,this.minus(t.times(e)))},u.neg=function(){var e=new this.constructor(this);return e.s=-e.s,e},u.plus=u.add=function(e){var r,t,n,o=this,i=o.constructor;if(e=new i(e),o.s!=e.s)return e.s=-e.s,o.minus(e);var c=o.e,a=o.c,s=e.e,u=e.c;if(!a[0]||!u[0])return u[0]||(a[0]?e=new i(o):e.s=o.s),e;if(a=a.slice(),r=c-s){for(r>0?(s=c,n=u):(r=-r,n=a),n.reverse();r--;)n.push(0);n.reverse()}for(a.length-u.length<0&&(n=u,u=a,a=n),r=u.length,t=0;r;a[r]%=10)t=(a[--r]=a[r]+u[r]+t)/10|0;for(t&&(a.unshift(t),++s),r=a.length;0===a[--r];)a.pop();return e.c=a,e.e=s,e},u.pow=function(e){var r=this,t=new r.constructor("1"),n=t,o=e<0;if(e!==~~e||e<-1e6||e>1e6)throw Error(i+"exponent");for(o&&(e=-e);1&e&&(n=n.times(r)),e>>=1;)r=r.times(r);return o?t.div(n):n},u.prec=function(e,r){if(e!==~~e||e<1||e>n)throw Error(i+"precision");return h(new this.constructor(this),e,r)},u.round=function(e,r){if(e===f)e=0;else if(e!==~~e||e<-n||e>n)throw Error(c);return h(new this.constructor(this),e+this.e+1,r)},u.sqrt=function(){var e,r,t,n=this,i=n.constructor,c=n.s,a=n.e,s=new i("0.5");if(!n.c[0])return new i(n);if(c<0)throw Error(o+"No square root");0===(c=Math.sqrt(n+""))||c===1/0?((r=n.c.join("")).length+a&1||(r+="0"),a=((a+1)/2|0)-(a<0||1&a),e=new i(((c=Math.sqrt(r))==1/0?"5e":(c=c.toExponential()).slice(0,c.indexOf("e")+1))+a)):e=new i(c+""),a=e.e+(i.DP+=4);do{t=e,e=s.times(t.plus(n.div(t)))}while(t.c.slice(0,a).join("")!==e.c.slice(0,a).join(""));return h(e,(i.DP-=4)+e.e+1,i.RM)},u.times=u.mul=function(e){var r,t=this,n=t.constructor,o=t.c,i=(e=new n(e)).c,c=o.length,a=i.length,s=t.e,u=e.e;if(e.s=t.s==e.s?1:-1,!o[0]||!i[0])return e.c=[e.e=0],e;for(e.e=s+u,c<a&&(r=o,o=i,i=r,u=c,c=a,a=u),r=new Array(u=c+a);u--;)r[u]=0;for(s=a;s--;){for(a=0,u=c+s;u>s;)a=r[u]+i[s]*o[u-s-1]+a,r[u--]=a%10,a=a/10|0;r[u]=a}for(a?++e.e:r.shift(),s=r.length;!r[--s];)r.pop();return e.c=r,e},u.toExponential=function(e,r){var t=this,o=t.c[0];if(e!==f){if(e!==~~e||e<0||e>n)throw Error(c);for(t=h(new t.constructor(t),++e,r);t.c.length<e;)t.c.push(0)}return d(t,!0,!!o)},u.toFixed=function(e,r){var t=this,o=t.c[0];if(e!==f){if(e!==~~e||e<0||e>n)throw Error(c);for(e=e+(t=h(new t.constructor(t),e+t.e+1,r)).e+1;t.c.length<e;)t.c.push(0)}return d(t,!1,!!o)},u[Symbol.for("nodejs.util.inspect.custom")]=u.toJSON=u.toString=function(){var e=this,r=e.constructor;return d(e,e.e<=r.NE||e.e>=r.PE,!!e.c[0])},u.toNumber=function(){var e=Number(d(this,!0,!0));if(!0===this.constructor.strict&&!this.eq(e.toString()))throw Error(o+"Imprecise conversion");return e},u.toPrecision=function(e,r){var t=this,o=t.constructor,c=t.c[0];if(e!==f){if(e!==~~e||e<1||e>n)throw Error(i+"precision");for(t=h(new o(t),e,r);t.c.length<e;)t.c.push(0)}return d(t,e<=t.e||t.e<=o.NE||t.e>=o.PE,!!c)},u.valueOf=function(){var e=this,r=e.constructor;if(!0===r.strict)throw Error(o+"valueOf disallowed");return d(e,e.e<=r.NE||e.e>=r.PE,!0)};var p=function e(){function r(t){var n=this;if(!(n instanceof r))return t===f?e():new r(t);if(t instanceof r)n.s=t.s,n.e=t.e,n.c=t.c.slice();else{if("string"!=typeof t){if(!0===r.strict&&"bigint"!=typeof t)throw TypeError(i+"value");t=0===t&&1/t<0?"-0":String(t)}!function(e,r){var t,n,o;if(!l.test(r))throw Error(i+"number");for(e.s="-"==r.charAt(0)?(r=r.slice(1),-1):1,(t=r.indexOf("."))>-1&&(r=r.replace(".","")),(n=r.search(/e/i))>0?(t<0&&(t=n),t+=+r.slice(n+1),r=r.substring(0,n)):t<0&&(t=r.length),o=r.length,n=0;n<o&&"0"==r.charAt(n);)++n;if(n==o)e.c=[e.e=0];else{for(;o>0&&"0"==r.charAt(--o););for(e.e=t-n-1,e.c=[],t=0;n<=o;)e.c[t++]=+r.charAt(n++)}}(n,t)}n.constructor=r}return r.prototype=u,r.DP=20,r.RM=1,r.NE=-7,r.PE=21,r.strict=!1,r.roundDown=0,r.roundHalfUp=1,r.roundHalfEven=2,r.roundUp=3,r}();p.RM=0,p.NE=-1e5,p.PE=1e5,p(10);class g extends Error{constructor(e,r){super(e),this.metadata=r}}const b=[];function m(e,r){return r instanceof Error?{name:r.name,message:r.message,stack:r.stack,metadata:r instanceof g?r.metadata:void 0}:r}function v(e){for(var r=arguments.length,t=new Array(r>1?r-1:0),n=1;n<r;n++)t[n-1]=arguments[n];var o;o={message:e,level:"debugError",args:t},b.length>999&&b.shift(),b.push({...o,args:o.args.map((e=>JSON.stringify(e,m))),time:new Date})}const w=new Map;function y(e,r){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:self;function n(e,n){e.channel=r,n?t.postMessage(e,n):t.postMessage(e)}(arguments.length>3?arguments[3]:void 0)||function(e){self.onerror=r=>{var t,n;const o=(null===(t=r.error)||void 0===t?void 0:t.message)||"Uncaught exception in worker";v(o,r.error),e({type:"unhandledError",error:{message:o,stack:null===(n=r.error)||void 0===n?void 0:n.stack}})},self.addEventListener("unhandledrejection",(r=>{var t,n;const o=(null===(t=r.reason)||void 0===t?void 0:t.message)||"Unhandled rejection in worker";v(o,r.reason),e({type:"unhandledError",error:{message:o,stack:null===(n=r.reason)||void 0===n?void 0:n.stack}})}))}(n),t.addEventListener("message",(t=>{var o;(null===(o=t.data)||void 0===o?void 0:o.channel)===r&&async function(e,r,t,n,o){switch(n||(n=e=>{t({type:"update",update:e})}),r.type){case"init":{var i;const{args:t}=r,c="function"==typeof e?e("init",o,n,...t):null===(i=e.init)||void 0===i?void 0:i.call(e,n,...t);await c;break}case"callMethod":{const{messageId:n,name:i,args:c,withCallback:a}=r;try{if("function"!=typeof e&&!e[i])return;if(n&&a){const e=function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];const i=r[r.length-1];var c;t({type:"methodCallback",messageId:n,callbackArgs:r},(c=i)instanceof ArrayBuffer||c instanceof ImageBitmap?[i]:void 0)};w.set(n,e),c.push(e)}const r="function"==typeof e?await e(i,o,...c):await e[i](...c),{arrayBuffer:s}="object"==typeof r&&r&&"arrayBuffer"in r||{};n&&t({type:"methodResponse",messageId:n,response:r},s?[s]:void 0)}catch(e){v(i,e),n&&t({type:"methodResponse",messageId:n,error:{message:e.message}})}n&&w.delete(n);break}case"cancelProgress":{const e=w.get(r.messageId);e&&(e.isCanceled=!0);break}}}(e,t.data,n)}))}try{self.importScripts("rlottie-wasm.js")}catch(e){throw new Error("Failed to import rlottie-wasm.js")}let E;const F=new Promise((e=>{Module.onRuntimeInitialized=()=>{E={init:Module.cwrap("lottie_init","",[]),destroy:Module.cwrap("lottie_destroy","",["number"]),resize:Module.cwrap("lottie_resize","",["number","number","number"]),buffer:Module.cwrap("lottie_buffer","number",["number"]),render:Module.cwrap("lottie_render","",["number","number"]),loadFromData:Module.cwrap("lottie_load_from_data","number",["number","number"])},e()}})),x=new Map;async function A(r){const t=await fetch(r);if("application/json"===t.headers.get("Content-Type"))return t.text();const n=await t.arrayBuffer(),o=await e(n);return(new TextDecoder).decode(o)}function k(e,r,t){const n=r?30:60,o=JSON.parse(e).fr||n,i=o%n==0?o/n:1;return{reduceFactor:i,msPerFrame:1e3/(o/i),reducedFramesCount:Math.ceil(t/i)}}y({"rlottie:init":async function(e,r,t,n,o,i){E||await F;const c=await A(r),a=allocate(intArrayFromString(c),"i8",0),s=E.init(),u=E.loadFromData(s,a);E.resize(s,t,t);const f=new ImageData(t,t),{reduceFactor:l,msPerFrame:h,reducedFramesCount:d}=k(c,n,u);x.set(e,{imgSize:t,reduceFactor:l,handle:s,imageData:f,customColor:o}),i(l,h,d)},"rlottie:changeData":async function(e,r,t,n){E||await F;const o=await A(r),i=allocate(intArrayFromString(o),"i8",0),{handle:c}=x.get(e),a=E.loadFromData(c,i),{reduceFactor:s,msPerFrame:u,reducedFramesCount:f}=k(o,t,a);n(s,u,f)},"rlottie:renderFrames":async function(e,r,t){E||await F;const{imgSize:n,reduceFactor:o,handle:i,imageData:c,customColor:a}=x.get(e),s=r*o;E.render(i,s);const u=E.buffer(i),f=Module.HEAPU8.subarray(u,u+n*n*4);if(a){const e=new Uint8ClampedArray(f);!function(e,r){for(let t=0;t<e.length;t+=4)e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2]}(e,a),c.data.set(e)}else c.data.set(f);t(r,await createImageBitmap(c))},"rlottie:destroy":function e(r){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{const e=x.get(r);E.destroy(e.handle),x.delete(r)}catch(n){t||setTimeout((()=>e(r,!0)),1e3)}}});const C={light:["#31AFC7","#35C759","#FF9500","#FF2C55","#AF52DE","#5856D7","#73AAED","#FFB07A","#B76C78","#9689D1","#E572CC","#6BA07A","#338FCC","#1FC863","#929395","#E4B102","#000000"],dark:["#3AB5CC","#32D74B","#FF9F0B","#FF325A","#BF5AF2","#7977FF","#73AAED","#FFB07A","#B76C78","#9689D1","#E572CC","#6BA07A","#338FCC","#2CD36F","#C3C5C6","#DDBA00","#FFFFFF"]};var M=t(43110),D=t.n(M);y({"offscreen-canvas:processNftImage":async function(e,r,t){let n;try{const o=await async function(e){const r=await caches.open("mtw-image"),t=await r.match(e);if(t){const e=await t.blob();return URL.createObjectURL(e)}const n=await fetch(e);if(!n.ok)throw new Error(`Image loading error: ${n.statusText}. URL: ${e}`);await r.put(e,n.clone());const o=await n.blob();return URL.createObjectURL(o)}(e),i=await fetch(o),c=await i.blob();n=await createImageBitmap(c);const a=function(e,r,t){const n=function(e,r,t){const n=e,o=[];for(let e,i,c,a,s,u=0;u<r;u+=t)e=4*u,i=n[e+0],c=n[e+1],a=n[e+2],s=n[e+3],(void 0===s||s>=125)&&(i>250&&c>250&&a>250||o.push([i,c,a]));return o}(function(e){const r=new OffscreenCanvas(e.width,e.height),t=r.getContext("2d");return t.drawImage(e,0,0),t.getImageData(0,0,r.width,r.height).data}(e),e.width*e.height,r),o=D()(n,t);return o?o.palette():void 0}(n,r,t);if(!a||0===a.length)return;const s=a[0],u=C.light.map((e=>function(e,r){const t=.3*(e[0]-r[0])**2,n=.59*(e[1]-r[1])**2,o=.11*(e[2]-r[2])**2;return Math.sqrt(t+n+o)}(s,function(e){const r=e.replace("#","");return[parseInt(r.substring(0,2),16),parseInt(r.substring(2,4),16),parseInt(r.substring(4,6),16)]}(e)))),f=Math.min(...u);return u.indexOf(f)}catch(e){return void v("[Worker] Error processing NFT image:",e)}finally{n&&n.close()}}})})()})();
//# sourceMappingURL=771.ae36771e22d590ba4423.js.map