/*! For license information please see main.e2948c84e72540ee91ef.js.LICENSE.txt */
(()=>{var e,t,n,a,o={16546:(e,t,n)=>{"use strict";n.d(t,{$c:()=>o,EA:()=>m,E_:()=>l,F3:()=>s,I9:()=>r,Ii:()=>i});const a=(e=>e.CapacitorPlatforms=(e=>{const t=new Map;t.set("web",{name:"web"});const n=e.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:t};return n.addPlatform=(e,t)=>{n.platforms.set(e,t)},n.setPlatform=e=>{n.platforms.has(e)&&(n.currentPlatform=n.platforms.get(e))},n})(e))("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:{});var o;a.addPlatform,a.setPlatform,function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"}(o||(o={}));class r extends Error{constructor(e,t,n){super(e),this.message=e,this.code=t,this.data=n}}const i=(e=>e.Capacitor=(e=>{var t,n,a,i,s;const l=e.CapacitorCustomPlatform||null,c=e.Capacitor||{},d=c.Plugins=c.Plugins||{},u=e.CapacitorPlatforms,m=(null===(t=null==u?void 0:u.currentPlatform)||void 0===t?void 0:t.getPlatform)||(()=>null!==l?l.name:(e=>{var t,n;return(null==e?void 0:e.androidBridge)?"android":(null===(n=null===(t=null==e?void 0:e.webkit)||void 0===t?void 0:t.messageHandlers)||void 0===n?void 0:n.bridge)?"ios":"web"})(e)),p=(null===(n=null==u?void 0:u.currentPlatform)||void 0===n?void 0:n.isNativePlatform)||(()=>"web"!==m()),f=(null===(a=null==u?void 0:u.currentPlatform)||void 0===a?void 0:a.isPluginAvailable)||(e=>{const t=g.get(e);return!!(null==t?void 0:t.platforms.has(m()))||!!h(e)}),h=(null===(i=null==u?void 0:u.currentPlatform)||void 0===i?void 0:i.getPluginHeader)||(e=>{var t;return null===(t=c.PluginHeaders)||void 0===t?void 0:t.find((t=>t.name===e))}),g=new Map,v=(null===(s=null==u?void 0:u.currentPlatform)||void 0===s?void 0:s.registerPlugin)||((e,t={})=>{const n=g.get(e);if(n)return console.warn(`Capacitor plugin "${e}" already registered. Cannot register plugins twice.`),n.proxy;const a=m(),i=h(e);let s;const u=n=>{let d;const u=(...u)=>{const m=(async()=>(!s&&a in t?s=s="function"==typeof t[a]?await t[a]():t[a]:null!==l&&!s&&"web"in t&&(s=s="function"==typeof t.web?await t.web():t.web),s))().then((t=>{const s=((t,n)=>{var s,l;if(!i){if(t)return null===(l=t[n])||void 0===l?void 0:l.bind(t);throw new r(`"${e}" plugin is not implemented on ${a}`,o.Unimplemented)}{const a=null==i?void 0:i.methods.find((e=>n===e.name));if(a)return"promise"===a.rtype?t=>c.nativePromise(e,n.toString(),t):(t,a)=>c.nativeCallback(e,n.toString(),t,a);if(t)return null===(s=t[n])||void 0===s?void 0:s.bind(t)}})(t,n);if(s){const e=s(...u);return d=null==e?void 0:e.remove,e}throw new r(`"${e}.${n}()" is not implemented on ${a}`,o.Unimplemented)}));return"addListener"===n&&(m.remove=async()=>d()),m};return u.toString=()=>`${n.toString()}() { [capacitor code] }`,Object.defineProperty(u,"name",{value:n,writable:!1,configurable:!1}),u},p=u("addListener"),f=u("removeListener"),v=(e,t)=>{const n=p({eventName:e},t),a=async()=>{const a=await n;f({eventName:e,callbackId:a},t)},o=new Promise((e=>n.then((()=>e({remove:a})))));return o.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await a()},o},w=new Proxy({},{get(e,t){switch(t){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return i?v:p;case"removeListener":return f;default:return u(t)}}});return d[e]=w,g.set(e,{name:e,proxy:w,platforms:new Set([...Object.keys(t),...i?[a]:[]])}),w});return c.convertFileSrc||(c.convertFileSrc=e=>e),c.getPlatform=m,c.handleError=t=>e.console.error(t),c.isNativePlatform=p,c.isPluginAvailable=f,c.pluginMethodNoop=(e,t,n)=>Promise.reject(`${n} does not have an implementation of "${t}".`),c.registerPlugin=v,c.Exception=r,c.DEBUG=!!c.DEBUG,c.isLoggingEnabled=!!c.isLoggingEnabled,c.platform=c.getPlatform(),c.isNative=c.isNativePlatform(),c})(e))("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:{}),s=i.registerPlugin;i.Plugins;class l{constructor(e){this.listeners={},this.retainedEventArguments={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,t){let n=!1;this.listeners[e]||(this.listeners[e]=[],n=!0),this.listeners[e].push(t);const a=this.windowListeners[e];return a&&!a.registered&&this.addWindowListener(a),n&&this.sendRetainedArgumentsForEvent(e),Promise.resolve({remove:async()=>this.removeListener(e,t)})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,t,n){const a=this.listeners[e];if(a)a.forEach((e=>e(t)));else if(n){let n=this.retainedEventArguments[e];n||(n=[]),n.push(t),this.retainedEventArguments[e]=n}}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:e=>{this.notifyListeners(t,e)}}}unimplemented(e="not implemented"){return new i.Exception(e,o.Unimplemented)}unavailable(e="not available"){return new i.Exception(e,o.Unavailable)}async removeListener(e,t){const n=this.listeners[e];if(!n)return;const a=n.indexOf(t);this.listeners[e].splice(a,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const t=this.retainedEventArguments[e];t&&(delete this.retainedEventArguments[e],t.forEach((t=>{this.notifyListeners(e,t)})))}}const c=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),d=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class u extends l{async getCookies(){const e=document.cookie,t={};return e.split(";").forEach((e=>{if(e.length<=0)return;let[n,a]=e.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");n=d(n).trim(),a=d(a).trim(),t[n]=a})),t}async setCookie(e){try{const t=c(e.key),n=c(e.value),a=`; expires=${(e.expires||"").replace("expires=","")}`,o=(e.path||"/").replace("path=",""),r=null!=e.url&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${t}=${n||""}${a}; path=${o}; ${r};`}catch(e){return Promise.reject(e)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(e){return Promise.reject(e)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const t of e)document.cookie=t.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}s("CapacitorCookies",{web:()=>new u});const m=(e,t={})=>{const n=Object.assign({method:e.method||"GET",headers:e.headers},t),a=((e={})=>{const t=Object.keys(e);return Object.keys(e).map((e=>e.toLocaleLowerCase())).reduce(((n,a,o)=>(n[a]=e[t[o]],n)),{})})(e.headers)["content-type"]||"";if("string"==typeof e.data)n.body=e.data;else if(a.includes("application/x-www-form-urlencoded")){const t=new URLSearchParams;for(const[n,a]of Object.entries(e.data||{}))t.set(n,a);n.body=t.toString()}else if(a.includes("multipart/form-data")||e.data instanceof FormData){const t=new FormData;if(e.data instanceof FormData)e.data.forEach(((e,n)=>{t.append(n,e)}));else for(const n of Object.keys(e.data))t.append(n,e.data[n]);n.body=t;const a=new Headers(n.headers);a.delete("content-type"),n.headers=a}else(a.includes("application/json")||"object"==typeof e.data)&&(n.body=JSON.stringify(e.data));return n};class p extends l{async request(e){const t=m(e,e.webFetchExtra),n=((e,t=!0)=>e?Object.entries(e).reduce(((e,n)=>{const[a,o]=n;let r,i;return Array.isArray(o)?(i="",o.forEach((e=>{r=t?encodeURIComponent(e):e,i+=`${a}=${r}&`})),i.slice(0,-1)):(r=t?encodeURIComponent(o):o,i=`${a}=${r}`),`${e}&${i}`}),"").substr(1):null)(e.params,e.shouldEncodeUrlParams),a=n?`${e.url}?${n}`:e.url,o=await fetch(a,t),r=o.headers.get("content-type")||"";let i,s,{responseType:l="text"}=o.ok?e:{};switch(r.includes("application/json")&&(l="json"),l){case"arraybuffer":case"blob":s=await o.blob(),i=await(async e=>new Promise(((t,n)=>{const a=new FileReader;a.onload=()=>{const e=a.result;t(e.indexOf(",")>=0?e.split(",")[1]:e)},a.onerror=e=>n(e),a.readAsDataURL(e)})))(s);break;case"json":i=await o.json();break;default:i=await o.text()}const c={};return o.headers.forEach(((e,t)=>{c[t]=e})),{data:i,headers:c,status:o.status,url:o.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}s("CapacitorHttp",{web:()=>new p})},37448:(e,t,n)=>{"use strict";var a,o;n.d(t,{Wi:()=>o,__:()=>a}),function(e){e.Documents="DOCUMENTS",e.Data="DATA",e.Library="LIBRARY",e.Cache="CACHE",e.External="EXTERNAL",e.ExternalStorage="EXTERNAL_STORAGE"}(a||(a={})),function(e){e.UTF8="utf8",e.ASCII="ascii",e.UTF16="utf16"}(o||(o={}))},23693:(e,t,n)=>{"use strict";var a,o;n.d(t,{_n:()=>o,kn:()=>a}),function(e){e.Heavy="HEAVY",e.Medium="MEDIUM",e.Light="LIGHT"}(a||(a={})),function(e){e.Success="SUCCESS",e.Warning="WARNING",e.Error="ERROR"}(o||(o={}))},3476:(e,t,n)=>{"use strict";n.d(t,{$G:()=>w,Bm:()=>v,Wb:()=>s,Zm:()=>h,e2:()=>p,eL:()=>f,fI:()=>m,fv:()=>c,kF:()=>g,mv:()=>u,sl:()=>l,tF:()=>r,uS:()=>i,v8:()=>d});var a=n(61995);const o=1000000000n,r=1n,i=100000000n,s=1n,l={stakeNominators:o,unstakeNominators:o,stakeLiquid:o,unstakeLiquid:o,stakeJettonsForward:a.xT.STAKE_JETTONS,stakeJettons:a.xT.STAKE_JETTONS+50000000n,unstakeJettons:a.xT.UNSTAKE_JETTONS,claimJettons:a.xT.JETTON_TRANSFER+a.xT.SIMPLE_UPDATE_REQUEST,changeDns:50000000n},c={stakeNominators:1000052853n,unstakeNominators:148337433n,stakeLiquid:20251387n,unstakeLiquid:18625604n,stakeJettons:74879996n,unstakeJettons:59971662n,claimJettons:57053859n},d="d",u="w",m=9,p=!0,f=!1,h=function(e){return e[e.MasterChain=-1]="MasterChain",e[e.BaseChain=0]="BaseChain",e}({}).BaseChain,g=600,v=255;let w=function(e){return e[e.Comment=0]="Comment",e[e.Encrypted=560454219]="Encrypted",e[e.OurFee=1294173507]="OurFee",e}({}),y=function(e){return e[e.Transfer=260734629]="Transfer",e[e.TransferNotification=1935855772]="TransferNotification",e[e.InternalTransfer=395134233]="InternalTransfer",e[e.Excesses=3576854235]="Excesses",e[e.Burn=1499400124]="Burn",e[e.BurnNotification=2078119902]="BurnNotification",e}({}),b=function(e){return e[e.Ok=2742684035]="Ok",e}({}),E=function(e){return e.Wallet="wallet",e.Staking="staking",e}({});y.Excesses,b.Ok,E.Wallet,E.Wallet,E.Wallet,E.Wallet,E.Wallet,E.Wallet,E.Wallet,E.Wallet,E.Wallet,E.Wallet,E.Wallet,E.Staking,E.Wallet,E.Wallet,E.Wallet,E.Wallet},61995:(e,t,n)=>{"use strict";n.d(t,{Hc:()=>r,Hx:()=>a,xT:()=>o});const a={GET_STATIC_DATA:801842850,REPORT_STATIC_DATA:2339837749,GET_STORAGE_DATA:1535698380,REPORT_STORAGE_DATA:2863966447,EXCESSES:3576854235,TRANSFER_JETTON:260734629,INTERNAL_TRANSFER:395134233,TRANSFER_NOTIFICATION:1935855772,PROVIDE_WALLET_ADDRESS:745978227,TAKE_WALLET_ADDRESS:3513996288,BURN_JETTON:1499400124,STAKE_JETTONS:3818940809,ADD_REWARDS:3675696277,SEND_CLAIMED_REWARDS:1153179619,SEND_UNSTAKED_JETTONS:4213386179,APPROVE_STAKE:2443044737,CANCEL_STAKE:2662179289,ADD_REWARD_JETTONS:275213031,CLAIM_COMMISSIONS:3165188199,REQUEST_UPDATE_REWARDS:4123376291,CLAIM_REWARDS:2027548937,RECEIVE_JETTONS:3599387329,UNSTAKE_JETTONS:1234866786,UNSTAKE_REQUEST:23647415,CANCEL_UNSTAKE_REQUEST:2760970010,UPDATE_REWARDS:2928871374,CONFIRM_TRANSFER:3162893073,DEPLOY_NEW_POOL:3666222871,SEND_COMMISSIONS:3110787818,SET_CODE:3805467153,CHANGE_CREATION_FEE:1725256331,CHANGE_CONTENT:247632384,UPDATE_CODES:2244551631},o={MIN_RESERVE:20000000n,DEPLOY_POOL:340000000n,NOTIFICATION:340000000n,JETTON_TRANSFER:55000000n,BURN_JETTONS:340000000n,STAKE_JETTONS:300000000n,UNSTAKE_JETTONS:340000000n,CANCEL_UNSTAKE:340000000n,SEND_COMMISSIONS:340000000n,SIMPLE_UPDATE_REQUEST:340000000n,ADD_REWARDS:340000000n,APPROVE_TRANSFER:340000000n,SAVE_UPDATED_REWARDS:340000000n,MIN_EXCESS:10000000n,SEND_STAKED_JETTONS:630000000n},r={COMMISSION_DIVIDER:10000n,REWARDS_DIVIDER:1e3,DISTRIBUTION_SPEED_DIVIDER:BigInt(86400),DISTRIBUTED_REWARDS_DIVIDER:100000000000000000000000000000000000000n}},39989:(e,t,n)=>{"use strict";n.d(t,{K$:()=>i,KB:()=>r,QS:()=>c,bS:()=>l,cp:()=>s});var a=n(23174);class o extends Error{constructor(e,t){super(e),this.displayError=t,this.name=this.constructor.name}}class r extends o{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Canceled by the user")}}class i extends o{constructor(e,t){super(e,a.QD.ServerError),this.statusCode=t}}class s extends o{constructor(e){super(e,a.QD.UnsupportedVersion)}}class l extends o{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Blind signing not enabled",a.jf.HardwareBlindSigningNotEnabled)}}function c(e){if(e instanceof i)return{error:e.displayError};throw e}},25379:(e,t,n)=>{"use strict";n.d(t,{p:()=>w,R:()=>v});var a=n(55029),o=n(5130),r=n(37836),i=n(82393),s=n(31481);n(809);const l=new Map;var c=n(94465);function d(e){!function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:self;function o(e,a){e.channel=t,a?n.postMessage(e,a):n.postMessage(e)}(arguments.length>3?arguments[3]:void 0)||function(e){self.onerror=t=>{var n,o;const r=(null===(n=t.error)||void 0===n?void 0:n.message)||"Uncaught exception in worker";(0,a.SJ)(r,t.error),e({type:"unhandledError",error:{message:r,stack:null===(o=t.error)||void 0===o?void 0:o.stack}})},self.addEventListener("unhandledrejection",(t=>{var n,o;const r=(null===(n=t.reason)||void 0===n?void 0:n.message)||"Unhandled rejection in worker";(0,a.SJ)(r,t.reason),e({type:"unhandledError",error:{message:r,stack:null===(o=t.reason)||void 0===o?void 0:o.stack}})}))}(o),n.addEventListener("message",(n=>{var r;(null===(r=n.data)||void 0===r?void 0:r.channel)===t&&async function(e,t,n,o,r){switch(o||(o=e=>{n({type:"update",update:e})}),t.type){case"init":{var i;const{args:n}=t,a="function"==typeof e?e("init",r,o,...n):null===(i=e.init)||void 0===i?void 0:i.call(e,o,...n);await a;break}case"callMethod":{const{messageId:o,name:i,args:s,withCallback:c}=t;try{if("function"!=typeof e&&!e[i])return;if(o&&c){const e=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];const r=t[t.length-1];var i;n({type:"methodCallback",messageId:o,callbackArgs:t},(i=r)instanceof ArrayBuffer||i instanceof ImageBitmap?[r]:void 0)};l.set(o,e),s.push(e)}const t="function"==typeof e?await e(i,r,...s):await e[i](...s),{arrayBuffer:a}="object"==typeof t&&t&&"arrayBuffer"in t||{};o&&n({type:"methodResponse",messageId:o,response:t},a?[a]:void 0)}catch(e){(0,a.SJ)(i,e),o&&n({type:"methodResponse",messageId:o,error:{message:e.message}})}o&&l.delete(o);break}case"cancelProgress":{const e=l.get(t.messageId);e&&(e.isCanceled=!0);break}}}(e,n.data,o)}))}((function(e,t){const n=c[e];for(var a=arguments.length,o=new Array(a>2?a-2:0),r=2;r<a;r++)o[r-2]=arguments[r];return n(...o)}),s.Pcx,e,!0)}const u=150,m=5e3;let p,f,h,g=!1;function v(e,t){p=e,h||(f=new Worker(new URL(n.p+n.u(941),n.b)),h=(0,o.U)(f,e),d(f)),g||(i.pz&&window.addEventListener("focus",(()=>{E(),setTimeout((()=>E()),1e3)})),g=!0);const a="function"==typeof t?t():t;return h.init(a)}async function w(e){if(h)try{for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];const r=await h.request({name:e,args:n});return(0,a.kJ)(`callApi: ${e}`,n,r),r}catch(e){return}else(0,a.SJ)("API is not initialized")}function y(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return h.request({name:e,args:n})}const b=Date.now();async function E(){let e=!1;try{await Promise.race([y("ping"),(0,r.v7)(u).then((()=>e?void 0:Promise.reject(new Error("HEALTH_CHECK_TIMEOUT"))))])}catch(e){var t;(0,a.SJ)("ensureWorkerPing",e),Date.now()-b>=m&&(null===(t=f)||void 0===t||t.terminate(),f=void 0,h=void 0,p({type:"requestReconnectApi"}))}finally{e=!0}}},56051:(e,t,n)=>{"use strict";n.d(t,{KL:()=>r,Nu:()=>o,QD:()=>a,jf:()=>i});let a=function(e){return e.Unexpected="Unexpected",e.ServerError="ServerError",e.DebugError="DebugError",e.UnsupportedVersion="UnsupportedVersion",e}({}),o=function(e){return e.InvalidMnemonic="InvalidMnemonic",e}({}),r=function(e){return e.InvalidAmount="InvalidAmount",e.InvalidToAddress="InvalidToAddress",e.InsufficientBalance="InsufficientBalance",e.InvalidStateInit="InvalidStateInit",e.StateInitWithoutBin="StateInitWithoutBin",e.DomainNotResolved="DomainNotResolved",e.WalletNotInitialized="WalletNotInitialized",e.InvalidAddressFormat="InvalidAddressFormat",e.InactiveContract="InactiveContract",e}({}),i=function(e){return e.PartialTransactionFailure="PartialTransactionFailure",e.IncorrectDeviceTime="IncorrectDeviceTime",e.InsufficientBalance="InsufficientBalance",e.UnsuccesfulTransfer="UnsuccesfulTransfer",e.NotSupportedHardwareOperation="NotSupportedHardwareOperation",e.HardwareBlindSigningNotEnabled="HardwareBlindSigningNotEnabled",e.WrongAddress="WrongAddress",e.WrongNetwork="WrongNetwork",e}({})},23174:(e,t,n)=>{"use strict";n.d(t,{Dn:()=>a.D,KL:()=>o.KL,Nu:()=>o.Nu,QD:()=>o.QD,jf:()=>o.jf});var a=n(10428),o=n(56051)},10428:(e,t,n)=>{"use strict";n.d(t,{D:()=>a});let a=function(e){return e[e.Default=0]="Default",e[e.Instant=1]="Instant",e[e.BestRate=2]="BestRate",e}({})},31481:(e,t,n)=>{"use strict";n.d(t,{AIK:()=>fe,B9l:()=>I,BZS:()=>_e,Ba4:()=>Zt,Bqy:()=>rt,C39:()=>i,CV:()=>Pe,Czf:()=>yt,Dde:()=>Y,DvZ:()=>S,F9m:()=>Oe,FHx:()=>_,FgL:()=>ye,Fgn:()=>ct,Fkn:()=>pe,GX2:()=>et,Guj:()=>o,HGV:()=>ce,HOw:()=>je,HWN:()=>Se,Hfd:()=>gt,I04:()=>de,Ia6:()=>be,Irq:()=>se,JWy:()=>xe,K_I:()=>Nt,Kfi:()=>Pt,Kih:()=>re,KmP:()=>Mt,Kq_:()=>Ie,Kzb:()=>$e,LaL:()=>C,MS3:()=>Q,MVx:()=>d,NEx:()=>x,OKZ:()=>Wt,OZB:()=>pt,Oig:()=>c,OuE:()=>Re,PKm:()=>ke,PcM:()=>R,Pcx:()=>Ct,PiQ:()=>Bt,QSz:()=>nt,RTV:()=>g,S7e:()=>bt,ScF:()=>wt,Svl:()=>Qt,TI6:()=>r,TUC:()=>Dt,Tu9:()=>Xe,UAn:()=>Ve,UMQ:()=>w,USn:()=>Jt,UuV:()=>J,V3_:()=>T,VL7:()=>y,Vxu:()=>ue,W1_:()=>A,W75:()=>p,WHY:()=>Ut,WRE:()=>Ot,WVU:()=>Ht,Wvq:()=>De,X1K:()=>Ue,X7T:()=>Je,Xhd:()=>Me,YDh:()=>Xt,YO8:()=>V,YnH:()=>oe,Yyb:()=>F,ZYg:()=>Vt,_J8:()=>ie,_bq:()=>dt,aD4:()=>D,aEZ:()=>$t,b2d:()=>Ye,bOf:()=>G,c2m:()=>U,cSq:()=>Lt,dCY:()=>en,dL4:()=>qe,dlH:()=>u,dmC:()=>he,dnp:()=>ee,dqR:()=>He,eZ2:()=>xt,eec:()=>ge,eoU:()=>Et,gR8:()=>Rt,gSB:()=>Fe,gY_:()=>Ke,gmk:()=>b,gpw:()=>Te,gs5:()=>tn,h4K:()=>we,hL1:()=>f,hUs:()=>At,hkI:()=>L,hl5:()=>s,hnd:()=>Le,i11:()=>ae,iAh:()=>O,iX4:()=>ht,igk:()=>K,jht:()=>v,jt9:()=>it,jzp:()=>z,k9U:()=>X,kuH:()=>Gt,kuw:()=>Be,l5i:()=>It,lWW:()=>q,lfO:()=>mt,lk4:()=>$,lnc:()=>zt,n3s:()=>Ne,nQN:()=>Qe,nj6:()=>St,nrE:()=>Ce,o$d:()=>Ae,oR5:()=>ut,oUU:()=>Ze,ow1:()=>M,p8S:()=>m,pLj:()=>ze,pV9:()=>_t,pge:()=>Z,pyR:()=>le,qL:()=>Ge,qMf:()=>We,qsd:()=>jt,rKC:()=>vt,rUK:()=>ot,reE:()=>j,rkj:()=>B,sml:()=>qt,tCm:()=>ft,tKX:()=>E,tOu:()=>kt,tpB:()=>ve,uSm:()=>Ft,uyj:()=>k,v5B:()=>h,vOV:()=>l,vdF:()=>me,vsz:()=>at,wOb:()=>Tt,wg4:()=>W,wln:()=>Ee,xA_:()=>P,xB5:()=>H,xFF:()=>Kt,yq6:()=>N,zHL:()=>te,zP3:()=>ne,zTb:()=>Yt,zll:()=>tt});var a=n(65606);const o="production",r=!0,i=r?"TON Wallet":"MyTonWallet",s="3.5.6",l="staging"===o?"Beta":"development"===o?"Dev":void 0,c="production"!==o&&"perf"!==o&&"test"!==o,d=!1,u=!1,m="production"===o,p="test"===o,f=!1,h=!1,g="1"===a.env.IS_OPERA_EXTENSION,v=!1,w=!1,y=!1,b=!1,E=!1,k="https://dumb-host",C="[Inactive]",N=r?"https://wallet.ton.org":"https://mytonwallet.app",S=r?"https://beta.wallet.ton.org":"https://beta.mytonwallet.app",A="https://get.mytonwallet.io/",T="https://github.com/mytonwalletorg/mytonwallet",I="MyTonWalletBot",B=c&&!v,_="Shoot!\nSomething went wrong, please see the error details in Dev Tools Console.",x=4,L=r?"TonWallet":"MyTonWallet",D=r?"https://wallet.ton.org":"https://mytonwallet.app",O=!r,P=24,F=O?[12,24]:[24],R=64,M=3,U=700,H=50,W=16,$=30,V=70,z=110,q=120,K=156,j=192,Y=0,G=4,Q=" ",X=5,J=!1,Z=r?"tonwallet-global-state":"mytonwallet-global-state",ee=0,te=1,ne=2,ae=ne,oe="system",re="0-ton-mainnet",ie="https://toncenter.mytonwallet.org",se="",le="https://toncenter-testnet.mytonwallet.org",ce="",de=9,ue=2,me=3,pe="mysupport",fe={en:"MyTonWalletTips",ru:"MyTonWalletTipsRu"},he="https://static.mytonwallet.org/cards/",ge="https://static.mytonwallet.org/mint-cards/",ve="https://mytonwallet.io/",we="https://web.telegram.org/a/",ye="https://getgems.io/",be="GetGems",Ee="https://getgems.io/",ke="https://testnet.getgems.io/",Ce={en:"https://help.mytonwallet.io/",ru:"https://help.mytonwallet.io/ru"},Ne="NOHASH",Se="support@changelly.com",Ae="https://changelly.com/",Te="security@changelly.com",Ie="https://changelly.com/terms-of-use",Be="https://changelly.com/privacy-policy",_e="https://changelly.com/aml-kyc",xe=108e5,Le="",De=.01,Oe="mtw-image",Pe="mtw-lang-182",Fe=[{langCode:"en",name:"English",nativeName:"English",rtl:!1},{langCode:"es",name:"Spanish",nativeName:"Español",rtl:!1},{langCode:"ru",name:"Russian",nativeName:"Русский",rtl:!1},{langCode:"zh-Hans",name:"Chinese (Simplified)",nativeName:"简体",rtl:!1},{langCode:"zh-Hant",name:"Chinese (Traditional)",nativeName:"繁體",rtl:!1},{langCode:"tr",name:"Turkish",nativeName:"Türkçe",rtl:!1},{langCode:"de",name:"German",nativeName:"Deutsch",rtl:!1},{langCode:"th",name:"Thai",nativeName:"ไทย",rtl:!1},{langCode:"uk",name:"Ukrainian",nativeName:"Українська",rtl:!1},{langCode:"pl",name:"Polish",nativeName:"Polski",rtl:!1}],Re=r,Me=131072e3,Ue=1000000000n,He=15000000n,We="EQD2_4d91M4TVbEBVyBF8J1UwpMJc361LKVCz6bBlffMW05o",$e="EQCqC6EhRJ_tpWngKxL6dV0k6DSnRUrs9GSVkLbfdCqsj6TE",Ve=Ue,ze=10000n*Ue,qe=100000000n,Ke=2,je=r?"tonwallet":"mytonwallet",Ye=(new Set(["0:0e41dc1dc3c9067ed24248580e12b3359818d83dee0304fabcf80845eafafdb2","0:80d78a35f955a14b679faa887ff4cd5bfc0f43b4a4eea2a7e6927f3701b273c2"]),"https://cards.mytonwallet.io"),Ge="EQCQE2L9hfwx1V8sgmF9keraHx1rNK9VmgR1ctVvINBGykyM",Qe="EQC3dNlesgVD8YbAazcauIrXBPfiVhMMr5YYk2in0Mtsz0Bz",Xe={name:"Toncoin",symbol:"TON",slug:"toncoin",decimals:9,chain:"ton",cmcSlug:"toncoin"},Je={name:"TRON",symbol:"TRX",slug:"trx",decimals:6,chain:"tron",cmcSlug:"tron"},Ze={name:"MyTonWallet Coin",symbol:"MY",slug:"ton-eqcfvnlrbn",decimals:9,chain:"ton",minterAddress:"EQCFVNlRb-NHHDQfv3Q9xvDXBLJlay855_xREsq5ZDX6KN-w"},et={...Ze,slug:"ton-kqawlxpebw",minterAddress:"kQAWlxpEbwhCDFX9gp824ee2xVBhAh5VRSGWfbNFDddAbQoQ"},tt={ton:{isMemoSupported:!0,isDnsSupported:!0,addressRegex:/^([-\w_]{48}|0:[\da-h]{64})$/i,addressPrefixRegex:/^([-\w_]{1,48}|0:[\da-h]{0,64})$/i,nativeToken:Xe},tron:{isMemoSupported:!1,isDnsSupported:!1,addressRegex:/^T[1-9A-HJ-NP-Za-km-z]{33}$/,addressPrefixRegex:/^T[1-9A-HJ-NP-Za-km-z]{0,33}$/,nativeToken:Je,mainnet:{apiUrl:"https://tronapi.mytonwallet.org",usdtAddress:"TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t"},testnet:{apiUrl:"https://api.shasta.trongrid.io",usdtAddress:"TG3XXyExBkPp9nzdajDZsozEu4BkaSJozs"}}},nt="tron-tr7nhqjekq",at="tron-tg3xxyexbk",ot="ton-eqcxe6mutq",rt="ton-eqcqc6ehrj",it="TW2LXSebZ7Br1zHaiA2W1zRojDkDwjGmpw",st=(new Set([Xe.slug,ot,Je.slug,nt]),{name:"Tether USD",symbol:"USDT",decimals:6,chain:"tron"}),lt={name:"Tether USD",symbol:"USD₮",chain:"ton",slug:ot,decimals:6,tokenAddress:"EQCxE6mUtQJKFnGfaROTKOt1lZbDiiX1kCixRv7Nw2Id_sDs"},ct=[Xe.slug,ot,Je.slug,at,nt],dt=4,ut=[Xe.slug,ot,Je.slug],mt={toncoin:{...Xe,quote:{slug:Xe.slug,price:1.95,priceUsd:1.95,percentChange24h:0}},trx:{...Je,quote:{slug:Je.slug,price:0,priceUsd:0,percentChange24h:0}},[nt]:{...st,slug:nt,tokenAddress:"TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t",quote:{slug:nt,price:0,priceUsd:0,percentChange24h:0}},[at]:{...st,slug:at,tokenAddress:"TG3XXyExBkPp9nzdajDZsozEu4BkaSJozs",quote:{slug:at,price:0,priceUsd:0,percentChange24h:0}},[ot]:{...lt,image:"https://cache.tonapi.io/imgproxy/T3PB4s7oprNVaJkwqbGg54nexKE0zzKhcrPv8jcWYzU/rs:fill:200:200:1/g:no/aHR0cHM6Ly90ZXRoZXIudG8vaW1hZ2VzL2xvZ29DaXJjbGUucG5n.webp",quote:{slug:ot,price:0,priceUsd:0,percentChange24h:0}},[Ze.slug]:{...Ze,image:"https://cache.tonapi.io/imgproxy/Qy038wCBKISofJ0hYMlj6COWma330cx3Ju1ZSPM2LRU/rs:fill:200:200:1/g:no/aHR0cHM6Ly9teXRvbndhbGxldC5pby9sb2dvLTI1Ni1ibHVlLnBuZw.webp",quote:{slug:Ze.slug,price:0,priceUsd:0,percentChange24h:0}}},pt={[nt]:"TRC-20",[at]:"TRC-20",[ot]:"TON"},ft={toncoin:{name:"Toncoin",symbol:Xe.symbol,chain:Xe.chain,slug:Xe.slug,decimals:Xe.decimals,price:0,priceUsd:0,isPopular:!0},[ot]:{name:"Tether USD",symbol:"USD₮",chain:"ton",slug:ot,decimals:9,image:"https://cache.tonapi.io/imgproxy/T3PB4s7oprNVaJkwqbGg54nexKE0zzKhcrPv8jcWYzU/rs:fill:200:200:1/g:no/aHR0cHM6Ly90ZXRoZXIudG8vaW1hZ2VzL2xvZ29DaXJjbGUucG5n.webp",tokenAddress:"EQCxE6mUtQJKFnGfaROTKOt1lZbDiiX1kCixRv7Nw2Id_sDs",price:0,priceUsd:0,isPopular:!0}},ht=Xe.slug,gt=Xe.slug,vt=ot,wt=Xe.slug,yt=nt,bt={dedust:"DeDust",ston:"STON.fi"},Et=r?"tw-multitab":"mtw-multitab",kt=r?"tw-active-tab":"mtw-active-tab",Ct="windowProvider",Nt=r,St=4,At=6,Tt="USD",It={USD:"$",EUR:"€",RUB:"₽",CNY:"¥"},Bt=[{value:"USD",name:"US Dollar"},{value:"EUR",name:"Euro"},{value:"RUB",name:"Ruble"},{value:"CNY",name:"Yuan"},{value:"BTC",name:"Bitcoin"},{value:Xe.symbol,name:"Toncoin"}],_t="UQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJKZ",xt=["v3R1","v3R2","v4R2","W5"],Lt=1e4,Dt=3,Ot=500,Pt=["1D","7D","1M","3M","1Y","ALL"],Ft=10,Rt=4,Mt="EQDmkj65Ab_m0aZaW8IpKw4kYqIgITw_HRstYEkVQ6NIYCyW",Ut=30,Ht=["EQAPZauWVPUcm2hUJT9n36pxznEhl46rEn1bzBXN0RY_yiy2","EQASgm0Qv3h2H2mF0W06ikPqYq2ctT3dyXMJH_svbEKKB3iZ","EQArlmP-RhVIG2yAFGZyPZfM3m0YccxmpvoRi6sgRzWnAA0s","EQA6pL-spYqZp1Ck6o3rpY45Cl-bvLMW_j3qdVejOkUWpLnm","EQBJ_ehYjumQKbXfWUue1KHKXdTm1GuYJB0Fj2ST_DwORvpd","EQBRmYSjxh9xlZpUqEmGjF5UjukI9v_Cm2kCTu4CoBn3XkOD","EQBkiqncd7AFT5_23H-RoA2Vynk-Nzq_dLoeMVRthAU9RF0p","EQB_OzTHXbztABe0QHgr4PtAV8T64LR6aDunXgaAoihOdxwO","EQCL-x5kLg6tKVNGryItTuj6tG3FH5mhUEu0xRqQc-kbEmbe","EQCZh2yJ46RaQH3AYmjEA8SMMXi77Oein4-3lvqkHseIAhD-","EQChKo5IK3iNqUHUGDB9gtzjCjMTPtmsFqekuCA2MdreVEyu","EQC6DNCBv076TIliRMfOt20RpbS7rNKDfSky3WrFEapFt8AH","EQDE_XFZOYae_rl3ZMsgBCtRSmYhl8B4y2BZEP7oiGBDhlgy","EQDddqpGA2ePXQF47A2DSL3GF6ZzIVmimfM2d16cdymy2noT","EQDv0hNNAamhYltCh3pTJrq3oRB9RW2ZhEYkTP6fhj5BtZNu","EQD2mP7zgO7-imUJhqYry3i07aJ_SR53DaokMupfAAobt0Xw"],Wt="EQB3zOTvPi1PmwdcTpqSfFKZnhi1GNKEVJM-LdoAirdLtash",$t=30000000n,Vt="claim",zt="UQBpst3ZWJ9Dqq5gE2YH-yPsFK_BqMOmgi7Z_qK6v7WbrKhq",qt="Mint card",Kt="⭐️",jt="https://giveaway.mytonwallet.io",Yt=[{value:"never",name:"Disabled",selectedName:"Disabled",period:0},{value:"1",name:"30 seconds",selectedName:"If away for 30 sec",period:3e4},{value:"2",name:"3 minutes",selectedName:"If away for 3 min",period:18e4},{value:"3",name:"10 minutes",selectedName:"If away for 10 min",period:6e5}],Gt=new Set(["82566ad72b6568fe7276437d3b0c911aab65ed701c13601941b2917305e81c11","ec614ea4aaea3f7768606f1c1632b3374d3de096a1e7c4ba43c8009c487fee9d","c0f9d14fbc8e14f0d72cba2214165eee35836ab174130912baf9dbfa43ead562","1275095b6da3911292406f4f4386f9e780099b854c6dee9ee2895ddce70927c1","5d01684bdf1d5c9be2682c4e36074202432628bd3477d77518d66b0976b78cca","173e31eee054cb0c76f77edc7956bed766bf48a1f63bd062d87040dcd3df700f","5226dd4e6db9af26b24d5ca822bc4053b7e08152f923932abf25030c7e38bb42","fea2c08a704e5192b7f37434927170440d445b87aab865c3ea2a68abe7168204","e691cf9081a8aeb22ed4d94829f6626c9d822752e035800b5543c43f83d134b5","301ce25925830d713b326824e552e962925c4ff45b1e3ea21fc363a459a49b43","02250f83fbb8624d859c2c045ac70ee2b3b959688c3d843aec773be9b36dbfc3","dba3adb2c917db80fd71a6a68c1fc9e12976491a8309d5910f9722efc084ce4d","7da9223b90984d6a144e71611a8d7c65a6298cad734faed79438dc0f7a8e53d1"]),Qt=new Set([rt,"ton-eqcbzvsfwq"]),Xt=.875,Jt={type:"liquid",id:"liquid",tokenSlug:Xe.slug,annualYield:3.9,yieldType:"APY",balance:0n,pool:We,tokenBalance:0n,unstakeRequestAmount:0n,instantAvailable:0n},Zt={type:"nominators",id:"nominators",tokenSlug:Xe.slug,annualYield:3.9,yieldType:"APY",balance:0n,pool:"Ef8dgIOIRyCLU0NEvF8TD6Me3wrbrkS1z3Gpjk3ppd8m8-s_",start:0,end:0,pendingDepositAmount:0n},en="https://jvault.xyz",tn=[{suffixes:["ton"],baseFormat:/^([-\da-z]+\.){0,2}[-\da-z]{4,126}$/i,resolver:"EQC3dNlesgVD8YbAazcauIrXBPfiVhMMr5YYk2in0Mtsz0Bz",collectionName:"TON DNS Domains"},{suffixes:["t.me"],baseFormat:/^([-\da-z]+\.){0,2}[-_\da-z]{4,32}$/i,resolver:"EQCA14o1-VWhS2efqoh_9M1b_A9DtKTuoqfmkn83AbJzwnPi",isTelemint:!0,collectionName:"Telegram Usernames"},{suffixes:["vip","ton.vip","vip.ton"],baseFormat:/^([-\da-z]+\.){0,2}?[\da-z]{1,24}$/i,resolver:"EQBWG4EBbPDv4Xj7xlPwzxd7hSyHMzwwLB5O6rY-0BBeaixS",collectionName:"VIP DNS Domains",isUnofficial:!0},{suffixes:["gram"],baseFormat:/^([-\da-z]+\.){0,2}[\da-z]{1,127}$/i,resolver:"EQAic3zPce496ukFDhbco28FVsKKl2WUX_iJwaL87CBxSiLQ",collectionName:"GRAM DNS Domains",isUnofficial:!0}]},48805:(e,t,n)=>{"use strict";n.d(t,{z:()=>f});var a=1e6,o="[big.js] ",r=o+"Invalid ",i=r+"decimal places",s=r+"rounding mode",l=o+"Division by zero",c={},d=void 0,u=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function m(e,t,n,a){var o=e.c;if(n===d&&(n=e.constructor.RM),0!==n&&1!==n&&2!==n&&3!==n)throw Error(s);if(t<1)a=3===n&&(a||!!o[0])||0===t&&(1===n&&o[0]>=5||2===n&&(o[0]>5||5===o[0]&&(a||o[1]!==d))),o.length=1,a?(e.e=e.e-t+1,o[0]=1):o[0]=e.e=0;else if(t<o.length){if(a=1===n&&o[t]>=5||2===n&&(o[t]>5||5===o[t]&&(a||o[t+1]!==d||1&o[t-1]))||3===n&&(a||!!o[0]),o.length=t,a)for(;++o[--t]>9;)if(o[t]=0,0===t){++e.e,o.unshift(1);break}for(t=o.length;!o[--t];)o.pop()}return e}function p(e,t,n){var a=e.e,o=e.c.join(""),r=o.length;if(t)o=o.charAt(0)+(r>1?"."+o.slice(1):"")+(a<0?"e":"e+")+a;else if(a<0){for(;++a;)o="0"+o;o="0."+o}else if(a>0)if(++a>r)for(a-=r;a--;)o+="0";else a<r&&(o=o.slice(0,a)+"."+o.slice(a));else r>1&&(o=o.charAt(0)+"."+o.slice(1));return e.s<0&&n?"-"+o:o}c.abs=function(){var e=new this.constructor(this);return e.s=1,e},c.cmp=function(e){var t,n=this,a=n.c,o=(e=new n.constructor(e)).c,r=n.s,i=e.s,s=n.e,l=e.e;if(!a[0]||!o[0])return a[0]?r:o[0]?-i:0;if(r!=i)return r;if(t=r<0,s!=l)return s>l^t?1:-1;for(i=(s=a.length)<(l=o.length)?s:l,r=-1;++r<i;)if(a[r]!=o[r])return a[r]>o[r]^t?1:-1;return s==l?0:s>l^t?1:-1},c.div=function(e){var t=this,n=t.constructor,o=t.c,r=(e=new n(e)).c,s=t.s==e.s?1:-1,c=n.DP;if(c!==~~c||c<0||c>a)throw Error(i);if(!r[0])throw Error(l);if(!o[0])return e.s=s,e.c=[e.e=0],e;var u,p,f,h,g,v=r.slice(),w=u=r.length,y=o.length,b=o.slice(0,u),E=b.length,k=e,C=k.c=[],N=0,S=c+(k.e=t.e-e.e)+1;for(k.s=s,s=S<0?0:S,v.unshift(0);E++<u;)b.push(0);do{for(f=0;f<10;f++){if(u!=(E=b.length))h=u>E?1:-1;else for(g=-1,h=0;++g<u;)if(r[g]!=b[g]){h=r[g]>b[g]?1:-1;break}if(!(h<0))break;for(p=E==u?r:v;E;){if(b[--E]<p[E]){for(g=E;g&&!b[--g];)b[g]=9;--b[g],b[E]+=10}b[E]-=p[E]}for(;!b[0];)b.shift()}C[N++]=h?f:++f,b[0]&&h?b[E]=o[w]||0:b=[o[w]]}while((w++<y||b[0]!==d)&&s--);return C[0]||1==N||(C.shift(),k.e--,S--),N>S&&m(k,S,n.RM,b[0]!==d),k},c.eq=function(e){return 0===this.cmp(e)},c.gt=function(e){return this.cmp(e)>0},c.gte=function(e){return this.cmp(e)>-1},c.lt=function(e){return this.cmp(e)<0},c.lte=function(e){return this.cmp(e)<1},c.minus=c.sub=function(e){var t,n,a,o,r=this,i=r.constructor,s=r.s,l=(e=new i(e)).s;if(s!=l)return e.s=-l,r.plus(e);var c=r.c.slice(),d=r.e,u=e.c,m=e.e;if(!c[0]||!u[0])return u[0]?e.s=-l:c[0]?e=new i(r):e.s=1,e;if(s=d-m){for((o=s<0)?(s=-s,a=c):(m=d,a=u),a.reverse(),l=s;l--;)a.push(0);a.reverse()}else for(n=((o=c.length<u.length)?c:u).length,s=l=0;l<n;l++)if(c[l]!=u[l]){o=c[l]<u[l];break}if(o&&(a=c,c=u,u=a,e.s=-e.s),(l=(n=u.length)-(t=c.length))>0)for(;l--;)c[t++]=0;for(l=t;n>s;){if(c[--n]<u[n]){for(t=n;t&&!c[--t];)c[t]=9;--c[t],c[n]+=10}c[n]-=u[n]}for(;0===c[--l];)c.pop();for(;0===c[0];)c.shift(),--m;return c[0]||(e.s=1,c=[m=0]),e.c=c,e.e=m,e},c.mod=function(e){var t,n=this,a=n.constructor,o=n.s,r=(e=new a(e)).s;if(!e.c[0])throw Error(l);return n.s=e.s=1,t=1==e.cmp(n),n.s=o,e.s=r,t?new a(n):(o=a.DP,r=a.RM,a.DP=a.RM=0,n=n.div(e),a.DP=o,a.RM=r,this.minus(n.times(e)))},c.neg=function(){var e=new this.constructor(this);return e.s=-e.s,e},c.plus=c.add=function(e){var t,n,a,o=this,r=o.constructor;if(e=new r(e),o.s!=e.s)return e.s=-e.s,o.minus(e);var i=o.e,s=o.c,l=e.e,c=e.c;if(!s[0]||!c[0])return c[0]||(s[0]?e=new r(o):e.s=o.s),e;if(s=s.slice(),t=i-l){for(t>0?(l=i,a=c):(t=-t,a=s),a.reverse();t--;)a.push(0);a.reverse()}for(s.length-c.length<0&&(a=c,c=s,s=a),t=c.length,n=0;t;s[t]%=10)n=(s[--t]=s[t]+c[t]+n)/10|0;for(n&&(s.unshift(n),++l),t=s.length;0===s[--t];)s.pop();return e.c=s,e.e=l,e},c.pow=function(e){var t=this,n=new t.constructor("1"),a=n,o=e<0;if(e!==~~e||e<-1e6||e>1e6)throw Error(r+"exponent");for(o&&(e=-e);1&e&&(a=a.times(t)),e>>=1;)t=t.times(t);return o?n.div(a):a},c.prec=function(e,t){if(e!==~~e||e<1||e>a)throw Error(r+"precision");return m(new this.constructor(this),e,t)},c.round=function(e,t){if(e===d)e=0;else if(e!==~~e||e<-a||e>a)throw Error(i);return m(new this.constructor(this),e+this.e+1,t)},c.sqrt=function(){var e,t,n,a=this,r=a.constructor,i=a.s,s=a.e,l=new r("0.5");if(!a.c[0])return new r(a);if(i<0)throw Error(o+"No square root");0===(i=Math.sqrt(a+""))||i===1/0?((t=a.c.join("")).length+s&1||(t+="0"),s=((s+1)/2|0)-(s<0||1&s),e=new r(((i=Math.sqrt(t))==1/0?"5e":(i=i.toExponential()).slice(0,i.indexOf("e")+1))+s)):e=new r(i+""),s=e.e+(r.DP+=4);do{n=e,e=l.times(n.plus(a.div(n)))}while(n.c.slice(0,s).join("")!==e.c.slice(0,s).join(""));return m(e,(r.DP-=4)+e.e+1,r.RM)},c.times=c.mul=function(e){var t,n=this,a=n.constructor,o=n.c,r=(e=new a(e)).c,i=o.length,s=r.length,l=n.e,c=e.e;if(e.s=n.s==e.s?1:-1,!o[0]||!r[0])return e.c=[e.e=0],e;for(e.e=l+c,i<s&&(t=o,o=r,r=t,c=i,i=s,s=c),t=new Array(c=i+s);c--;)t[c]=0;for(l=s;l--;){for(s=0,c=i+l;c>l;)s=t[c]+r[l]*o[c-l-1]+s,t[c--]=s%10,s=s/10|0;t[c]=s}for(s?++e.e:t.shift(),l=t.length;!t[--l];)t.pop();return e.c=t,e},c.toExponential=function(e,t){var n=this,o=n.c[0];if(e!==d){if(e!==~~e||e<0||e>a)throw Error(i);for(n=m(new n.constructor(n),++e,t);n.c.length<e;)n.c.push(0)}return p(n,!0,!!o)},c.toFixed=function(e,t){var n=this,o=n.c[0];if(e!==d){if(e!==~~e||e<0||e>a)throw Error(i);for(e=e+(n=m(new n.constructor(n),e+n.e+1,t)).e+1;n.c.length<e;)n.c.push(0)}return p(n,!1,!!o)},c[Symbol.for("nodejs.util.inspect.custom")]=c.toJSON=c.toString=function(){var e=this,t=e.constructor;return p(e,e.e<=t.NE||e.e>=t.PE,!!e.c[0])},c.toNumber=function(){var e=Number(p(this,!0,!0));if(!0===this.constructor.strict&&!this.eq(e.toString()))throw Error(o+"Imprecise conversion");return e},c.toPrecision=function(e,t){var n=this,o=n.constructor,i=n.c[0];if(e!==d){if(e!==~~e||e<1||e>a)throw Error(r+"precision");for(n=m(new o(n),e,t);n.c.length<e;)n.c.push(0)}return p(n,e<=n.e||n.e<=o.NE||n.e>=o.PE,!!i)},c.valueOf=function(){var e=this,t=e.constructor;if(!0===t.strict)throw Error(o+"valueOf disallowed");return p(e,e.e<=t.NE||e.e>=t.PE,!0)};var f=function e(){function t(n){var a=this;if(!(a instanceof t))return n===d?e():new t(n);if(n instanceof t)a.s=n.s,a.e=n.e,a.c=n.c.slice();else{if("string"!=typeof n){if(!0===t.strict&&"bigint"!=typeof n)throw TypeError(r+"value");n=0===n&&1/n<0?"-0":String(n)}!function(e,t){var n,a,o;if(!u.test(t))throw Error(r+"number");for(e.s="-"==t.charAt(0)?(t=t.slice(1),-1):1,(n=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(n<0&&(n=a),n+=+t.slice(a+1),t=t.substring(0,a)):n<0&&(n=t.length),o=t.length,a=0;a<o&&"0"==t.charAt(a);)++a;if(a==o)e.c=[e.e=0];else{for(;o>0&&"0"==t.charAt(--o););for(e.e=n-a-1,e.c=[],n=0;a<=o;)e.c[n++]=+t.charAt(a++)}}(a,n)}a.constructor=t}return t.prototype=c,t.DP=20,t.RM=1,t.NE=-7,t.PE=21,t.strict=!1,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}()},66644:(e,t,n)=>{"use strict";n.d(t,{RK:()=>m,YS:()=>u,gm:()=>p});var a=n(50110),o=n(37836),r=n(75357);let i=[],s=[],l=[];const c=(d=()=>{const e=i;i=[],e.forEach((e=>{(0,a.A)(e)})),Promise.resolve().then((()=>{(0,r.A)("mutate");const e=s;s=[],e.forEach((e=>{(0,a.A)(e)}))})).then((()=>{(0,r.A)("measure");const e=[];for(const t of l)(0,a.A)((()=>{const n=t();n&&e.push(n)}));return l=[],e})).then((e=>{(0,r.A)("mutate");for(const t of e)(0,a.A)(t)})).then((()=>{(0,r.A)("measure")}))},(0,o.nb)((e=>{(0,o.IJ)(e,!0)}),d));var d;function u(e){i.push(e),c()}function m(e){s.push(e),c()}function p(e){l.push(e),c()}},75357:(e,t,n)=>{"use strict";n.d(t,{Z3:()=>d,A:()=>c,bo:()=>m});const a={Element:{props:["clientLeft","clientTop","clientWidth","clientHeight","scrollWidth","scrollHeight","scrollLeft","scrollTop"],methods:["getClientRects","getBoundingClientRect","scrollBy","scrollTo","scrollIntoView","scrollIntoViewIfNeeded"]},HTMLElement:{props:["offsetLeft","offsetTop","offsetWidth","offsetHeight","offsetParent","innerText"],methods:["focus"]},window:{props:["scrollX","scrollY","innerHeight","innerWidth"],methods:["getComputedStyle"]},VisualViewport:{props:["height","width","offsetTop","offsetLeft"]},Document:{props:["scrollingElement"],methods:["elementFromPoint"]},HTMLInputElement:{methods:["select"]},MouseEvent:{props:["layerX","layerY","offsetX","offsetY"]},Range:{methods:["getClientRects","getBoundingClientRect"]}};let o=console.error;const r=new Map;let i,s="measure",l=!1;function c(e){s=e}function d(){l||(l=!0,Object.entries(a).forEach((e=>{let[t,n]=e;const a=window[t];if(!a)return;const o="object"==typeof a?a:a.prototype;"props"in n&&n.props.forEach((e=>{var n;const a=null===(n=Object.getOwnPropertyDescriptor(o,e))||void 0===n?void 0:n.get;a&&(r.set(`${t}#${e}`,a),Object.defineProperty(o,e,{get(){return p(e),a.call(this)}}))})),"methods"in n&&n.methods.forEach((e=>{const n=o[e];r.set(`${t}#${e}`,n),o[e]=function(){p(e);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return n.apply(this,a)}}))})),i=new MutationObserver((e=>{"mutate"!==s&&e.forEach((e=>{let{target:t,type:n,attributeName:a}=e;document.contains(t)&&(u.has(t)||"childList"===n&&t instanceof HTMLElement&&t.contentEditable||null!=a&&a.startsWith("data-")||o(new Error(`Unexpected mutation detected: \`${"attributes"===n?a:n}\``)))})),u.clear()})),i.observe(document.body,{childList:!0,attributes:!0,subtree:!0,characterData:!1}))}const u=new Set;function m(e){if(!l)return e();var t;l&&(null===(t=i)||void 0===t||t.disconnect(),i=void 0,Object.entries(a).forEach((e=>{let[t,n]=e;const a=window[t];if(!a)return;const o="object"==typeof a?a:a.prototype;"props"in n&&n.props.forEach((e=>{const n=r.get(`${t}#${e}`);n&&Object.defineProperty(o,e,{get:n})})),"methods"in n&&n.methods.forEach((e=>{o[e]=r.get(`${t}#${e}`)}))})),r.clear(),l=!1);const n=e();return d(),n}function p(e){"measure"!==s&&o(new Error(`Unexpected measurement detected: \`${e}\``))}},9705:(e,t,n)=>{"use strict";function a(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{A:()=>o});class o{constructor(){a(this,"promise",void 0),a(this,"reject",void 0),a(this,"resolve",void 0),this.promise=new Promise(((e,t)=>{this.reject=t,this.resolve=e}))}static resolved(e){const t=new o;return t.resolve(e),t}}},5130:(e,t,n)=>{"use strict";n.d(t,{U:()=>l});var a=n(809),o=n(14235),r=n(55029);function i(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s{constructor(e,t,n,a){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"*";this.target=e,this.onUpdate=t,this.channel=n,this.shouldUseJson=a,this.targetOrigin=o,i(this,"requestStates",new Map),i(this,"requestStatesByCallback",new Map)}destroy(){}init(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.postMessage({type:"init",args:t})}request(e){const{requestStates:t,requestStatesByCallback:n}=this,a=(0,o.A)(),r={type:"callMethod",messageId:a,...e},i={messageId:a},s=new Promise(((e,t)=>{Object.assign(i,{resolve:e,reject:t})}));if("function"==typeof r.args[r.args.length-1]){r.withCallback=!0;const e=r.args.pop();i.callback=e,n.set(e,i)}return t.set(a,i),s.catch((()=>{})).finally((()=>{t.delete(a),i.callback&&n.delete(i.callback)})),this.postMessage(r),s}cancelCallback(e){e.isCanceled=!0;const{messageId:t}=this.requestStatesByCallback.get(e)||{};t&&this.postMessage({type:"cancelProgress",messageId:t})}onMessage(e){if("string"==typeof e)try{e=JSON.parse(e,a.bk)}catch(e){return void(0,r.SJ)("PostMessageConnector: Failed to parse message",e)}const{requestStates:t,channel:n}=this;if(e.channel===n)if("update"===e.type&&this.onUpdate&&this.onUpdate(e.update),"methodResponse"===e.type){const n=t.get(e.messageId);n&&(e.error?n.reject(e.error):n.resolve(e.response))}else if("methodCallback"===e.type){var o;const n=t.get(e.messageId);null==n||null===(o=n.callback)||void 0===o||o.call(n,...e.callbackArgs)}else if("unhandledError"===e.type){var i,s;const t=new Error(null===(i=e.error)||void 0===i?void 0:i.message);throw null!==(s=e.error)&&void 0!==s&&s.stack&&(t.stack=e.error.stack),t}}postMessage(e){e.channel=this.channel;let t=e;this.shouldUseJson&&(t=JSON.stringify(e)),"open"in this.target?this.target.postMessage(t,this.targetOrigin):this.target.postMessage(t)}}function l(e,t,n,a){const o=new s(e,t,n,void 0,a);function r(e){let{data:t}=e;o.onMessage(t)}return e.addEventListener("message",r),o.destroy=()=>{e.removeEventListener("message",r)},o}},86243:(e,t,n)=>{"use strict";function a(e){const t=e.split("-"),[n,a="mainnet"]=3===t.length?[t[0],t[2]]:t;return{id:Number(n),network:a}}function o(e){const{id:t,network:n}=e;return`${t}-${n}`}n.d(t,{c:()=>a,z:()=>o})},19822:(e,t,n)=>{"use strict";n.d(t,{Hd:()=>s,ZM:()=>l,i0:()=>o,iT:()=>r,qM:()=>i});var a=n(66644);function o(e,t){t((()=>{e()&&o(e,t)}))}function r(e,t){e()&&t((()=>{r(e,t)}))}const i={linear:e=>e,easeIn:e=>e**1.675,easeOut:e=>-1*e**1.675,easeInOut:e=>.5*(Math.sin((e-.5)*Math.PI)+1),easeInQuad:e=>e*e,easeOutQuad:e=>e*(2-e),easeInOutQuad:e=>e<.5?2*e*e:(4-2*e)*e-1,easeInCubic:e=>e**3,easeOutCubic:e=>--e*e*e+1,easeInOutCubic:e=>e<.5?4*e**3:(e-1)*(2*e-2)*(2*e-2)+1,easeInQuart:e=>e**4,easeOutQuart:e=>1- --e*e**3,easeInOutQuart:e=>e<.5?8*e**4:1-8*--e*e**3,easeInQuint:e=>e**5,easeOutQuint:e=>1+--e*e**4,easeInOutQuint:e=>e<.5?16*e**5:1+16*--e*e**4};function s(e){let{timing:t=i.linear,onUpdate:n,duration:o,onEnd:s,from:l,to:c}=e;const d=Date.now();let u=!1;return r((()=>{if(u)return!1;const e=Date.now(),a=Math.min((e-d)/o,1),r=t(a);if("number"==typeof l&&"number"==typeof c)n(l+(c-l)*r);else if(Array.isArray(l)&&Array.isArray(c)){const e=l.map(((e,t)=>e+(c[t]-e)*r));n(e)}return 1===a&&(null==s||s()),a<1}),a.YS),()=>{u=!0,null==s||s(!0)}}function l(e,t){Object.assign(e.style,t)}},59288:(e,t,n)=>{"use strict";n.d(t,{p:()=>a});class a extends Error{constructor(e,t){super(e),this.metadata=t}}},809:(e,t,n)=>{"use strict";n.d(t,{UA:()=>u,_O:()=>d,bk:()=>i,fC:()=>l,m1:()=>c,tH:()=>r,wg:()=>s});var a=n(31481),o=n(398);const r="bigint:";function i(e,t){return"string"==typeof t&&t.startsWith(r)?BigInt(t.slice(7)):t}function s(e){return-0n===e||e<0n?-e:e}function l(e,t){return e*a.X1K/(0,o.UH)(t)}function c(e,t){return e*(0,o.UH)(t)/a.X1K}function d(e,t){return e>t?e:t}function u(e,t){return e<t?e:t}},10309:(e,t,n)=>{"use strict";n.d(t,{CS:()=>f,N5:()=>c,TK:()=>d,YG:()=>l,Z2:()=>o,d_:()=>i,fU:()=>m,mf:()=>u,pY:()=>r});var a=n(19314);const o=1e3,r=60*o,i=60*r*24,s=(0,a.A)((function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"short",o=arguments.length>4?arguments[4]:void 0,r=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return new Date(t).toLocaleString(e,{year:n?void 0:"numeric",month:a||void 0,day:o?void 0:"numeric",hour:r?"numeric":void 0,minute:r?"numeric":void 0,hourCycle:"h23"})}));function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en";const t=(arguments.length>1?arguments[1]:void 0)-Date.now(),n=Math.floor(t/1e3/60%60),a=Math.floor(t/36e5%24),o=Math.floor(t/1e3/3600/24),r=new Intl.RelativeTimeFormat(e,{localeMatcher:"best fit",numeric:"always",style:"long"}),i=[];if(o>0){const[e,t]=r.formatToParts(o,"day").reverse();i.push(`${t.value}${e.value}`)}if(a>0){const[e,t]=r.formatToParts(a,"hour").reverse();i.push(`${t.value}${e.value}`)}if(n>0){const[e,t]=r.formatToParts(n,"minute").reverse();i.push(`${t.value}${e.value}`)}return i.join(" ")}function c(e,t){return function(e){return f(new Date)===f(new Date(e))}(t)?e("Today"):function(e){const t=new Date;return t.setDate(t.getDate()-1),f(t)===f(new Date(e))}(t)?e("Yesterday"):d(e.code,t)}function d(e,t){const n=new Date(t),a=f(n),o=p(new Date),r=n.getFullYear()===o.getFullYear();return s(e,a,r,"long")}function u(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=new Date(t),r=f(o),i=p(new Date),l=f(i),c=n&&r===l,d=n?function(e){const t=new Date(e);return t.setSeconds(0,0),t}(o).getTime():r;return a||(a=o.getFullYear()===i.getFullYear()),s(e,d,a,!c&&"short",c,n)}function m(e){const t=new Date(e);return`${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}`}function p(e){const t=new Date(e);return t.setHours(0,0,0,0),t}function f(e){return p(e).getTime()}},398:(e,t,n)=>{"use strict";n.d(t,{CF:()=>l,QQ:()=>c,UH:()=>i,nI:()=>s});var a=n(31481),o=n(48805);o.z.RM=0,o.z.NE=-1e5,o.z.PE=1e5;const r=(0,o.z)(10);function i(e,t){return BigInt((0,o.z)(e).mul(r.pow(null!=t?t:a.Tu9.decimals)).round().toString())}function s(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return l(e,null!=t?t:a.Tu9.decimals,n).toString()}function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.Tu9.decimals,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,o.z)(e.toString()).div(r.pow(t)).round(t,n?o.z.roundHalfUp:void 0)}function c(e,t){return(0,o.z)(e).round(t).toString()}},67491:(e,t,n)=>{"use strict";n.d(t,{iy:()=>o});var a=n(31481);function o(e){return void 0!==function(e){for(const t of a.gs5){const{suffixes:n,baseFormat:o,isUnofficial:r}=t;if(!a.TI6||!r)for(let a=n.length-1;a>=0;a--){const r=n[a];if(!e.endsWith(`.${r}`))continue;const i=e.slice(0,-r.length-1);if(o.test(i))return{base:i,zone:t}}}}(e)}},1689:(e,t,n)=>{"use strict";n.d(t,{B:()=>a});const a=n(31481).hL1&&!["chrome-extension:","moz-extension:"].includes(self.location.protocol)},14235:(e,t,n)=>{"use strict";function a(){return Date.now().toString(36)+Math.random().toString(36).slice(2)}n.d(t,{A:()=>a})},36791:(e,t,n)=>{"use strict";function a(){const{userAgent:e,platform:t}=window.navigator;return/Android/.test(e)?"Android":/Linux/.test(t)?"Linux":-1!==["iPhone","iPad","iPod"].indexOf(t)||"MacIntel"===t&&"maxTouchPoints"in navigator&&navigator.maxTouchPoints>2?"iOS":-1!==["Macintosh","MacIntel","MacPPC","Mac68K"].indexOf(t)?"macOS":-1!==["Win32","Win64","Windows","WinCE"].indexOf(t)?"Windows":void 0}n.d(t,{u:()=>a})},2188:(e,t,n)=>{"use strict";n.d(t,{H:()=>u});var a=n(31481),o=n(10309),r=n(1689),i=n(55029),s=n(37836);const l=("development"===a.Guj||"staging"===a.Guj)&&"object"==typeof window&&!r.B,c=(0,s.nF)((e=>window.alert(e)),10*o.Z2);function d(e){e instanceof ErrorEvent&&"ResizeObserver loop limit exceeded"===e.message||(e.preventDefault(),u(e instanceof ErrorEvent?e.error||e.message:e.reason))}function u(e){(0,i.SJ)("handleError",e);const t="string"==typeof e?e:e.message,n="object"==typeof e?e.stack:void 0;t.endsWith("Failed to import rlottie-wasm.js")||l&&c(`${a.FHx}\n\n${t||e}\n${n}`)}self.addEventListener("error",d),self.addEventListener("unhandledrejection",d)},87894:(e,t,n)=>{"use strict";function a(e,t){return e.reduce(((e,n)=>(e[n[t]]=n,e)),{})}function o(e,t){return Object.keys(e).reduce(((n,a,o)=>(n[a]=t(e[a],a,o,e),n)),{})}function r(e,t){return t.reduce(((t,n)=>(t[n]=e[n],t)),{})}function i(e,t){return t.reduce(((t,n)=>(e[n]&&(t[n]=e[n]),t)),{})}function s(e,t){const n=new Set(t.map(String));return r(e,Object.keys(e).filter((e=>!n.has(e))))}function l(e){return Object.keys(e).reduce(((t,n)=>{const a=n;return void 0!==e[a]&&(t[a]=e[a]),t}),{})}function c(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"asc";function a(e,t,n,a){const o=("function"==typeof n?n(e):e[n])||0,r=("function"==typeof n?n(t):t[n])||0;return o===r?0:(a?o>r:o<r)?1:-1}if(Array.isArray(t)){const[o,r]=Array.isArray(n)?n:[n,n],[i,s]=t,l="asc"===o,c="asc"===r;return e.sort(((e,t)=>a(e,t,i,l)||a(e,t,s,c)))}const o="asc"===n;return e.sort(((e,n)=>a(e,n,t,o)))}function d(e){return Array.from(new Set(e))}function u(e){return e.filter(Boolean)}function m(e,t){return e.length===t.length&&e.every(((e,n)=>e===t[n]))}function p(e){return h(e)?Array.isArray(e)?e.map(p):Object.keys(e).reduce(((t,n)=>(t[n]=p(e[n]),t)),{}):e}function f(e){return h(e)&&!Array.isArray(e)}function h(e){return"object"==typeof e&&null!==e}function g(e,t){let n=e.length;for(;n--;)if(t(e[n],n,e))return e[n]}function v(e,t){return e.map((e=>e[t]))}function w(e,t){const n=new Set(t);return e.filter((e=>!n.has(e)))}function y(e,t){return Object.keys(e).reduce(((n,a,o)=>(t(e[a],a,o,e)&&(n[a]=e[a]),n)),{})}function b(e,t,n){n&&(e=Array.from(e)).reverse();const a=[...new Map(e.map((e=>[e[t],e]))).values()];return n&&a.reverse(),a}n.d(t,{Am:()=>d,Hl:()=>w,JY:()=>v,LG:()=>o,My:()=>c,Oy:()=>l,Uk:()=>g,Up:()=>r,Vh:()=>f,_E:()=>i,cJ:()=>s,dU:()=>a,k:()=>m,lk:()=>y,mg:()=>p,oE:()=>u,sq:()=>b})},41074:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>s,M1:()=>l,bP:()=>r});var a=n(31481),o=n(5130);const r=Math.min(navigator.hardwareConcurrency||4,4);let i;function s(){return a.W75?[]:(i||(i=new Array(r).fill(void 0).map((()=>{const e=new Worker(new URL(n.p+n.u(771),n.b));return{worker:e,connector:(0,o.U)(e)}}))),i)}function l(e,t){return s()[t].connector.request(e)}},99544:(e,t,n)=>{"use strict";n.d(t,{HN:()=>i,Vq:()=>r});const a=120,o=new Set(["DisconnectedDeviceDuringOperation","TransportRaceCondition"]);function r(e){return function(e){for(let t=0;t<e.length;t++)if(e.charCodeAt(t)>127)return!1;return!0}(e)&&function(e){return e.length<=a}(e)}function i(e){return o.has(e)}},55029:(e,t,n)=>{"use strict";n.d(t,{MD:()=>p,Q:()=>u,SJ:()=>m,ao:()=>d,ef:()=>h,kJ:()=>f});var a=n(31481),o=n(59288),r=n(87894);const i=999,s=[];function l(e,t){return t instanceof Error?{name:t.name,message:t.message,stack:t.stack,metadata:t instanceof o.p?t.metadata:void 0}:t}function c(e){s.length>i&&s.shift(),s.push({...e,args:e.args.map((e=>JSON.stringify(e,l))),time:new Date})}function d(){return s}function u(e,t){a.dlH&&("apiUpdate"===e?"string"==typeof(null==t?void 0:t.type)&&"updatingStatus"!==t.type&&f(`Update: ${t.type}`,(0,r.cJ)(t,["type"])):f(`Action: ${e}`,t))}function m(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];c({message:e,level:"debugError",args:n}),a.Oig&&console.error(`[DEBUG][${e}]`,...n)}function p(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];c({message:e,level:"debug",args:n}),a.Oig&&console.log(`[DEBUG] ${e}`,...n)}function f(e,t,n){a.dlH&&(console.debug(`[DEBUG] ${e}`),t&&console.dir(t),n&&console.dir(n))}function h(){const e={en:"WARNING! This console can be a way for bad people to take over your crypto wallet through something called a Self-XSS attack. So, don't put in or paste code you don't understand. Stay safe!",ru:"ВНИМАНИЕ! Через эту консоль злоумышленники могут захватить ваш криптовалютный кошелёк с помощью так называемой атаки Self-XSS. Поэтому не вводите и не вставляйте код, который вы не понимаете. Берегите себя!",es:"¡ADVERTENCIA! Esta consola puede ser una forma en que las personas malintencionadas se apoderen de su billetera de criptomonedas mediante un ataque llamado Self-XSS. Por lo tanto, no introduzca ni pegue código que no comprenda. ¡Cuídese!",zh:"警告！这个控制台可能成为坏人通过所谓的Self-XSS攻击来接管你的加密货币钱包的方式。因此，请不要输入或粘贴您不理解的代码。请保护自己！"},t=e[navigator.language.split("-")[0]]||e.en;console.log("%c%s","color: red; background: yellow; font-size: 18px;",t)}},50110:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var a=n(31481),o=n(2188);const r=!a.MVx;function i(e,t){if(!r)return e();const{rescue:n,always:a,shouldIgnoreError:i}=null!=t?t:{};try{return e()}catch(e){return null==n||n(e),void(i||(0,o.H)(e))}finally{null==a||a()}}},37836:(e,t,n)=>{"use strict";function a(e,t){let n,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];n?(clearTimeout(n),n=void 0):a&&e(...i),n=self.setTimeout((()=>{o&&e(...i),n=void 0}),t)}}function o(e,t){let n,a,o,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(){a=!0;for(var i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];o=s,n||(r&&(a=!1,e(...o)),n=self.setInterval((()=>{if(!a)return self.clearInterval(n),void(n=void 0);a=!1,e(...o)}),t))}}function r(e){return i(f,e)}function i(e,t){let n,a=!1;return function(){for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];n=r,a||(a=!0,e((()=>{a=!1,t(...n)})))}}n.d(t,{Fe:()=>r,IJ:()=>p,aj:()=>f,fm:()=>b,kI:()=>w,nF:()=>o,nb:()=>i,sg:()=>a,v7:()=>s,yu:()=>y});const s=e=>new Promise((t=>{setTimeout((()=>t()),e)})),l=35;let c,d,u,m;function p(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];c?c.add(e):(c=new Set([e]),requestAnimationFrame((()=>{const e=c;c=void 0,d=void 0,u&&(clearTimeout(u),u=void 0),e.forEach((e=>e()))}))),t&&(d?d.add(e):d=new Set([e]),u||(u=window.setTimeout((()=>{const e=d;c&&e.forEach(c.delete,c),d=void 0,u&&(clearTimeout(u),u=void 0),e.forEach((e=>e()))}),l)))}function f(e){m?m.push(e):(m=[e],Promise.resolve().then((()=>{const e=m;m=void 0,e.forEach((e=>e()))})))}const h=500;let g,v;function w(e){self.requestIdleCallback?g?g.push(e):(g=[e],requestIdleCallback((e=>{const t=g;for(g=void 0;t.length&&(t.shift()(),e.timeRemaining()););t.length&&(g?g=t.concat(g):t.forEach(w))}),{timeout:h})):f(e)}function y(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return v||(v=[],self.addEventListener("beforeunload",(()=>{v.forEach((e=>e()))}))),t?v.push(e):v.unshift(e),()=>{v=v.filter((t=>t!==e))}}async function b(e,t,n){let a=0,o=e();for(;!o&&a<n;)await s(t),a++,o=e();return o}},82393:(e,t,n)=>{"use strict";n.d(t,{$:()=>F,$q:()=>N,By:()=>g,ED:()=>L,Et:()=>P,Fe:()=>T,H8:()=>u,KI:()=>_,Kc:()=>M,Lv:()=>S,MP:()=>d,Ni:()=>f,TF:()=>y,XS:()=>R,Yw:()=>h,ZH:()=>D,_7:()=>l,bA:()=>B,bs:()=>x,cp:()=>E,iF:()=>b,ig:()=>m,pr:()=>v,pz:()=>p,sC:()=>A,u2:()=>k,uh:()=>I,v3:()=>U,vj:()=>C,xy:()=>O});var a,o=n(31481),r=n(66644),i=n(36791);const s=new Set(["android","android_x","ios"]),l=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone||document.referrer.includes("android-app://"),c=(0,i.u)(),d="macOS"===c,u="Windows"===c,m="Linux"===c,p="iOS"===c,f="Android"===c,h=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),g=navigator.userAgent.includes(" OPR/"),v=navigator.userAgent.includes(" Edg/"),w=navigator.userAgent.includes("Firefox/"),y=window.matchMedia("(pointer: coarse)").matches,b=Boolean(null===(a=window.chrome)||void 0===a?void 0:a.system),E=Boolean(window.electron),k=!(o.UMQ||E||o.hL1||o.tKX),C="en",N=function(){if(o.TI6)return"en";const{language:e}=navigator,t=e.startsWith("zh")?e.endsWith("TW")||e.endsWith("HK")?"zh-Hant":"zh-Hans":e.substring(0,2);return o.gSB.some((e=>{let{langCode:n}=e;return n===t}))?t:"en"}(),S=window.devicePixelRatio||1,A=o.UMQ||!(o.TI6||p||o.v5B||o.tKX),T=n.g.location.hash.startsWith("#detached"),I=Boolean(!o.UMQ&&!o.tKX&&window.navigator.credentials&&(!E||d)),B=o.UMQ&&n.g.location.search.startsWith("?bottom-sheet"),_=o.UMQ&&p&&!B&&!function(){const{userAgent:e,platform:t}=window.navigator;return"iPad"===t||e.includes("iPad")||"MacIntel"===t&&"maxTouchPoints"in navigator&&navigator.maxTouchPoints>2}(),x="BroadcastChannel"in window&&!T,L=o.hL1||E||o.UMQ,D=p&&o.UMQ,O=f&&o.UMQ,P=!(w||o.v5B||o.tKX),F=parseInt(getComputedStyle(document.documentElement).fontSize,10),R=-3.75*F;function M(){const e=document.createElement("div");e.style.cssText="overflow-x: hidden; overflow-y: scroll; visibility:hidden; position:absolute;",e.classList.add("custom-scroll"),document.body.appendChild(e),(0,r.gm)((()=>{const t=e.offsetWidth-e.clientWidth;return()=>{document.documentElement.style.setProperty("--scrollbar-width",`${t}px`),e.remove()}}))}function U(){var e,t;return o.tKX&&s.has(null!==(e=null===(t=window.Telegram)||void 0===t?void 0:t.WebApp.platform)&&void 0!==e?e:"")}},94465:(e,t,n)=>{"use strict";n.r(t),n.d(t,{capacitorStorageClear:()=>u,capacitorStorageGetItem:()=>l,capacitorStorageKeys:()=>m,capacitorStorageRemoveItem:()=>d,capacitorStorageSetItem:()=>c,init:()=>s,localStorageClear:()=>v,localStorageGetAll:()=>w,localStorageGetItem:()=>f,localStorageGetMany:()=>y,localStorageRemoveItem:()=>g,localStorageSetItem:()=>h,localStorageSetMany:()=>b});var a=n(31481);let o,r;const i=new Promise((e=>{r=e}));async function s(){a.UMQ&&!o&&(({SecureStoragePlugin:o}=await n.e(201).then(n.bind(n,5054))),r())}async function l(e){var t;return await i,null===(t=await o.get({key:e}).catch((e=>{if(!("string"==typeof e?e:e.message).includes("key does not exist"))throw e})))||void 0===t?void 0:t.value}async function c(e,t){return await i,o.set({key:e,value:t})}async function d(e){return await i,o.remove({key:e})}async function u(){return await i,o.clear()}async function m(){return await i,o.keys()}var p=n(87894);function f(e){return localStorage.getItem(e)}function h(e,t){return localStorage.setItem(e,t)}function g(e){return localStorage.removeItem(e)}function v(){return localStorage.clear()}function w(){return{...localStorage}}function y(e){return(0,p.Up)(localStorage,e)}function b(e){Object.assign(localStorage,e)}},19314:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});const a=new WeakMap;function o(e){return function(){let t=a.get(e);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];const i=o.map(String).join("_");if(t){const e=t.get(i);if(e)return e}else t=new Map,a.set(e,t);const s=e(...o);return t.set(i,s),s}}},67526:(e,t)=>{"use strict";t.byteLength=function(e){var t=s(e),n=t[0],a=t[1];return 3*(n+a)/4-a},t.toByteArray=function(e){var t,n,r=s(e),i=r[0],l=r[1],c=new o(function(e,t,n){return 3*(t+n)/4-n}(0,i,l)),d=0,u=l>0?i-4:i;for(n=0;n<u;n+=4)t=a[e.charCodeAt(n)]<<18|a[e.charCodeAt(n+1)]<<12|a[e.charCodeAt(n+2)]<<6|a[e.charCodeAt(n+3)],c[d++]=t>>16&255,c[d++]=t>>8&255,c[d++]=255&t;return 2===l&&(t=a[e.charCodeAt(n)]<<2|a[e.charCodeAt(n+1)]>>4,c[d++]=255&t),1===l&&(t=a[e.charCodeAt(n)]<<10|a[e.charCodeAt(n+1)]<<4|a[e.charCodeAt(n+2)]>>2,c[d++]=t>>8&255,c[d++]=255&t),c},t.fromByteArray=function(e){for(var t,a=e.length,o=a%3,r=[],i=16383,s=0,c=a-o;s<c;s+=i)r.push(l(e,s,s+i>c?c:s+i));return 1===o?(t=e[a-1],r.push(n[t>>2]+n[t<<4&63]+"==")):2===o&&(t=(e[a-2]<<8)+e[a-1],r.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),r.join("")};for(var n=[],a=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0;i<64;++i)n[i]=r[i],a[r.charCodeAt(i)]=i;function s(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,a){for(var o,r,i=[],s=t;s<a;s+=3)o=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),i.push(n[(r=o)>>18&63]+n[r>>12&63]+n[r>>6&63]+n[63&r]);return i.join("")}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},48287:(e,t,n)=>{"use strict";const a=n(67526),o=n(251),r="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=l,t.INSPECT_MAX_BYTES=50;const i=2147483647;function s(e){if(e>i)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,l.prototype),t}function l(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return u(e)}return c(e,t,n)}function c(e,t,n){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!l.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|h(e,t);let a=s(n);const o=a.write(e,t);return o!==n&&(a=a.slice(0,o)),a}(e,t);if(ArrayBuffer.isView(e))return function(e){if(G(e,Uint8Array)){const t=new Uint8Array(e);return p(t.buffer,t.byteOffset,t.byteLength)}return m(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(G(e,ArrayBuffer)||e&&G(e.buffer,ArrayBuffer))return p(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(G(e,SharedArrayBuffer)||e&&G(e.buffer,SharedArrayBuffer)))return p(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const a=e.valueOf&&e.valueOf();if(null!=a&&a!==e)return l.from(a,t,n);const o=function(e){if(l.isBuffer(e)){const t=0|f(e.length),n=s(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||Q(e.length)?s(0):m(e):"Buffer"===e.type&&Array.isArray(e.data)?m(e.data):void 0}(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return l.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function d(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function u(e){return d(e),s(e<0?0:0|f(e))}function m(e){const t=e.length<0?0:0|f(e.length),n=s(t);for(let a=0;a<t;a+=1)n[a]=255&e[a];return n}function p(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let a;return a=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(a,l.prototype),a}function f(e){if(e>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|e}function h(e,t){if(l.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||G(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,a=arguments.length>2&&!0===arguments[2];if(!a&&0===n)return 0;let o=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return K(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return j(e).length;default:if(o)return a?-1:K(e).length;t=(""+t).toLowerCase(),o=!0}}function g(e,t,n){let a=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return _(this,t,n);case"utf8":case"utf-8":return A(this,t,n);case"ascii":return I(this,t,n);case"latin1":case"binary":return B(this,t,n);case"base64":return S(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,n);default:if(a)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),a=!0}}function v(e,t,n){const a=e[t];e[t]=e[n],e[n]=a}function w(e,t,n,a,o){if(0===e.length)return-1;if("string"==typeof n?(a=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),Q(n=+n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=l.from(t,a)),l.isBuffer(t))return 0===t.length?-1:y(e,t,n,a,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,a,o);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,a,o){let r,i=1,s=e.length,l=t.length;if(void 0!==a&&("ucs2"===(a=String(a).toLowerCase())||"ucs-2"===a||"utf16le"===a||"utf-16le"===a)){if(e.length<2||t.length<2)return-1;i=2,s/=2,l/=2,n/=2}function c(e,t){return 1===i?e[t]:e.readUInt16BE(t*i)}if(o){let a=-1;for(r=n;r<s;r++)if(c(e,r)===c(t,-1===a?0:r-a)){if(-1===a&&(a=r),r-a+1===l)return a*i}else-1!==a&&(r-=r-a),a=-1}else for(n+l>s&&(n=s-l),r=n;r>=0;r--){let n=!0;for(let a=0;a<l;a++)if(c(e,r+a)!==c(t,a)){n=!1;break}if(n)return r}return-1}function b(e,t,n,a){n=Number(n)||0;const o=e.length-n;a?(a=Number(a))>o&&(a=o):a=o;const r=t.length;let i;for(a>r/2&&(a=r/2),i=0;i<a;++i){const a=parseInt(t.substr(2*i,2),16);if(Q(a))return i;e[n+i]=a}return i}function E(e,t,n,a){return Y(K(t,e.length-n),e,n,a)}function k(e,t,n,a){return Y(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,a)}function C(e,t,n,a){return Y(j(t),e,n,a)}function N(e,t,n,a){return Y(function(e,t){let n,a,o;const r=[];for(let i=0;i<e.length&&!((t-=2)<0);++i)n=e.charCodeAt(i),a=n>>8,o=n%256,r.push(o),r.push(a);return r}(t,e.length-n),e,n,a)}function S(e,t,n){return 0===t&&n===e.length?a.fromByteArray(e):a.fromByteArray(e.slice(t,n))}function A(e,t,n){n=Math.min(e.length,n);const a=[];let o=t;for(;o<n;){const t=e[o];let r=null,i=t>239?4:t>223?3:t>191?2:1;if(o+i<=n){let n,a,s,l;switch(i){case 1:t<128&&(r=t);break;case 2:n=e[o+1],128==(192&n)&&(l=(31&t)<<6|63&n,l>127&&(r=l));break;case 3:n=e[o+1],a=e[o+2],128==(192&n)&&128==(192&a)&&(l=(15&t)<<12|(63&n)<<6|63&a,l>2047&&(l<55296||l>57343)&&(r=l));break;case 4:n=e[o+1],a=e[o+2],s=e[o+3],128==(192&n)&&128==(192&a)&&128==(192&s)&&(l=(15&t)<<18|(63&n)<<12|(63&a)<<6|63&s,l>65535&&l<1114112&&(r=l))}}null===r?(r=65533,i=1):r>65535&&(r-=65536,a.push(r>>>10&1023|55296),r=56320|1023&r),a.push(r),o+=i}return function(e){const t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);let n="",a=0;for(;a<t;)n+=String.fromCharCode.apply(String,e.slice(a,a+=T));return n}(a)}l.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),l.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(e,t,n){return c(e,t,n)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(e,t,n){return function(e,t,n){return d(e),e<=0?s(e):void 0!==t?"string"==typeof n?s(e).fill(t,n):s(e).fill(t):s(e)}(e,t,n)},l.allocUnsafe=function(e){return u(e)},l.allocUnsafeSlow=function(e){return u(e)},l.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==l.prototype},l.compare=function(e,t){if(G(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),G(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,a=t.length;for(let o=0,r=Math.min(n,a);o<r;++o)if(e[o]!==t[o]){n=e[o],a=t[o];break}return n<a?-1:a<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const a=l.allocUnsafe(t);let o=0;for(n=0;n<e.length;++n){let t=e[n];if(G(t,Uint8Array))o+t.length>a.length?(l.isBuffer(t)||(t=l.from(t)),t.copy(a,o)):Uint8Array.prototype.set.call(a,t,o);else{if(!l.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(a,o)}o+=t.length}return a},l.byteLength=h,l.prototype._isBuffer=!0,l.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)v(this,t,t+1);return this},l.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},l.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},l.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?A(this,0,e):g.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){let e="";const n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},r&&(l.prototype[r]=l.prototype.inspect),l.prototype.compare=function(e,t,n,a,o){if(G(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===a&&(a=0),void 0===o&&(o=this.length),t<0||n>e.length||a<0||o>this.length)throw new RangeError("out of range index");if(a>=o&&t>=n)return 0;if(a>=o)return-1;if(t>=n)return 1;if(this===e)return 0;let r=(o>>>=0)-(a>>>=0),i=(n>>>=0)-(t>>>=0);const s=Math.min(r,i),c=this.slice(a,o),d=e.slice(t,n);for(let e=0;e<s;++e)if(c[e]!==d[e]){r=c[e],i=d[e];break}return r<i?-1:i<r?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return w(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return w(this,e,t,n,!1)},l.prototype.write=function(e,t,n,a){if(void 0===t)a="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)a=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===a&&(a="utf8")):(a=n,n=void 0)}const o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");a||(a="utf8");let r=!1;for(;;)switch(a){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return E(this,e,t,n);case"ascii":case"latin1":case"binary":return k(this,e,t,n);case"base64":return C(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,e,t,n);default:if(r)throw new TypeError("Unknown encoding: "+a);a=(""+a).toLowerCase(),r=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const T=4096;function I(e,t,n){let a="";n=Math.min(e.length,n);for(let o=t;o<n;++o)a+=String.fromCharCode(127&e[o]);return a}function B(e,t,n){let a="";n=Math.min(e.length,n);for(let o=t;o<n;++o)a+=String.fromCharCode(e[o]);return a}function _(e,t,n){const a=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>a)&&(n=a);let o="";for(let a=t;a<n;++a)o+=X[e[a]];return o}function x(e,t,n){const a=e.slice(t,n);let o="";for(let e=0;e<a.length-1;e+=2)o+=String.fromCharCode(a[e]+256*a[e+1]);return o}function L(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function D(e,t,n,a,o,r){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<r)throw new RangeError('"value" argument is out of bounds');if(n+a>e.length)throw new RangeError("Index out of range")}function O(e,t,n,a,o){$(t,a,o,e,n,7);let r=Number(t&BigInt(4294967295));e[n++]=r,r>>=8,e[n++]=r,r>>=8,e[n++]=r,r>>=8,e[n++]=r;let i=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i,n}function P(e,t,n,a,o){$(t,a,o,e,n,7);let r=Number(t&BigInt(4294967295));e[n+7]=r,r>>=8,e[n+6]=r,r>>=8,e[n+5]=r,r>>=8,e[n+4]=r;let i=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=i,i>>=8,e[n+2]=i,i>>=8,e[n+1]=i,i>>=8,e[n]=i,n+8}function F(e,t,n,a,o,r){if(n+a>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function R(e,t,n,a,r){return t=+t,n>>>=0,r||F(e,0,n,4),o.write(e,t,n,a,23,4),n+4}function M(e,t,n,a,r){return t=+t,n>>>=0,r||F(e,0,n,8),o.write(e,t,n,a,52,8),n+8}l.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const a=this.subarray(e,t);return Object.setPrototypeOf(a,l.prototype),a},l.prototype.readUintLE=l.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||L(e,t,this.length);let a=this[e],o=1,r=0;for(;++r<t&&(o*=256);)a+=this[e+r]*o;return a},l.prototype.readUintBE=l.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||L(e,t,this.length);let a=this[e+--t],o=1;for(;t>0&&(o*=256);)a+=this[e+--t]*o;return a},l.prototype.readUint8=l.prototype.readUInt8=function(e,t){return e>>>=0,t||L(e,1,this.length),this[e]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(e,t){return e>>>=0,t||L(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(e,t){return e>>>=0,t||L(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(e,t){return e>>>=0,t||L(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(e,t){return e>>>=0,t||L(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readBigUInt64LE=J((function(e){V(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||z(e,this.length-8);const a=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,o=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(a)+(BigInt(o)<<BigInt(32))})),l.prototype.readBigUInt64BE=J((function(e){V(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||z(e,this.length-8);const a=t*2**24+65536*this[++e]+256*this[++e]+this[++e],o=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(a)<<BigInt(32))+BigInt(o)})),l.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||L(e,t,this.length);let a=this[e],o=1,r=0;for(;++r<t&&(o*=256);)a+=this[e+r]*o;return o*=128,a>=o&&(a-=Math.pow(2,8*t)),a},l.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||L(e,t,this.length);let a=t,o=1,r=this[e+--a];for(;a>0&&(o*=256);)r+=this[e+--a]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*t)),r},l.prototype.readInt8=function(e,t){return e>>>=0,t||L(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){e>>>=0,t||L(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){e>>>=0,t||L(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return e>>>=0,t||L(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return e>>>=0,t||L(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readBigInt64LE=J((function(e){V(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||z(e,this.length-8);const a=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(a)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),l.prototype.readBigInt64BE=J((function(e){V(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||z(e,this.length-8);const a=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(a)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),l.prototype.readFloatLE=function(e,t){return e>>>=0,t||L(e,4,this.length),o.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return e>>>=0,t||L(e,4,this.length),o.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return e>>>=0,t||L(e,8,this.length),o.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return e>>>=0,t||L(e,8,this.length),o.read(this,e,!1,52,8)},l.prototype.writeUintLE=l.prototype.writeUIntLE=function(e,t,n,a){e=+e,t>>>=0,n>>>=0,a||D(this,e,t,n,Math.pow(2,8*n)-1,0);let o=1,r=0;for(this[t]=255&e;++r<n&&(o*=256);)this[t+r]=e/o&255;return t+n},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(e,t,n,a){e=+e,t>>>=0,n>>>=0,a||D(this,e,t,n,Math.pow(2,8*n)-1,0);let o=n-1,r=1;for(this[t+o]=255&e;--o>=0&&(r*=256);)this[t+o]=e/r&255;return t+n},l.prototype.writeUint8=l.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,1,255,0),this[t]=255&e,t+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigUInt64LE=J((function(e,t=0){return O(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeBigUInt64BE=J((function(e,t=0){return P(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeIntLE=function(e,t,n,a){if(e=+e,t>>>=0,!a){const a=Math.pow(2,8*n-1);D(this,e,t,n,a-1,-a)}let o=0,r=1,i=0;for(this[t]=255&e;++o<n&&(r*=256);)e<0&&0===i&&0!==this[t+o-1]&&(i=1),this[t+o]=(e/r|0)-i&255;return t+n},l.prototype.writeIntBE=function(e,t,n,a){if(e=+e,t>>>=0,!a){const a=Math.pow(2,8*n-1);D(this,e,t,n,a-1,-a)}let o=n-1,r=1,i=0;for(this[t+o]=255&e;--o>=0&&(r*=256);)e<0&&0===i&&0!==this[t+o+1]&&(i=1),this[t+o]=(e/r|0)-i&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigInt64LE=J((function(e,t=0){return O(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeBigInt64BE=J((function(e,t=0){return P(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeFloatLE=function(e,t,n){return R(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return R(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return M(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return M(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,a){if(!l.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),a||0===a||(a=this.length),t>=e.length&&(t=e.length),t||(t=0),a>0&&a<n&&(a=n),a===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(a<0)throw new RangeError("sourceEnd out of bounds");a>this.length&&(a=this.length),e.length-t<a-n&&(a=e.length-t+n);const o=a-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,a):Uint8Array.prototype.set.call(e,this.subarray(n,a),t),o},l.prototype.fill=function(e,t,n,a){if("string"==typeof e){if("string"==typeof t?(a=t,t=0,n=this.length):"string"==typeof n&&(a=n,n=this.length),void 0!==a&&"string"!=typeof a)throw new TypeError("encoding must be a string");if("string"==typeof a&&!l.isEncoding(a))throw new TypeError("Unknown encoding: "+a);if(1===e.length){const t=e.charCodeAt(0);("utf8"===a&&t<128||"latin1"===a)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{const r=l.isBuffer(e)?e:l.from(e,a),i=r.length;if(0===i)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=r[o%i]}return this};const U={};function H(e,t,n){U[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function W(e){let t="",n=e.length;const a="-"===e[0]?1:0;for(;n>=a+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function $(e,t,n,a,o,r){if(e>n||e<t){const a="bigint"==typeof t?"n":"";let o;throw o=r>3?0===t||t===BigInt(0)?`>= 0${a} and < 2${a} ** ${8*(r+1)}${a}`:`>= -(2${a} ** ${8*(r+1)-1}${a}) and < 2 ** ${8*(r+1)-1}${a}`:`>= ${t}${a} and <= ${n}${a}`,new U.ERR_OUT_OF_RANGE("value",o,e)}!function(e,t,n){V(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||z(t,e.length-(n+1))}(a,o,r)}function V(e,t){if("number"!=typeof e)throw new U.ERR_INVALID_ARG_TYPE(t,"number",e)}function z(e,t,n){if(Math.floor(e)!==e)throw V(e,n),new U.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new U.ERR_BUFFER_OUT_OF_BOUNDS;throw new U.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}H("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),H("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),H("ERR_OUT_OF_RANGE",(function(e,t,n){let a=`The value of "${e}" is out of range.`,o=n;return Number.isInteger(n)&&Math.abs(n)>2**32?o=W(String(n)):"bigint"==typeof n&&(o=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(o=W(o)),o+="n"),a+=` It must be ${t}. Received ${o}`,a}),RangeError);const q=/[^+/0-9A-Za-z-_]/g;function K(e,t){let n;t=t||1/0;const a=e.length;let o=null;const r=[];for(let i=0;i<a;++i){if(n=e.charCodeAt(i),n>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&r.push(239,191,189);continue}if(i+1===a){(t-=3)>-1&&r.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&r.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&r.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;r.push(n)}else if(n<2048){if((t-=2)<0)break;r.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;r.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;r.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return r}function j(e){return a.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(q,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function Y(e,t,n,a){let o;for(o=0;o<a&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function G(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Q(e){return e!=e}const X=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const a=16*n;for(let o=0;o<16;++o)t[a+o]=e[n]+e[o]}return t}();function J(e){return"undefined"==typeof BigInt?Z:e}function Z(){throw new Error("BigInt not supported")}},251:(e,t)=>{t.read=function(e,t,n,a,o){var r,i,s=8*o-a-1,l=(1<<s)-1,c=l>>1,d=-7,u=n?o-1:0,m=n?-1:1,p=e[t+u];for(u+=m,r=p&(1<<-d)-1,p>>=-d,d+=s;d>0;r=256*r+e[t+u],u+=m,d-=8);for(i=r&(1<<-d)-1,r>>=-d,d+=a;d>0;i=256*i+e[t+u],u+=m,d-=8);if(0===r)r=1-c;else{if(r===l)return i?NaN:1/0*(p?-1:1);i+=Math.pow(2,a),r-=c}return(p?-1:1)*i*Math.pow(2,r-a)},t.write=function(e,t,n,a,o,r){var i,s,l,c=8*r-o-1,d=(1<<c)-1,u=d>>1,m=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=a?0:r-1,f=a?1:-1,h=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,i=d):(i=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-i))<1&&(i--,l*=2),(t+=i+u>=1?m/l:m*Math.pow(2,1-u))*l>=2&&(i++,l/=2),i+u>=d?(s=0,i=d):i+u>=1?(s=(t*l-1)*Math.pow(2,o),i+=u):(s=t*Math.pow(2,u-1)*Math.pow(2,o),i=0));o>=8;e[n+p]=255&s,p+=f,s/=256,o-=8);for(i=i<<o|s,c+=o;c>0;e[n+p]=255&i,p+=f,i/=256,c-=8);e[n+p-f]|=128*h}},65606:e=>{var t,n,a=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{n="function"==typeof clearTimeout?clearTimeout:r}catch(e){n=r}}();var s,l=[],c=!1,d=-1;function u(){c&&s&&(c=!1,s.length?l=s.concat(l):d=-1,l.length&&m())}function m(){if(!c){var e=i(u);c=!0;for(var t=l.length;t;){for(s=l,l=[];++d<t;)s&&s[d].run();d=-1,t=l.length}s=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===r||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function f(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new p(e,t)),1!==l.length||c||i(m)},p.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=f,a.addListener=f,a.once=f,a.off=f,a.removeListener=f,a.removeAllListeners=f,a.emit=f,a.prependListener=f,a.prependOnceListener=f,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}}},r={};function i(e){var t=r[e];if(void 0!==t)return t.exports;var n=r[e]={exports:{}};return o[e].call(n.exports,n,n.exports,i),n.exports}i.m=o,i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,i.t=function(n,a){if(1&a&&(n=this(n)),8&a)return n;if("object"==typeof n&&n){if(4&a&&n.__esModule)return n;if(16&a&&"function"==typeof n.then)return n}var o=Object.create(null);i.r(o);var r={};e=e||[null,t({}),t([]),t(t)];for(var s=2&a&&n;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>r[e]=()=>n[e]));return r.default=()=>n,i.d(o,r),o},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce(((t,n)=>(i.f[n](e,t),t)),[])),i.u=e=>e+"."+{82:"10cb53e3e4914ed789c7",88:"7469cde2e48fcea342fb",104:"337a5d5347e427590af0",148:"c93ab213da47a1c69bbc",168:"3ef51449bff845cd930a",196:"62cfcca245779edde795",201:"8f9951bc8d270f397709",215:"a3b70a2b4c9e8aab47e4",232:"f2635cf6cd72a03137ee",283:"56e93ec75336cca60952",408:"d7d8d41d5dce10d243c5",432:"20e0779b7ab1bb47c229",477:"473346bae74b64f8b62c",494:"2a76b4246c2b484142fb",513:"bc27336d82f09051f2ac",542:"2d167587e3aa4f5d2b58",564:"308caacb4e9cac966aff",580:"4f7727668847f6a39dfc",612:"5f5efe45c362ef7fd524",642:"9007550c7ebac81578d0",771:"ae36771e22d590ba4423",776:"45feed3695ebbd842676",789:"293e03235c8d79348a71",884:"ca0c5df5be9516ea7f6b",895:"8f12ef95ea8874f9ec0b",934:"bf9ab69d4ed2b12bef56",941:"2fdddae7403cbdef81d1",949:"8525865be185f1bf25b5",956:"bc42ad757a7d6b976cd7",988:"c70df95cb3aae0eab0d3"}[e]+".js",i.miniCssF=e=>{},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n={},a="mytonwallet:",i.l=(e,t,o,r)=>{if(n[e])n[e].push(t);else{var s,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==e||u.getAttribute("data-webpack")==a+o){s=u;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.setAttribute("data-webpack",a+o),s.src=e),n[e]=[t];var m=(t,a)=>{s.onerror=s.onload=null,clearTimeout(p);var o=n[e];if(delete n[e],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((e=>e(a))),t)return t(a)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=m.bind(null,s.onerror),s.onload=m.bind(null,s.onload),l&&document.head.appendChild(s)}},i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;i.g.importScripts&&(e=i.g.location+"");var t=i.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var a=n.length-1;a>-1&&(!e||!/^http(s?):/.test(e));)e=n[a--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e})(),(()=>{i.b=document.baseURI||self.location.href;var e={792:0};i.f.j=(t,n)=>{var a=i.o(e,t)?e[t]:void 0;if(0!==a)if(a)n.push(a[2]);else{var o=new Promise(((n,o)=>a=e[t]=[n,o]));n.push(a[2]=o);var r=i.p+i.u(t),s=new Error;i.l(r,(n=>{if(i.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var o=n&&("load"===n.type?"missing":n.type),r=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+r+")",s.name="ChunkLoadError",s.type=o,s.request=r,a[1](s)}}),"chunk-"+t,t)}};var t=(t,n)=>{var a,o,[r,s,l]=n,c=0;if(r.some((t=>0!==e[t]))){for(a in s)i.o(s,a)&&(i.m[a]=s[a]);l&&l(i)}for(t&&t(n);c<r.length;c++)o=r[c],i.o(e,o)&&e[o]&&e[o][0](),e[o]=0},n=self.webpackChunkmytonwallet=self.webpackChunkmytonwallet||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";var e=i(31481),t=i(82393),n=i(25379);function a(e,t){if(e===t)return!0;const n=Object.keys(e),a=n.length;if(a!==Object.keys(t).length)return!1;if(0===a)return!0;for(let o=0;o<a;o++){const a=n[o];if(e[a]!==t[a])return!1}return!0}function o(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";const o=Object.keys(e);o.length===Object.keys(t).length?(console.log(n),o.forEach((n=>{e[n]!==t[n]&&console.log(a,n,":",e[n],"=>",t[n])}))):console.log(`${n} LENGTH`)}var r=i(2188),s=i(87894),l=i(55029),c=i(37836),d=i(19822);const u=new Set(["TeactMemoWrapper renders","TeactNContainer renders","Button renders"]);let m={};const p=(0,c.nF)((function(){f||function(){f=document.createElement("div"),f.style.cssText="position: absolute; left: 0; bottom: 25px; z-index: 9998; width: 260px; height: 200px; border: 1px solid #555; background: rgba(255, 255, 255, 0.9); overflow: auto; font-size: 50px; color: black;",document.body.appendChild(f);const e=document.createElement("a");e.style.cssText="position: absolute; left: 222px; bottom: 198px; z-index: 9999; font-size: 20px; cursor: pointer;",e.innerText="🔄",e.addEventListener("click",(()=>{m={},p()})),document.body.appendChild(e)}();const e=Date.now()-500,[t,n]=Object.entries(m).reduce(((e,t)=>{let[n,{value:a}]=t;return u.has(n)||(n.includes("renders")&&a>e[0]&&(e[0]=a),n.includes("duration")&&a>e[1]&&(e[1]=a)),e}),[0,0]);f.innerHTML=Object.entries(m).filter((e=>{let[t,{value:n}]=e;return!u.has(t)&&(t.includes("renders")&&n>5||t.includes("duration")&&n>2)})).sort(((e,t)=>t[1].lastUpdateAt-e[1].lastUpdateAt)).map((a=>{let[o,{value:r,lastUpdateAt:i}]=a;return[`<div style="background: #ff0000${s=r/(o.includes("renders")?t:n),Math.round(255*s).toString(16).padStart(2,"0")}">`,`  <span${i>e?' style="background: lightgreen"':""}>${o}: ${Math.round(r)}</span>`,"</div>"].join("\n");var s})).join("\n")}),500,!1);let f;function h(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=Date.now();m[e]?(m[e].value+=t,m[e].lastUpdateAt=n):m[e]={value:t,lastUpdateAt:n},p()}var g=i(50110);function v(){const e=new Set;function t(t){e.delete(t)}return{runCallbacks:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];e.forEach((e=>{e(...n)}))},addCallback:function(n){return e.add(n),()=>{t(n)}},removeCallback:t,hasCallbacks:function(){return Boolean(e.size)}}}const w=Symbol("SIGNAL_MARK");function y(e){return"function"==typeof e&&w in e}const b=new Map;function E(e){const t={value:e,effects:v()};function n(e){const n=t.effects.addCallback(e);return b.has(e)?b.get(e).add(n):b.set(e,new Set([n])),()=>{n();const t=b.get(e);t.delete(n),t.size||b.delete(e)}}return[Object.assign((function(){return t.value}),{[w]:w,subscribe:n,once:function(e){const t=n((()=>{t(),e()}));return t}}),function(e){t.value!==e&&(t.value=e,t.effects.runCallbacks())}]}var k=i(66644);let C=0,N=0;const[S,A]=E(!1),[T,I]=E(!1),B=S;function _(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];C++,1===C&&A(!0),t&&(N++,1===N&&I(!0));const n=window.setTimeout(o,e);let a=!1;function o(){a||(a=!0,clearTimeout(n),C--,0===C&&A(!1),t&&(N--,0===N&&I(!1)))}return o}function x(e){(0,c.kI)((()=>{S()?(0,k.YS)((()=>{x(e)})):e()}))}let L=function(e){return e[e.Empty=0]="Empty",e[e.Text=1]="Text",e[e.Tag=2]="Tag",e[e.Component=3]="Component",e[e.Fragment=4]="Fragment",e}({}),D=function(e){return e[e.Mounting=0]="Mounting",e[e.Mounted=1]="Mounted",e[e.Unmounted=2]="Unmounted",e}({});const O=Symbol("Fragment"),P=new Set(["TeactMemoWrapper","TeactNContainer","Button","ListItem","MenuItem"]);let F,R=0;function M(e){return e.type===L.Tag||e.type===L.Component||e.type===L.Fragment}function U(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];return e===O?function(e){return{type:L.Fragment,children:W(e,!0)}}(a):"function"==typeof e?function(e,t,n){null!=n&&n.length&&(t.children=1===n.length?n[0]:n);const a={id:-1,$element:void 0,Component:e,name:e.name,props:t,mountState:D.Unmounted};return a.$element=H(a),a.$element}(e,t||{},a):function(e,t,n){return{type:L.Tag,tag:e,props:t,children:W(n)}}(e,t||{},a)}function H(e,t){return{type:L.Component,componentInstance:e,props:e.props,children:t?W(t,!0):[]}}function W(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.length-1;for(;n>=0&&$(e[n]);n--);return n===e.length-1?e:-1===n&&t?e.slice(0,1):e.slice(0,n+1)}(e,t),a=[];for(let e=0,o=n.length;e<o;e++){const o=n[e];Array.isArray(o)?a.push(...W(o,t)):a.push(V(o))}return a}function $(e){return!e&&0!==e}function V(e){return $(e)?{type:L.Empty}:M(e)?e:{type:L.Text,value:String(e)}}const z={TOTAL:{name:"TOTAL",renders:0}},q={};document.addEventListener("dblclick",(()=>{console.warn("COMPONENTS",(0,s.My)(Object.values(z).map((e=>{let{avgRenderTime:t,...n}=e;return{...n,...void 0!==t&&{avgRenderTime:Number(t.toFixed(2))}}})),"renders","desc")),console.warn("MEMOS",(0,s.My)(Object.values(q).filter((e=>{let{calls:t}=e;return t>=20})).map((e=>({...e,hitRate:Number(e.hitRate.toFixed(2))}))),"hitRate","asc"))}));let K=new Set,j=new Set,Y=new Map,G=new Map,Q=new Map,X=new Map,J=!1;const Z=(0,c.nb)(k.YS,(()=>{if(T())return void T.once(Z);const e=ee();j=new Set;const t=Array.from(K).sort(((e,t)=>e.id-t.id));K=new Set;const n=G;G=new Map,n.forEach((e=>e()));const a=Y;Y=new Map,a.forEach((e=>e())),(0,k.RK)((()=>{t.forEach(re),t.forEach((e=>{j.has(e.id)||function(e){if(e.mountState===D.Unmounted||!e.onUpdate)return;const t=e.$element;ne(e),e.$element!==t&&e.onUpdate()}(e)})),null==e||e()}))}));function ee(){if(!J)return J=!0,te}function te(){const e=X;X=new Map,e.forEach((e=>e()));const t=Q;Q=new Map,t.forEach((e=>e())),J=!1}function ne(t){j.add(t.id);const{Component:n,props:a}=t;let o;if((0,g.A)((()=>{let r;if(F=t,t.hooks&&(t.hooks.state&&(t.hooks.state.cursor=0),t.hooks.effects&&(t.hooks.effects.cursor=0),t.hooks.memos&&(t.hooks.memos.cursor=0),t.hooks.refs&&(t.hooks.refs.cursor=0)),e.Oig){const t=fe(n);z[t]||(z[t]={name:t,renders:0,avgRenderTime:0}),e.MVx&&(P.has(t)||console.log(`[Teact] Render ${t}`)),r=performance.now()}if(o=n(a),e.Oig){const t=performance.now()-r,a=fe(n);t>7&&console.warn(`[Teact] Slow component render: ${a}, ${Math.round(t)} ms`);const{renders:o,avgRenderTime:i}=z[a];z[a].avgRenderTime=(i*o+t)/(o+1),z[a].renders++,z.TOTAL.renders++,e.MVx&&(h(`${a} renders`),h(`${a} duration`,t))}}),{rescue:()=>{console.error(`[Teact] Error while rendering component ${t.name}`,t),o=t.renderedValue}}),t.mountState===D.Mounted&&o===t.renderedValue)return t.$element;t.renderedValue=o;const r=Array.isArray(o)?o:[o];return t.$element=H(t,r),t.$element}function ae(e,t){return typeof e!=typeof t||e.type!==t.type||(e.type===L.Text&&t.type===L.Text?e.value!==t.value:e.type===L.Tag&&t.type===L.Tag?e.tag!==t.tag||e.props.key!==t.props.key:e.type===L.Component&&t.type===L.Component&&(e.componentInstance.Component!==t.componentInstance.Component||e.props.key!==t.props.key))}function oe(e){var t;if(e.mountState!==D.Unmounted){if(j.add(e.id),null!==(t=e.hooks)&&void 0!==t&&t.effects)for(const t of e.hooks.effects.byCursor){var n;t.cleanup&&(0,g.A)(t.cleanup),t.cleanup=void 0,null===(n=t.releaseSignals)||void 0===n||n.call(t)}e.mountState=D.Unmounted,function(e){const{effects:t,state:n,memos:a,refs:o}=e.hooks||{};if(t)for(const e of t.byCursor)e.schedule=void 0,e.cleanup=void 0,e.releaseSignals=void 0,e.dependencies=void 0;if(n)for(const e of n.byCursor)e.value=void 0,e.nextValue=void 0,e.setter=void 0;if(a)for(const e of a.byCursor)e.value=void 0,e.dependencies=void 0;if(o)for(const e of o.byCursor)e.current=void 0,e.onChange=void 0;e.hooks=void 0,e.$element=void 0,e.renderedValue=void 0,e.onUpdate=void 0}(e)}}function re(e){var t;if(e.mountState!==D.Unmounted&&null!==(t=e.hooks)&&void 0!==t&&t.state)for(const t of e.hooks.state.byCursor)t.value=t.nextValue}function ie(t,n){F.hooks||(F.hooks={}),F.hooks.state||(F.hooks.state={cursor:0,byCursor:[]});const{cursor:a,byCursor:o}=F.hooks.state,r=F;return void 0===o[a]&&(o[a]={value:t,nextValue:t,setter:t=>{r.mountState!==D.Unmounted&&("function"==typeof t&&(t=t(o[a].nextValue)),o[a].nextValue!==t&&(o[a].nextValue=t,K.add(r),Z(),e.MVx&&console.log("[Teact.useState]",fe(r.Component),`State update at cursor #${a}${n?` (${n})`:""}, next value: `,o[a].nextValue)))}}),F.hooks.state.cursor++,[o[a].value,o[a].setter]}function se(t,n,a,o){F.hooks||(F.hooks={}),F.hooks.effects||(F.hooks.effects={cursor:0,byCursor:[]});const{cursor:r,byCursor:i}=F.hooks.effects,s=i[r],l=F;function c(){!function(t,n,a,o){var r;const{byCursor:i}=t.hooks.effects,s=null===(r=i[n])||void 0===r?void 0:r.cleanup,l=o?X:G,c=o?Q:Y,d=`${t.id}_${n}`;if(s){const a=()=>(0,g.A)((()=>{if(t.mountState===D.Unmounted)return;let a;if(e.Oig&&(a=performance.now()),s(),e.Oig){const e=performance.now()-a,o=fe(t.Component);e>7&&console.warn(`[Teact] Slow cleanup at effect cursor #${n}: ${o}, ${Math.round(e)} ms`)}}),{rescue:()=>{console.error(`[Teact] Error in effect cleanup at cursor #${n} in ${t.name}`,t)},always:()=>{i[n].cleanup=void 0}});l.set(d,a)}c.set(d,(()=>(0,g.A)((()=>{if(t.mountState===D.Unmounted)return;let o;e.Oig&&(o=performance.now());const r=a();if("function"==typeof r&&(i[n].cleanup=r),e.Oig){const e=performance.now()-o,a=fe(t.Component);e>7&&console.warn(`[Teact] Slow effect at cursor #${n}: ${a}, ${Math.round(e)} ms`)}}),{rescue:()=>{console.error(`[Teact] Error in effect at cursor #${n} in ${t.name}`,t)}}))),Z()}(l,r,n,t)}if(a&&null!=s&&s.dependencies){if(a.some(((e,t)=>e!==s.dependencies[t]))){if(e.Oig&&o){const e=a.reduce(((e,t,n)=>{const a=s.dependencies[n];return t!==a&&e.push(`${n}: ${a} => ${t}`),e}),[]);console.log(`[Teact] Effect "${o}" caused by dependencies.`,e.join(", "))}c()}}else o&&console.log(`[Teact] Effect "${o}" caused by missing dependencies.`),c();s&&(s.schedule=void 0),i[r]={...s,dependencies:a,schedule:c},s||(i[r].releaseSignals=function(){const e=null==a?void 0:a.filter(y).map(((e,t)=>e.subscribe((()=>{o&&console.log(`[Teact] Effect "${o}" caused by signal #${t} new value:`,e()),i[r].schedule()}))));if(null!=e&&e.length)return()=>{for(const t of e)t()}}()),F.hooks.effects.cursor++}function le(e,t,n){return se(!1,e,t,n)}function ce(e,t,n){return se(!0,e,t,n)}function de(t,n,a,r){F.hooks||(F.hooks={}),F.hooks.memos||(F.hooks.memos={cursor:0,byCursor:[]});const{cursor:i,byCursor:s}=F.hooks.memos;let l,{value:c}=s[i]||{};if(e.Oig&&r){const e=`${r}#${F.id}`;l=q[e],l||(l={key:e,calls:0,misses:0,hitRate:0},q[e]=l),l.calls++,l.hitRate=(l.calls-l.misses)/l.calls}if(void 0===s[i]||n.length!==s[i].dependencies.length||n.some(((e,t)=>e!==s[i].dependencies[t]))){if(e.Oig){if(a){const e=`[Teact.useMemo] ${F.name} (${a}): Update is caused by:`;s[i]?o(s[i].dependencies,n,e,a):console.log(`${e} [first render]`)}l&&(l.misses++,l.hitRate=(l.calls-l.misses)/l.calls,l.calls%10==0&&l.calls>=20&&l.hitRate<.25&&console.warn(`[Teact] ${l.key}: Hit rate is ${l.hitRate.toFixed(2)} for ${l.calls} calls`))}c=t()}return s[i]={value:c,dependencies:n},F.hooks.memos.cursor++,c}function ue(e,t,n){return de((()=>e),t,n)}function me(e){F.hooks||(F.hooks={}),F.hooks.refs||(F.hooks.refs={cursor:0,byCursor:[]});const{cursor:t,byCursor:n}=F.hooks.refs;return n[t]||(n[t]={current:e}),F.hooks.refs.cursor++,n[t]}function pe(t,n){function a(a){return de((()=>U(t,a)),Object.values(a),n,e.MVx?fe(F.Component):void 0)}return a.DEBUG_contentComponentName=fe(t),a}function fe(e){const{name:t,DEBUG_contentComponentName:n}=e;return"TeactNContainer"===t?`container>${n}`:"TeactMemoWrapper"===t?`memo>${n}`:"TeactContextProvider"===t?`context>id${n}`:t+(n?`>${n}`:"")}const he={createElement:U,Fragment:O},ge=()=>{const[,e]=ie(!1);return ue((()=>{e((e=>!e))}),[])};var ve=i(14235);function we(){const e=me();return e.current||(e.current=(0,ve.A)()),e.current}function ye(){return ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ye.apply(null,arguments)}const be=he;let Ee,ke={isInited:!1};const Ce=(0,c.Fe)((()=>{Ee=Math.random()})),Ne={},Se=[function(){let t;e.Oig&&(t=performance.now());for(const t of Te.values()){const{mapStateToProps:n,ownProps:i,mappedProps:s,forceUpdate:l}=t;if(!Fe(t,ke,i))continue;let c;try{c=n(ke,i)}catch(e){return void(0,r.H)(e)}e.Oig&&Object.values(c).some(Number.isNaN)&&console.warn(`[TeactN] Some of \`${t.DEBUG_componentName}\` mappers contain NaN values. This may cause redundant updates because of incorrect equality check.`),Object.keys(c).length&&!a(s,c)&&(e.MVx&&o(s,c,`[TeactN] Will update ${t.DEBUG_componentName} caused by:`),t.mappedProps=c,t.DEBUG_updates++,l())}if(e.Oig){const e=performance.now()-t;e>7&&console.warn(`[TeactN] Slow containers update: ${Math.round(e)} ms`)}}],Ae={},Te=new Map,Ie=(0,c.Fe)(_e);let Be=!0;function _e(){if(Be)Be=!1;else if(B())return void B.once(Ie);Se.forEach((e=>e(ke)))}function xe(t,n){if("object"==typeof t&&t!==ke){if(e.Oig){if((null==n||!n.forceOutdated)&&t.DEBUG_randomId&&t.DEBUG_randomId!==Ee)throw new Error("[TeactN.setGlobal] Attempt to set an outdated global");Ee=Math.random()}ke=t,null!=n&&n.forceSyncOnIOs?(Be=!0,_e()):(null!=n&&n.forceOnHeavyAnimation&&(Be=!0),Ie())}}function Le(){return e.Oig&&(ke={...ke,DEBUG_randomId:Ee},Ce()),ke}function De(){Be=!0}let Oe=[];function Pe(e){Se.push(e)}function Fe(e,t,n){const{activationFn:a,stuckTo:o}=e;return!a||a(t,n,(t=>(t&&!o&&(e.stuckTo=t),t&&(!o||o===t))))}e.Oig&&(window.getGlobal=Le,window.setGlobal=xe,document.addEventListener("dblclick",(()=>{console.warn("GLOBAL CONTAINERS",(0,s.My)(Array.from(Te.values()).map((e=>{let{DEBUG_componentName:t,DEBUG_updates:n}=e;return{DEBUG_componentName:t,DEBUG_updates:n}})),"DEBUG_updates","desc"))})));const Re=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>({}),t=arguments.length>1?arguments[1]:void 0;return n=>{function o(o){const i=we(),s=ge();!function(){F.hooks||(F.hooks={}),F.hooks.effects||(F.hooks.effects={cursor:0,byCursor:[]});const{cursor:e,byCursor:t}=F.hooks.effects;t[e]||(t[e]={cleanup:()=>{Te.delete(i)}}),F.hooks.effects.cursor++}();let l=Te.get(i);if(l||(l={mapStateToProps:e,activationFn:t,ownProps:o,forceUpdate:s,DEBUG_updates:0,DEBUG_componentName:n.name},Te.set(i,l)),!l.mappedProps||!a(l.ownProps,o)&&Fe(l,ke,o))try{l.mappedProps=e(ke,o)}catch(e){(0,r.H)(e)}return l.ownProps=o,he.createElement(n,ye({},l.mappedProps,o))}return o.DEBUG_contentComponentName=fe(n),o}},Me=Le,Ue=xe,He=function(){return Ae},We=function(t,n){Ne[t]||(Ne[t]=[],Ae[t]=(n,a)=>{!function(t,n,a){if((0,l.Q)(t,n),Oe.push((()=>{var o;null===(o=Ne[t])||void 0===o||o.forEach((t=>{const o=t(e.Oig?Le():ke,Ae,n);o&&"function"!=typeof o.then&&xe(o,a)}))})),1===Oe.length)try{for(;Oe.length;)Oe[0](),Oe.shift()}finally{Oe=[]}}(t,n,a)}),Ne[t].push(n)},$e=Re;var Ve=i(86243);const ze=new WeakMap;function qe(e,t){const n=function(){const n=ze.get(e),a=Date.now();for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];if(n){const e=n.isDisabledUntil&&n.isDisabledUntil>a,o=t&&n.lastTime+1e3*t<a;if(!e&&!o&&(0,s.k)(n.lastArgs,r))return n.lastResult}const l=e(...r);return ze.set(e,{...n,lastArgs:r,lastResult:l,lastTime:a}),l};return n.disableCache=t=>{const n=ze.get(e);n&&(n.isDisabledUntil=Date.now()+1e3*t)},n}var Ke=i(19314);function je(e){var t;return null===(t=e.accounts)||void 0===t?void 0:t.byId}const Ye=qe(((e,t)=>{if(t)return Object.fromEntries(Object.entries(t).filter((t=>{let[n]=t;return(0,Ve.c)(n).network===e})))}));function Ge(e){var t;return Ye(Qe(e),null===(t=e.accounts)||void 0===t?void 0:t.byId)}function Qe(e){return e.settings.isTestnet?"testnet":"mainnet"}function Xe(e){return Je(e,e.currentAccountId)}function Je(e,t){var n;return null===(n=je(e))||void 0===n?void 0:n[t]}function Ze(e){return et(e,e.currentAccountId)}function et(e,t){return e.byAccountId[t]}function tt(e){const t=je(e);if(t)return Object.values(t).find((e=>!e.isHardware))}function nt(e,t){return e.settings.byAccountId[t]}function at(e){return nt(e,e.currentAccountId)}function ot(e){const t=Je(e,e.currentAccountId);return null==t?void 0:t.isHardware}function rt(e){const t=je(e);if(t)return Object.values(t).filter((e=>e.isHardware))}function it(e){return 1===Object.keys(je(e)||{}).length}const st=(0,Ke.A)((e=>qe((e=>(null!=e?e:[]).filter((e=>{let{isDisabled:t}=e;return!t})).length))));function lt(e,t,n){const a=je(e);if(!a)return;const o=Object.entries(a).find((e=>{let[a,o]=e;return o.addressByChain[t]===n?a:void 0}));return null==o?void 0:o[0]}function ct(e,t){var n;return((null===(n=et(e,t))||void 0===n||null===(n=n.vesting)||void 0===n?void 0:n.info)||[]).reduce(((e,t)=>(t.parts.forEach((n=>{"ready"===n.status&&e.push({id:t.id,partId:n.id})})),e)),[])}function dt(e,t,n){var a;return null===(a=et(e,t))||void 0===a||null===(a=a.nfts)||void 0===a?void 0:a.byAddress[n]}function ut(e,t){var n;return Boolean(null===(n=Je(e,t))||void 0===n?void 0:n.addressByChain.tron)}function mt(e){const{authConfig:t}=e.settings;return!!t&&"password"!==t.kind}function pt(e){const{authConfig:t}=e.settings;return!!t&&"native-biometrics"===t.kind}function ft(e){return"nft:transfer"===(null==e?void 0:e.type)}function ht(e){return"tokens:transfer"===(null==e?void 0:e.type)||"tokens:transfer-non-standard"===(null==e?void 0:e.type)}const gt=qe((t=>{const n={},a=(e,t)=>{var a;n[e]=(null!==(a=n[e])&&void 0!==a?a:0n)+t};let o=!1,r=!1,i=0n,s=0n,l=0;for(const n of null!=t?t:[])n.isScam&&(o=!0),n.isDangerous&&(r=!0),i+=n.fullFee,s+=n.received,n.displayedAmount&&a(e.Tu9.slug,n.displayedAmount),ht(n.payload)?a(n.payload.slug,n.payload.amount):ft(n.payload)&&l++;return{amountsBySlug:n,isScam:o,isDangerous:r,fullFee:i,received:s,nftCount:l}}));function vt(e){const{transactions:t}=e.currentDappTransfer;return gt(t)}var wt=i(398),yt=i(48805);function bt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:yt.z.roundHalfUp;return new yt.z(e).round(t,n).toNumber()}const Et=(0,Ke.A)((t=>qe((function(t,n,a){let o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const i=function(t,n){return Object.keys(t).length===e._bq&&Object.entries(t).every((t=>{let[a,o]=t;const{decimals:r,quote:{priceUsd:i}}=n.bySlug[a];return(0,wt.CF)(o,r).mul(null!=i?i:0).lt(e.Wvq)}))}(t,n);return Object.entries(t).filter((e=>{var t;let[o]=e;return o in n.bySlug&&!(null!==(t=a.deletedSlugs)&&void 0!==t&&t.includes(o))})).map((t=>{var o,s;let[l,c]=t;const{symbol:d,name:u,image:m,decimals:p,cmcSlug:f,color:h,chain:g,tokenAddress:v,codeHash:w,quote:{price:y,percentChange24h:b,priceUsd:E}}=n.bySlug[l],k=(0,wt.CF)(c,p),C=k.mul(y).round(p).toString(),N=k.mul(null!=E?E:0).gte(e.Wvq),S=e.kuH.has(w)&&c>0n,A=!(i&&e.Fgn.includes(l)||!r||r&&N||S||(null===(o=a.alwaysShownSlugs)||void 0===o?void 0:o.includes(l)))||(null===(s=a.alwaysHiddenSlugs)||void 0===s?void 0:s.includes(l));return{chain:g,symbol:d,slug:l,amount:c,name:u,image:m,price:y,priceUsd:E,decimals:p,change24h:bt(b/100,4),isDisabled:A,cmcSlug:f,totalValue:C,color:h,tokenAddress:v,codeHash:w}})).sort(((t,n)=>{if(o||!a.orderedSlugs){const a=e.oR5.indexOf(t.slug),o=e.oR5.indexOf(n.slug);return-1!==a&&-1!==o&&t.totalValue===n.totalValue?a-o:-1!==a&&-1===o?-1:-1!==o&&-1===a?1:Number(n.totalValue)-Number(t.totalValue)}return a.orderedSlugs.indexOf(t.slug)-a.orderedSlugs.indexOf(n.slug)}))}))));function kt(e){return St(e,e.currentAccountId)}function Ct(e,t){var n,a;return null!==(n=null===(a=Ze(e))||void 0===a||null===(a=a.balances)||void 0===a?void 0:a.bySlug[t])&&void 0!==n?n:0n}function Nt(t){return Ct(t,e.Tu9.slug)}function St(e,t){var n,a;const o=null===(n=et(e,t))||void 0===n||null===(n=n.balances)||void 0===n?void 0:n.bySlug;if(!o||!e.tokenInfo)return;const r=null!==(a=nt(e,t))&&void 0!==a?a:{},{areTokensWithNoCostHidden:i,isSortByValueEnabled:s}=e.settings;return Et(t)(o,e.tokenInfo,r,s,i)}function At(t,n){if(n!==e.Tu9.slug)return Tt(t,n).tokenAddress}function Tt(e,t){return e.tokenInfo.bySlug[t]}function It(t){const{isTestnet:n}=t.settings;return Tt(t,n?e.GX2.slug:e.oUU.slug)}function Bt(e,t){var n;return(null!==(n=kt(e))&&void 0!==n?n:[]).filter((e=>e.chain===t)).reduce(((e,t)=>t.priceUsd*Number(t.amount)>(e?e.priceUsd*Number(e.amount):0)?t:e))}function _t(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=e.timestamp-t.timestamp;return 0===a&&(a=e.id>t.id?1:e.id<t.id?-1:0),n?a:-a}const xt=(0,Ke.A)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;if(e)return e.length<=t+n+3?e:`${e.slice(0,t)}...${e.slice(-n)}`})),Lt=new Map;function Dt(t){return xt(t,e.bOf)}function Ot(e){const t=Dt(e);return Lt.get(t)}function Pt(e){const{fromAddress:t,amount:n,timestamp:a}=e,o=Ot(t);(!o||o.timestamp<a||o.timestamp===a&&o.amount>n)&&function(e,t,n){const a=Dt(e);Lt.set(a,{address:e,amount:t,timestamp:n})}(t,n,a)}function Ft(e){const{fromAddress:t}=e,n=Ot(t);return n&&n.address!==t}function Rt(){Lt.clear()}const Mt={stake:["Staked","Staking"],unstake:["Unstaked","Unstaking"],unstakeRequest:["Unstake Requested","Requesting Unstake"],callContract:["Contract Called","Calling Contract"],excess:["Excess","Excess"],contractDeploy:["Contract Deployed","Deploying Contract"],bounced:["Bounced","Bouncing"],mint:["Minted","Minting"],burn:["Burned","Burning"],auctionBid:["NFT Auction Bid","Bidding at NFT Auction"],dnsChangeAddress:["Address Updated","Updating Address"],dnsChangeSite:["Site Updated","Updating Site"],dnsChangeSubdomains:["Subdomains Updated","Updating Subdomains"],dnsChangeStorage:["Storage Updated","Updating Storage"],dnsDelete:["Domain Record Deleted","Deleting Domain Record"],dnsRenew:["Domain Renewed","Renewing Domain"],liquidityDeposit:["Liquidity Provided","Providing Liquidity"],liquidityWithdraw:["Liquidity Withdrawn","Withdrawing Liquidity"]},Ut=new Set(["stake","unstake","unstakeRequest"]),Ht=new Set(["dnsChangeAddress","dnsChangeSite","dnsChangeStorage","dnsChangeSubdomains","dnsDelete","dnsRenew"]);function Wt(e){const[t,n,a]=e.split(":");return{hash:t,type:a,subId:n}}function $t(e){return e.endsWith(":local")}function Vt(e,t,n){return n||void 0!==t?void 0===n?`${e}:${t}`:`${e}:${null!=t?t:""}:${n}`:e}function zt(e){switch(e.kind){case"transaction":return[e.slug];case"swap":return[e.from,e.to]}}function qt(e){return!$t(e)&&!function(e){return e.endsWith(":backend-swap")}(e)}function Kt(e,t,n){let{type:a,isIncoming:o}=e;if(a){const e=Mt[a];if(e)return n(e[t?1:0])}return n(o?t?"Receiving":"Received":t?"Sending":"Sent")}function jt(e){var t;return Boolean(null===(t=e.metadata)||void 0===t?void 0:t.isScam)||e.isIncoming&&Ft(e)}function Yt(e){return Boolean(e.comment||e.encryptedComment)&&!Ut.has(e.type)&&!jt(e)}function Gt(e){let{type:t,amount:n,nft:a}=e;return n||void 0===t&&!a?"stake"===t||"unstake"===t?"noSign":"normal":"hide"}function Qt(e){let{type:t,isIncoming:n,nft:a,toAddress:o}=e;return!(Ut.has(t)||"burn"===t||!n&&a&&o===a.address)}function Xt(e,t){var n;return(0,s.LG)((null===(n=et(e,t))||void 0===n||null===(n=n.activities)||void 0===n?void 0:n.newestActivitiesBySlug)||{},(e=>{let{timestamp:t}=e;return t}))}let Jt=function(e){return e[e.Auth=0]="Auth",e[e.Main=1]="Main",e[e.Explore=2]="Explore",e[e.Settings=3]="Settings",e[e.Ledger=4]="Ledger",e[e.Inactive=5]="Inactive",e}({}),Zt=function(e){return e[e.none=0]="none",e[e.createWallet=1]="createWallet",e[e.checkPassword=2]="checkPassword",e[e.createPin=3]="createPin",e[e.confirmPin=4]="confirmPin",e[e.createBiometrics=5]="createBiometrics",e[e.confirmBiometrics=6]="confirmBiometrics",e[e.createNativeBiometrics=7]="createNativeBiometrics",e[e.createPassword=8]="createPassword",e[e.createBackup=9]="createBackup",e[e.disclaimerAndBackup=10]="disclaimerAndBackup",e[e.importWalletCheckPassword=11]="importWalletCheckPassword",e[e.importWallet=12]="importWallet",e[e.importWalletCreatePin=13]="importWalletCreatePin",e[e.importWalletConfirmPin=14]="importWalletConfirmPin",e[e.importWalletCreateNativeBiometrics=15]="importWalletCreateNativeBiometrics",e[e.importWalletCreateBiometrics=16]="importWalletCreateBiometrics",e[e.importWalletConfirmBiometrics=17]="importWalletConfirmBiometrics",e[e.importWalletCreatePassword=18]="importWalletCreatePassword",e[e.disclaimer=19]="disclaimer",e[e.ready=20]="ready",e[e.about=21]="about",e[e.safetyRules=22]="safetyRules",e[e.mnemonicPage=23]="mnemonicPage",e[e.checkWords=24]="checkWords",e}({}),en=function(e){return e[e.None=0]="None",e[e.TurnOnPasswordConfirmation=1]="TurnOnPasswordConfirmation",e[e.TurnOnRegistration=2]="TurnOnRegistration",e[e.TurnOnVerification=3]="TurnOnVerification",e[e.TurnOnComplete=4]="TurnOnComplete",e[e.TurnOffWarning=5]="TurnOffWarning",e[e.TurnOffBiometricConfirmation=6]="TurnOffBiometricConfirmation",e[e.TurnOffCreatePassword=7]="TurnOffCreatePassword",e[e.TurnOffComplete=8]="TurnOffComplete",e}({}),tn=function(e){return e[e.None=0]="None",e[e.WarningHardware=1]="WarningHardware",e[e.Initial=2]="Initial",e[e.Confirm=3]="Confirm",e[e.Password=4]="Password",e[e.ConnectHardware=5]="ConnectHardware",e[e.ConfirmHardware=6]="ConfirmHardware",e[e.Complete=7]="Complete",e}({}),nn=function(e){return e[e.None=0]="None",e[e.Initial=1]="Initial",e[e.Blockchain=2]="Blockchain",e[e.Password=3]="Password",e[e.WaitTokens=4]="WaitTokens",e[e.Complete=5]="Complete",e[e.SelectTokenFrom=6]="SelectTokenFrom",e[e.SelectTokenTo=7]="SelectTokenTo",e}({}),an=function(e){return e[e.In=0]="In",e[e.Out=1]="Out",e}({}),on=function(e){return e[e.UnexpectedError=0]="UnexpectedError",e[e.InvalidPair=1]="InvalidPair",e[e.NotEnoughLiquidity=2]="NotEnoughLiquidity",e[e.ChangellyMinSwap=3]="ChangellyMinSwap",e[e.ChangellyMaxSwap=4]="ChangellyMaxSwap",e[e.NotEnoughForFee=5]="NotEnoughForFee",e[e.TooSmallAmount=6]="TooSmallAmount",e}({}),rn=function(e){return e[e.OnChain=0]="OnChain",e[e.CrosschainFromWallet=1]="CrosschainFromWallet",e[e.CrosschainToWallet=2]="CrosschainToWallet",e}({}),sn=function(e){return e[e.Info=0]="Info",e[e.Password=1]="Password",e[e.ConnectHardware=2]="ConnectHardware",e[e.ConfirmHardware=3]="ConfirmHardware",e}({}),ln=function(e){return e[e.Connect=0]="Connect",e[e.Connecting=1]="Connecting",e[e.Failed=2]="Failed",e[e.ConnectedWithSeveralWallets=3]="ConnectedWithSeveralWallets",e[e.ConnectedWithSingleWallet=4]="ConnectedWithSingleWallet",e[e.WaitingForBrowser=5]="WaitingForBrowser",e}({}),cn=function(e){return e[e.None=0]="None",e[e.StakeInitial=1]="StakeInitial",e[e.StakePassword=2]="StakePassword",e[e.StakeConnectHardware=3]="StakeConnectHardware",e[e.StakeConfirmHardware=4]="StakeConfirmHardware",e[e.StakeComplete=5]="StakeComplete",e[e.UnstakeInitial=6]="UnstakeInitial",e[e.UnstakePassword=7]="UnstakePassword",e[e.UnstakeConnectHardware=8]="UnstakeConnectHardware",e[e.UnstakeConfirmHardware=9]="UnstakeConfirmHardware",e[e.UnstakeComplete=10]="UnstakeComplete",e[e.ClaimPassword=11]="ClaimPassword",e[e.ClaimConnectHardware=12]="ClaimConnectHardware",e[e.ClaimConfirmHardware=13]="ClaimConfirmHardware",e}({}),dn=function(e){return e[e.Password=0]="Password",e[e.ConnectHardware=1]="ConnectHardware",e[e.ConfirmHardware=2]="ConfirmHardware",e}({}),un=function(e){return e[e.Initial=0]="Initial",e[e.PushNotifications=1]="PushNotifications",e[e.Appearance=2]="Appearance",e[e.Assets=3]="Assets",e[e.Security=4]="Security",e[e.Dapps=5]="Dapps",e[e.Language=6]="Language",e[e.About=7]="About",e[e.Disclaimer=8]="Disclaimer",e[e.NativeBiometricsTurnOn=9]="NativeBiometricsTurnOn",e[e.SelectTokenList=10]="SelectTokenList",e[e.WalletVersion=11]="WalletVersion",e[e.LedgerConnectHardware=12]="LedgerConnectHardware",e[e.LedgerSelectWallets=13]="LedgerSelectWallets",e[e.HiddenNfts=14]="HiddenNfts",e[e.BackupWallet=15]="BackupWallet",e}({}),mn=function(e){return e[e.Initial=0]="Initial",e[e.Password=1]="Password",e[e.ConnectHardware=2]="ConnectHardware",e[e.ConfirmHardware=3]="ConfirmHardware",e[e.Done=4]="Done",e}({}),pn=function(e){return e[e.Receive=0]="Receive",e[e.Transfer=1]="Transfer",e[e.Swap=2]="Swap",e[e.Stake=3]="Stake",e}({}),fn=function(e){return e[e.Assets=0]="Assets",e[e.Activity=1]="Activity",e[e.Explore=2]="Explore",e[e.Nft=3]="Nft",e[e.NotcoinVouchers=4]="NotcoinVouchers",e}({}),hn=function(e){return e[e.Nft=0]="Nft",e}({}),gn=function(e){return e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e}({});function vn(t){return e.zll[t]}function wn(t){return t in e.zll?e.zll[t]:void 0}const yn=Object.fromEntries(Object.entries(e.zll).map((e=>{let[t,{nativeToken:n}]=e;return[n.slug,t]})));function bn(e){return!!e&&e in yn}function En(t,n){return Boolean(t.startsWith("ton-")||n&&t===e.Tu9.slug)}function kn(e){return vn(e).nativeToken}function Cn(e){const t=e.split("-");return t.length>1?t[0]:yn[e]}function Nn(e){return{...(0,s.Up)(e,["symbol","slug","name","image","decimals","keywords","chain","tokenAddress"]),amount:0n,totalValue:"0",price:0,priceUsd:0,change24h:0}}function Sn(e,t,n,a){return Object.entries(e.bySlug).filter((e=>{let[,t]=e;return!a||a(t)})).map((e=>{var n;let[a,{symbol:o,name:r,image:i,decimals:s,keywords:l,chain:c,tokenAddress:d,isPopular:u,color:m,price:p=0,priceUsd:f=0}]=e;const h=null!==(n=t[a])&&void 0!==n?n:0n;return{symbol:o,slug:a,amount:h,price:p,priceUsd:f,name:r,image:i,decimals:s,isDisabled:!1,canSwap:!0,isPopular:u,keywords:l,totalValue:(0,wt.CF)(h,s).mul(p).toString(),color:m,chain:c,tokenAddress:d}})).sort(n)}const An=(0,Ke.A)((e=>qe(((e,t)=>{const n=["TON","USD₮","USDT","BTC","ETH","jUSDT","jWBTC"],a=new Map(n.map(((e,t)=>[e,t])));return Sn(t,e,((e,t)=>(a.has(e.symbol)?a.get(e.symbol):n.length)-(a.has(t.symbol)?a.get(t.symbol):n.length)),(e=>e.isPopular))})))),Tn=(0,Ke.A)((e=>qe(((e,t)=>Sn(t,e,((e,t)=>e.name.trim().toLowerCase().localeCompare(t.name.trim().toLowerCase()))))))),In=(0,Ke.A)((e=>qe((function(t,n,a,o){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return Et(e)(t,n,o,r,i).filter((e=>e.slug in a.bySlug&&!e.isDisabled))}))));function Bn(e){var t;const n=null===(t=Ze(e))||void 0===t||null===(t=t.balances)||void 0===t?void 0:t.bySlug;if(n&&e.swapTokenInfo)return Tn(e.currentAccountId)(n,e.swapTokenInfo)}function _n(e){const{tokenInSlug:t}=e.currentSwap;return void 0===t?void 0:e.swapTokenInfo.bySlug[t]}function xn(e){const{tokenOutSlug:t}=e.currentSwap;return void 0===t?void 0:e.swapTokenInfo.bySlug[t]}function Ln(t){var n;const{tokenInSlug:a=e.Hfd,tokenOutSlug:o=e.rKC}=t.currentSwap,r=Cn(a),i=Cn(o);if("ton"===r&&"ton"===i)return rn.OnChain;const{addressByChain:s}=null!==(n=Xe(t))&&void 0!==n?n:{addressByChain:{}};return r in s?rn.CrosschainFromWallet:rn.CrosschainToWallet}var Dn=i(809);function On(t){return function(e){return void 0!==e.diesel&&("not-available"!==(t=e.diesel).status&&void 0!==t.amount);var t}(t)?function(e){let{diesel:t}=e;const n="stars-fee"===t.status?"stars":"token",a=function(e,t,n){const a=(0,yt.z)(n.toString()).div(t.toString());return BigInt((0,yt.z)(e.toString()).mul(a).round().toString())}(t.realFee,t.nativeAmount,t.amount),o=(0,Dn.UA)(t.amount,a),r=(0,Dn._O)(0n,t.realFee-t.nativeAmount);return{isGasless:!0,canTransferFullBalance:!1,fullFee:{precision:"lessThan",terms:{[n]:t.amount,native:t.remainingFee},nativeSum:t.nativeAmount+t.remainingFee},realFee:{precision:"approximate",terms:{[n]:o,native:r},nativeSum:t.realFee},excessFee:t.nativeAmount+t.remainingFee-t.realFee}}(t):function(t){const n={isGasless:!1,canTransferFullBalance:t.tokenSlug===e.Tu9.slug};return void 0!==t.fee&&(n.fullFee={precision:t.realFee===t.fee?"exact":"lessThan",terms:{native:t.fee},nativeSum:t.fee},n.realFee=n.fullFee),void 0!==t.realFee&&(n.realFee={precision:t.realFee===t.fee?"exact":"approximate",terms:{native:t.realFee},nativeSum:t.realFee}),void 0!==t.fee&&void 0!==t.realFee&&(n.excessFee=t.fee-t.realFee),n}(t)}function Pn(e){var t;let{tokenBalance:n,tokenSlug:a,fullFee:o,canTransferFullBalance:r}=e;if(void 0===n)return;if(r||!o)return n;let i=null!==(t=o.token)&&void 0!==t?t:0n;var s;return bn(a)&&(i+=null!==(s=o.native)&&void 0!==s?s:0n),(0,Dn._O)(n-i,0n)}function Fn(e){var t;return"stars-fee"===e.status?0n:null!==(t=e.amount)&&void 0!==t?t:0n}var Rn=i(67491);function Mn(e,t,n){const a=vn(t);return e&&(a[n?"addressPrefixRegex":"addressRegex"].test(e)||a.isDnsSupported&&(0,Rn.iy)(e))}function Un(e){const{currentTransfer:t}=e,n=Ct(e,t.tokenSlug),{fullFee:a,canTransferFullBalance:o}=On(t);return Pn({tokenBalance:n,tokenSlug:t.tokenSlug,fullFee:null==a?void 0:a.terms,canTransferFullBalance:o})}function Hn(e){const{tokenSlug:t,toAddress:n}=e.currentTransfer,a=Cn(t);if(!n)return t;for(const r of[!1,!0]){var o;if(!n||Mn(n,a,r))return t;const i=null===(o=Xe(e))||void 0===o?void 0:o.addressByChain;if(i)for(const t of Object.keys(i)){if(!Mn(n,t,r))continue;const a=Bt(e,t);if(a)return a.slug}}return t}const Wn=(0,Ke.A)((e=>qe(((e,t)=>{const n=t?Object.values(t):void 0;return null!=n&&n.length?n:[e]}))));function $n(e,t){var n,a;const{stateById:o}=null!==(n=null===(a=et(e,t))||void 0===a?void 0:a.staking)&&void 0!==n?n:{};return Wn(t)(e.stakingDefault,o)}function Vn(t,n){var a,o;const{stateById:r,stakingId:i,shouldUseNominators:s}=null!==(a=null===(o=et(t,n))||void 0===o?void 0:o.staking)&&void 0!==a?a:{};return r&&i&&i in r?r[i]:s?e.Ba4:t.stakingDefault}function zn(t,n){const a=et(t,n);return Vn(t,n).tokenSlug===e.Tu9.slug?null==a?void 0:a.stakingHistory:void 0}We("initApi",(async(e,a)=>{var o;(0,n.R)(a.apiUpdate,{isElectron:t.cp,isNativeBottomSheet:t.bA,isIosApp:t.ZH,isAndroidApp:t.xy,referrer:null!==(o=new URLSearchParams(window.location.search).get("r"))&&void 0!==o?o:void 0}),await(0,n.p)("waitDataPreload");const{currentAccountId:r}=Me();if(!r)return;const i=Xt(e,r);(0,n.p)("activateAccount",r,i)})),We("resetApiSettings",((n,a,o)=>{const r=!(null!=o&&o.areAllDisabled);e.hL1&&(a.toggleTonMagic({isEnabled:!1}),a.toggleTonProxy({isEnabled:!1})),(e.hL1||t.cp)&&a.toggleDeeplinkHook({isEnabled:r}),a.changeBaseCurrency({currency:e.wOb})}));var qn,Kn,jn=i(16546);!function(e){e[e.NONE=0]="NONE",e[e.TOUCH_ID=1]="TOUCH_ID",e[e.FACE_ID=2]="FACE_ID",e[e.FINGERPRINT=3]="FINGERPRINT",e[e.FACE_AUTHENTICATION=4]="FACE_AUTHENTICATION",e[e.IRIS_AUTHENTICATION=5]="IRIS_AUTHENTICATION",e[e.MULTIPLE=6]="MULTIPLE"}(qn||(qn={})),function(e){e[e.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",e[e.BIOMETRICS_UNAVAILABLE=1]="BIOMETRICS_UNAVAILABLE",e[e.USER_LOCKOUT=2]="USER_LOCKOUT",e[e.BIOMETRICS_NOT_ENROLLED=3]="BIOMETRICS_NOT_ENROLLED",e[e.USER_TEMPORARY_LOCKOUT=4]="USER_TEMPORARY_LOCKOUT",e[e.AUTHENTICATION_FAILED=10]="AUTHENTICATION_FAILED",e[e.APP_CANCEL=11]="APP_CANCEL",e[e.INVALID_CONTEXT=12]="INVALID_CONTEXT",e[e.NOT_INTERACTIVE=13]="NOT_INTERACTIVE",e[e.PASSCODE_NOT_SET=14]="PASSCODE_NOT_SET",e[e.SYSTEM_CANCEL=15]="SYSTEM_CANCEL",e[e.USER_CANCEL=16]="USER_CANCEL",e[e.USER_FALLBACK=17]="USER_FALLBACK"}(Kn||(Kn={}));const Yn=(0,jn.F3)("NativeBiometric",{web:()=>i.e(542).then(i.bind(i,35542)).then((e=>new e.NativeBiometricWeb))});var Gn=i(23174);function Qn(e){return self.crypto.getRandomValues(new Uint8Array(e))}var Xn=i(10309);const Jn=e.tKX?25:250,Zn=t.pz?350:250,ea=Xn.Z2,ta=window.innerHeight,na=[];let aa=oa();function oa(){return sa(),ua(),setTimeout(ua,ea),ra()}function ra(){return{width:window.innerWidth,height:window.innerHeight,screenHeight:window.screen.height,safeAreaTop:ca(),safeAreaBottom:da()}}window.addEventListener("orientationchange",(0,c.nF)((()=>{aa=oa()}),Zn,!1)),t.pz||window.addEventListener("resize",(0,c.nF)((()=>{aa=oa()}),Jn,!0)),e.UMQ&&i.e(408).then(i.bind(i,408)).then((e=>{let{Keyboard:t}=e;t.addListener("keyboardDidShow",(async e=>{await la(e.keyboardHeight);for(const e of na)(0,g.A)(e)})),t.addListener("keyboardWillHide",(()=>{la(0)}))})),"visualViewport"in window&&(t.pz||t.Ni)&&window.visualViewport.addEventListener("resize",(0,c.nF)((n=>{const a=n.target;if(t.pz&&e.tKX){const e=ta-a.height;la(e>40?e:0).finally((()=>{(0,k.YS)((()=>{aa={...ra(),height:a.height}}))}))}else sa(),aa={...ra(),height:a.height}}),Jn,!0));const ia=()=>aa;function sa(){if(!t.pz&&!t.Ni||e.UMQ||t.pz&&e.tKX)return;const n=t.pz?window.visualViewport.height+window.visualViewport.pageTop:window.innerHeight;(0,k.RK)((()=>{const e=.01*n;document.documentElement.style.setProperty("--vh",`${e}px`)}))}function la(e){return new Promise((t=>{(0,k.RK)((()=>{(0,d.ZM)(document.body,{paddingBottom:e?`${e}px`:""}),t()}))}))}function ca(){const e=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--safe-area-top-value"),10);return Number.isNaN(e)?0:e}function da(){const e=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--safe-area-bottom-value"),10);return Number.isNaN(e)?0:e}function ua(){const{safeAreaTop:e,safeAreaBottom:t}=ra(),{documentElement:n}=document;(0,k.RK)((()=>{n.classList.toggle("with-safe-area-top",!Number.isNaN(e)&&e>0),n.classList.toggle("with-safe-area-bottom",!Number.isNaN(t)&&t>0)}))}let ma,pa=!1,fa=!1,ha=!1,ga=!1,va=0;function wa(){var e;const t=null===(e=ma)||void 0===e?void 0:e.BiometricManager;if(!t)return;const{isBiometricAvailable:n,isAccessGranted:a,isAccessRequested:o}=t;return n&&o&&!a}function ya(){return ma}function ba(){return new Promise((e=>{window.addEventListener("DOMContentLoaded",(()=>{e(ya())}))}))}function Ea(){const{top:e,left:t,right:n,bottom:a}=ma.safeAreaInset,{top:o,left:r,right:i,bottom:s}=ma.contentSafeAreaInset;document.documentElement.style.setProperty("--safe-area-top",`${e+o}px`),document.documentElement.style.setProperty("--safe-area-left",`${t+r}px`),document.documentElement.style.setProperty("--safe-area-right",`${n+i}px`),document.documentElement.style.setProperty("--safe-area-bottom",`${a+s}px`)}function ka(){ma.isFullscreen?(He().openFullscreen(),Na()):(He().closeFullscreen(),Sa())}function Ca(e){Sa(),"ALREADY_FULLSCREEN"===e.error&&(He().openFullscreen(),Na())}function Na(){var e;va+=1,1===va&&(null===(e=ma)||void 0===e||e.disableVerticalSwipes())}function Sa(){var e;va=Math.max(0,va-1),0===va&&(null===(e=ma)||void 0===e||e.enableVerticalSwipes())}function Aa(e){return new Promise(((t,n)=>{ya().BiometricManager.requestAccess(e,(e=>{e?t(e):n(new Error("Access denied"))}))}))}async function Ta(t){var n;const a=null===(n=ya())||void 0===n?void 0:n.BiometricManager;if(!a.isAccessGranted&&!await Aa({reason:e.C39}))throw new Error("Access to biometric data has not been granted");return new Promise(((e,n)=>{a.updateBiometricToken(t,(a=>{a?e(t):n(new Error("Failed to update or save the biometric token"))}))}))}async function Ia(){var t;const n=null===(t=ya())||void 0===t?void 0:t.BiometricManager;if(!n.isAccessGranted&&!await Aa({reason:e.C39}))throw new Error("Biometric access was denied. Please grant access to proceed.");return new Promise(((e,t)=>{n.authenticate({reason:""},((n,a)=>{n?e({success:n,token:a}):t(new Error("Biometric authentication failed. Please try again."))}))}))}var Ba=i(48287).Buffer,_a=function(e){return e[e.Ed25519=-8]="Ed25519",e[e.ES256=-7]="ES256",e[e.RS256=-257]="RS256",e}(_a||{});const xa=e.C39,La=e.C39,Da={createCredential:async function(){const e=window.location.hostname,t=Qn(32),n=Qn(32),a={publicKey:{challenge:Qn(32),rp:{name:xa,id:e},user:{id:t,name:La,displayName:xa},pubKeyCredParams:[{type:"public-key",alg:_a.ES256},{type:"public-key",alg:_a.RS256},{type:"public-key",alg:_a.Ed25519}],authenticatorSelection:{requireResidentKey:!0,userVerification:"preferred"},extensions:{credBlob:n,hmacCreateSecret:!0},timeout:12e4,excludeCredentials:[]}},o=await navigator.credentials.create(a);if(!o)throw new Error("Missing credential");return{type:o.getClientExtensionResults().credBlob?"credBlob":"userHandle",password:{credBlob:Ba.from(n).toString("hex"),userHandle:Ba.from(t).toString("hex")},credential:o}},verify:async function(e){let{credential:t,password:n,type:a}=e;await(0,c.v7)(300);const o=t.response&&t.response.getTransports&&t.response.getTransports(),r=Ba.from(t.rawId).toString("hex"),i={publicKey:{challenge:Qn(32),allowCredentials:[{id:t.rawId,type:"public-key",transports:o}],userVerification:"required",extensions:{getCredBlob:!0}}},s=await navigator.credentials.get(i);if(!s)throw new Error("Missing authentication");const l=s.response;let d;if("userHandle"===a){if(!l.userHandle)throw new Error("Missing stored userHandle");if(!Ba.from(n.userHandle,"hex").equals(Ba.from(l.userHandle)))throw new Error("Stored blob not equals passed blob");d=n.userHandle}if(!d)throw new Error("Missing stored blob");return{config:{kind:"webauthn",type:a,credentialId:r,transports:o},password:d}},getPassword:async function(e){if("webauthn"!==e.kind)throw new Error("Unexpected auth kind");const{credentialId:t,transports:n,type:a}=e,o=(new AbortController).signal,r={publicKey:{challenge:Qn(32),allowCredentials:[{id:Ba.from(t,"hex"),type:"public-key",transports:n}],userVerification:"required",extensions:{getCredBlob:!0}},signal:o},i=await navigator.credentials.get(r);if(o.aborted)throw new Error("Verification canceled");const s=i.response,l=i.getClientExtensionResults();if("userHandle"===a){if(!s.userHandle)throw new Error("missing userHandle");return Ba.from(s.userHandle).toString("hex")}var c;return Ba.from(null!==(c=l.getCredBlob)&&void 0!==c?c:"").toString("hex")}};var Oa=i(48287).Buffer;const Pa=async function(e){let t,{credential:n}=e;try{if(n)t=await Da.verify(n);else{var a;const e=Oa.from(Qn(32)).toString("hex"),n=await(null===(a=window.electron)||void 0===a?void 0:a.encryptPassword(e));if(!n)return t;t={password:e,config:{kind:"electron-safe-storage",encryptedPassword:n}}}}catch(e){(0,l.SJ)("setupBiometrics",e)}return t},Fa=async function(t){return e.tKX?(await Ta(t),{password:t,config:{kind:"native-biometrics"}}):(await Yn.setCredentials({username:e.hkI,password:t,server:e.aD4}),{password:t,config:{kind:"native-biometrics"}})},Ra=function(){return e.tKX?Ta(""):Yn.deleteCredentials({server:e.aD4})},Ma=async function(t){let n;try{if("webauthn"===t.kind)n=await Da.getPassword(t);else if("electron-safe-storage"===t.kind){var a;n=await(null===(a=window.electron)||void 0===a?void 0:a.decryptPassword(t.encryptedPassword))}else if(e.tKX&&"native-biometrics"===t.kind){const{success:e,token:t}=await Ia();if(!e)return;n=t}else{if("native-biometrics"!==t.kind)throw new Error("Unexpected auth kind");if(!await Yn.verifyIdentity({title:e.C39,subtitle:"",isWeakAuthenticatorAllowed:!0,maxAttempts:1}).then((()=>!0)).catch((()=>!1)))return;n=(await Yn.getCredentials({server:e.aD4})).password}}catch(e){(0,l.SJ)("submitTransferPassword",e)}return n},Ua=(0,jn.F3)("App",{web:()=>i.e(168).then(i.bind(i,41168)).then((e=>new e.AppWeb))}),Ha=(0,jn.F3)("SplashScreen",{web:()=>i.e(82).then(i.bind(i,77082)).then((e=>new e.SplashScreenWeb))}),Wa=(0,jn.F3)("SafeArea",{web:()=>i.e(88).then(i.bind(i,28088)).then((e=>new e.SafeAreaWeb))}),$a=(0,jn.F3)("AppLauncher",{web:()=>i.e(895).then(i.bind(i,73895)).then((e=>new e.AppLauncherWeb))});var Va=i(48287).Buffer;const za=/[-a-z0-9@:%._+~#=]{1,256}\.[a-z0-9()]{1,6}\b([-a-z0-9()@:%_+.~#?&/=]*)/gi,qa=new Set(["http:","https:"]),Ka={ton:{name:"Tonscan",base:{mainnet:"https://tonscan.org/",testnet:"https://testnet.tonscan.org/"},address:"{base}address/{address}",explorer:"{base}jetton/{address}",transaction:"{base}tx/{hash}"},tron:{name:"Tronscan",base:{mainnet:"https://tronscan.org/#/",testnet:"https://shasta.tronscan.org/#/"},address:"{base}address/{address}",explorer:"{base}token20/{address}",transaction:"{base}transaction/{hash}"}};function ja(e){try{return new URL(e).hostname}catch(t){return(0,l.SJ)("getHostnameFromUrl",t),e}}function Ya(e){return Ka[e].name}function Ga(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Ka[e].base[t?"testnet":"mainnet"]}function Qa(t,n,a){var o;if(n&&n!==e.n3s)return Ka[t].transaction.replace("{base}",Ga(t,a)).replace("{hash}","ton"===t?(o=n,Va.from(o,"base64").toString("hex")):n)}function Xa(e,t,n){if(t)return Ka[e].address.replace("{base}",Ga(e,n)).replace("{address}",t)}function Ja(e,t){if(e)return`${Ga("ton",t)}nft/${e}`}function Za(e){return e.startsWith("https://t.me/")}function eo(t){return`${e.dmC}${t.metadata.mtwCardId}.webp`}async function to(t,n){if(!e.UMQ||null!=n&&n.isExternal||!t.startsWith("http")||Za(t)){const n=e.UMQ&&await async function(e){try{return(await $a.openUrl({url:e})).completed}catch(e){return!1}}(t);n||window.open(t,"_blank","noopener")}else He().openBrowser({url:t,title:null==n?void 0:n.title,subtitle:null==n?void 0:n.subtitle})}function no(e){e.preventDefault(),to(e.currentTarget.href)}let ao;const oo=new Promise((e=>{ao=e})),ro="ton://",io="mtw://",so=["https://my.tt","https://go.mytonwallet.org"],lo=new Map,co=e=>{const t=matchMedia(e),n=new Set,a=()=>{n.forEach((e=>e(t.matches)))};return t.addEventListener?t.addEventListener("change",a,{passive:!0}):t.addListener(a),{mql:t,dispatchers:n,listener:a}};function uo(e,t){const[n,a]=ie(function(){var n;if(null===(n=null==t?void 0:t.initializeWithValue)||void 0===n||n){let t=lo.get(e);return t||(t=co(e),lo.set(e,t)),t.mql.matches}}());return le((()=>(((e,t)=>{let n=lo.get(e);n||(n=co(e),lo.set(e,n)),n.dispatchers.add(t),t(n.mql.matches)})(e,a),()=>((e,t)=>{const n=lo.get(e);if(!n)return;const{mql:a,dispatchers:o,listener:r}=n;o.delete(t),o.size||(lo.delete(e),a.removeEventListener?a.removeEventListener("change",r):a.removeListener(r))})(e,a))),[e]),n}let mo;function po(){mo=uo(`(max-width: ${e.c2m-.02}px)`);const t=uo("(max-height: 43.5rem)");return{isPortrait:mo,isSmallHeight:t,isLandscape:!mo,screenHeight:window.screen.height}}function fo(){return mo}var ho=function(e){return e.CheckinWithR="r",e.Swap="swap",e.BuyWithCrypto="buy-with-crypto",e.BuyWithCard="buy-with-card",e.Stake="stake",e.Giveaway="giveaway",e.Transfer="transfer",e.Explore="explore",e}(ho||{});let go;function vo(t){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Me().currentAccountId||(go=t),Eo(t)?async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!Eo(e))return!1;const{openLoadingOverlay:a,closeLoadingOverlay:o}=He();a();const r=await(0,n.p)("startSseConnection",{url:e,isFromInAppBrowser:t});return o(),r&&to(r,{isExternal:!t}),!0}(t,a):ko(t)?async function(t){try{var n;t=No(t);const{pathname:i,searchParams:s}=new URL(t),c=i.split("/").find(Boolean),d=He(),u=Me(),{isTestnet:m}=u.settings,p=null===(n=Xe(u))||void 0===n?void 0:n.ledger;switch((0,l.MD)("Processing deeplink",t),c){case ho.CheckinWithR:{var a;const e=null===(a=i.match(/r\/(.*)$/))||void 0===a?void 0:a[1];return to("https://checkin.mytonwallet.org"+(e?`?r=${e}`:"")),!0}case ho.Giveaway:{var o;const t=null===(o=i.match(/giveaway\/([^/]+)/))||void 0===o?void 0:o[1];return to(`${e.qsd}${t?`?giveawayId=${t}`:""}`),!0}case ho.Swap:return m?d.showError({error:"Swap is not supported in Testnet."}):p?d.showError({error:"Swap is not yet supported by Ledger."}):d.startSwap({tokenInSlug:s.get("in")||e.Tu9.slug,tokenOutSlug:s.get("out")||e.rKC,amountIn:Io(s.get("amount"))||"10"}),!0;case ho.BuyWithCrypto:return m?d.showError({error:"Swap is not supported in Testnet."}):p?d.showError({error:"Swap is not yet supported by Ledger."}):d.startSwap({tokenInSlug:s.get("in")||e.Czf,tokenOutSlug:s.get("out")||e.Tu9.slug,amountIn:Io(s.get("amount"))||"100"}),!0;case ho.BuyWithCard:return m?d.showError({error:"Buying with card is not supported in Testnet."}):d.openOnRampWidgetModal({chain:"ton"}),!0;case ho.Stake:return m?d.showError({error:"Staking is not supported in Testnet."}):d.startStaking(),!0;case ho.Transfer:return await yo(So(t));case ho.Explore:{d.closeSettings(),d.openExplore(),d.setActiveContentTab({tab:fn.Explore});const e=i.split("/").filter(Boolean)[1];if(e){var r;const t=null===(r=Me().exploreData)||void 0===r?void 0:r.sites.find((t=>{let{url:n}=t;return(Za(n)?new URL(n).pathname.split("/").filter(Boolean)[0]:new URL(n).hostname)===e}));t&&to(t.url)}return!0}}}catch(e){(0,l.SJ)("processSelfDeeplink",e)}return!1}(t):yo(t)}function wo(e){return e.startsWith(ro)}async function yo(e){await oo;const t=He(),n=Me();if(!n.currentAccountId)return!1;const a=bo(e,n);return!!a&&("error"in a?(t.showError({error:a.error}),!0):(t.startTransfer({isPortrait:fo(),...a}),mo||t.setLandscapeActionsActiveTabIndex({index:pn.Transfer}),!0))}function bo(t,n){const a=function(e){if("string"==typeof e&&wo(e)&&e.includes("/transfer/"))try{const t=e.replace(ro,"https://"),n=new URL(t),a=n.pathname.replace(/\//g,""),o=_o(n,"amount"),r=_o(n,"text"),i=_o(n,"bin"),s=_o(n,"jetton"),l=_o(n,"nft"),c=_o(n,"init")||_o(n,"stateInit");return{toAddress:a,amount:o?BigInt(o):void 0,comment:r,jettonAddress:s,nftAddress:l,binPayload:i?Bo(i):void 0,stateInit:c?Bo(c):void 0}}catch(e){return}}(t);if(!a)return;const{toAddress:o,amount:r,comment:i,binPayload:l,jettonAddress:c,nftAddress:d,stateInit:u}=a,m={toAddress:Mn(o,"ton")?o:void 0,tokenSlug:e.Tu9.slug,amount:r,comment:i,binPayload:l,stateInit:u};if(c){const e=c?function(e,t){return Object.values(e.tokenInfo.bySlug).find((e=>e.tokenAddress===t))}(n,c):void 0;if(e){const t=function(e,t){const n=kt(e);return null==n?void 0:n.find((e=>e.slug===t))}(n,e.slug);t?m.tokenSlug=e.slug:m.error="$dont_have_required_token"}else m.error="$unknown_token_address"}if(d){const e=function(e,t){return dt(e,e.currentAccountId,t)}(n,d);e?m.nfts=[e]:m.error="$dont_have_required_nft"}return(0,s.Oy)(m)}function Eo(e){return e.startsWith("tc://")||e.startsWith("mytonwallet-tc://")||Ao(e).startsWith(Ao("https://connect.mytonwallet.org"))}function ko(e){return(e=To(e)).startsWith(io)||so.some((t=>e.startsWith(t)))}function Co(e,t){let n=e;if(ko(e))try{e=No(e);const{pathname:t}=new URL(e);t.split("/").find(Boolean)===ho.Transfer&&(n=So(e))}catch(e){(0,l.SJ)("parseDeeplinkTransferParams",e)}return bo(n,t)}function No(e){return e.startsWith(io)?e.replace(io,`${so[0]}/`):e}function So(e){e=To(e);for(const t of so)if(e.startsWith(t))return e.replace(`${t}/`,ro);return e}function Ao(e){return e.replace(/^https?:\/\//,"")}function To(e){return e.replace(/^http:\/\//,"https://")}function Io(e){return String(Number(e)||"")}function Bo(e){return e.replace(/ /g,"+")}function _o(e,t){var n;return null!==(n=e.searchParams.get(t))&&void 0!==n?n:void 0}var xo=i(94465);const Lo=(0,jn.F3)("PushNotifications",{});function Do(e,t){return t.map((t=>{const n=e.accounts.byId[t];return{title:n.title,address:n.addressByChain.ton,chain:"ton"}}))}let Oo;function Po(){return Oo}let Fo=0;function Ro(e){const{showAnyAccountTx:t,showAnyAccountTokenActivity:n,openAnyAccountStakingInfo:a,switchAccountAndOpenUrl:o}=He(),r=Me(),i=e.notification.data,{action:l,address:c}=i,d=void 0===c?void 0:lt(r,"ton",c),u="mainnet";if("openUrl"!==l){if(d)if("nativeTx"===l||"swap"===l){const{txId:e}=i;t({accountId:d,txId:e,network:u})}else if("jettonTx"===l){const{slug:e}=i;n({accountId:d,slug:e,network:u})}else if("staking"===l){const{stakingId:e}=i;a({accountId:d,network:u,stakingId:e})}}else o({accountId:d,network:u,...(0,s.Up)(i,["url","isExternal","title","subtitle"])})}function Mo(e){const t=e.value;He().registerNotifications({userToken:t,platform:Po()}),window.addEventListener("focus",(async()=>{const e=Me(),a=Object.keys(e.pushNotifications.enabledAccounts||[]);a.length&&Fo<=Date.now()&&(await(0,n.p)("subscribeNotifications",{userToken:t,platform:Po(),addresses:Do(e,a)}),Fo=Date.now()+36e5)}),{capture:!0})}const Uo=["location="+(t.pz?"no":"yes"),"lefttoright="+(t.pz?"no":"yes"),"usewkwebview=yes","clearcache=no","clearsessioncache=no","hidden=yes","toolbarposition=top","hidenavigationbuttons=yes","hideurlbar=no","backbuttoncaption=Back","allowInlineMediaPlayback=yes"].join(",");let Ho,Wo=!1,$o=!1,Vo=!1,zo=0;function qo(e){for(const[t,n]of Object.entries(e.insets))document.documentElement.style.setProperty(`--safe-area-${t}`,`${"android"===Po()&&"top"===t?n+8:n}px`)}function Ko(){return zo}function jo(){return e.UMQ&&Wo||e.tKX&&fa}function Yo(){return e.UMQ&&$o||e.tKX&&ha}function Go(){return e.UMQ&&Vo||e.tKX&&ga}function Qo(){return e.UMQ||(0,t.v3)()}class Xo extends jn.E_{async write(e){if("undefined"==typeof navigator||!navigator.clipboard)throw this.unavailable("Clipboard API not available in this browser");if(void 0!==e.string)await this.writeText(e.string);else if(e.url)await this.writeText(e.url);else{if(!e.image)throw new Error("Nothing to write");if("undefined"==typeof ClipboardItem)throw this.unavailable("Writing images to the clipboard is not supported in this browser");try{const t=await(await fetch(e.image)).blob(),n=new ClipboardItem({[t.type]:t});await navigator.clipboard.write([n])}catch(e){throw new Error("Failed to write image")}}}async read(){if("undefined"==typeof navigator||!navigator.clipboard)throw this.unavailable("Clipboard API not available in this browser");if("undefined"==typeof ClipboardItem)return this.readText();try{const e=await navigator.clipboard.read(),t=e[0].types[0],n=await e[0].getType(t);return{value:await this._getBlobData(n,t),type:t}}catch(e){return this.readText()}}async readText(){if("undefined"==typeof navigator||!navigator.clipboard||!navigator.clipboard.readText)throw this.unavailable("Reading from clipboard not supported in this browser");return{value:await navigator.clipboard.readText(),type:"text/plain"}}async writeText(e){if("undefined"==typeof navigator||!navigator.clipboard||!navigator.clipboard.writeText)throw this.unavailable("Writting to clipboard not supported in this browser");await navigator.clipboard.writeText(e)}_getBlobData(e,t){return new Promise(((n,a)=>{const o=new FileReader;t.includes("image")?o.readAsDataURL(e):o.readAsText(e),o.onloadend=()=>{const e=o.result;n(e)},o.onerror=e=>{a(e)}}))}}const Jo=(0,jn.F3)("Clipboard",{web:()=>new Xo});var Zo=i(23693);const er=(0,jn.F3)("Haptics",{web:()=>i.e(789).then(i.bind(i,83789)).then((e=>new e.HapticsWeb))});async function tr(){var t;e.tKX?null===(t=ya())||void 0===t||t.HapticFeedback.impactOccurred("soft"):e.UMQ&&await er.impact({style:Zo.kn.Light})}async function nr(){var t;e.tKX?null===(t=ya())||void 0===t||t.HapticFeedback.notificationOccurred("error"):e.UMQ&&(await er.impact({style:Zo.kn.Medium}),await(0,c.v7)(100),await er.impact({style:Zo.kn.Medium}),await(0,c.v7)(75),await er.impact({style:Zo.kn.Light}))}async function ar(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var n;(e.UMQ||e.tKX)&&(e.tKX?null===(n=ya())||void 0===n||n.HapticFeedback.notificationOccurred("success"):await er.impact({style:Zo.kn.Light}),t&&await(0,c.v7)(1300))}const or=document.createElement("textarea");or.setAttribute("readonly",""),or.tabIndex=-1,or.className="visually-hidden";const rr=t=>(tr(),e.UMQ?Jo.write({string:t}):navigator.clipboard.writeText(t));async function ir(){if(e.tKX)return new Promise((e=>{var t;null===(t=ya())||void 0===t||t.readTextFromClipboard((t=>{tr(),e({text:t,type:"text/plain"})}))}));if(e.UMQ){const{value:e,type:t}=await Jo.read();return tr(),{text:e,type:t}}return{text:await navigator.clipboard.readText(),type:"text/plain"}}const sr=function(e){for(const t in e)if(e.hasOwnProperty(t))return!1;return!0};function lr(t){return 1===t.length&&t[0].length===e.PcM}const cr=/(\*\*|__).+?\1/g;function dr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["simple_markdown","br"];return"string"!=typeof e?[e]:(0,s.oE)(t.reduce(((e,t)=>{switch(t){case"simple_markdown":return e.reduce(((e,t)=>{if("string"!=typeof t)return e.push(t),e;const n=t.split(cr),a=t.match(cr)||[];return e.push(n[0]),a.reduce(((e,t,a)=>{e.push(t.startsWith("**")?he.createElement("b",null,t.replace(/\*\*/g,"")):he.createElement("i",null,t.replace(/__/g,"")));const o=2*a+2;return n[o]&&e.push(n[o]),e}),e)}),[]);case"br":return e.reduce(((e,t)=>{if("string"!=typeof t)return e.push(t),e;const n=t.split(/\r\n|\r|\n/g).reduce(((e,t,n,a)=>{const o=t.trimStart(),r=t.length-o.length;return e.push(String.fromCharCode(160).repeat(r)+o),n!==a.length-1&&e.push(he.createElement("br",null)),e}),[]);return[...e,...n]}),[])}return e}),[e]))}const ur=JSON.parse('{"$auth_intro":"**Securely** store crypto\\nand make blockchain payments\\nat the **speed of light**.\\n","Create New Wallet":"Create New Wallet","Import From %1$d Secret Words":"Import From %1$d Secret Words","More about %app_name%":"More about %app_name%","Creating Wallet...":"Creating Wallet...","On the count of three...":"On the count of three...","$back_up_auth":"Back Up","$back_up_security":"Back Up","Passwords must be equal.":"Passwords must be equal.","To protect your wallet as much as possible, use a password with":"To protect your wallet as much as possible, use a password with","$auth_password_rule_8chars":"at least 8 characters","$auth_password_rule_one_small_char":"one small letter","$auth_password_rule_one_capital_char":"one capital letter","$auth_password_rule_one_digit":"one digit","$auth_password_rule_one_special_char":"and one special character","The wallet is imported":"The wallet is imported","The wallet is ready":"The wallet is ready","Create a password to protect it.":"Create a password to protect it.","Enter your password":"Enter your password","Enter your password...":"Enter your password...","...and repeat it":"...and repeat it","Cancel":"Cancel","Insecure Password":"Insecure Password","Your have entered an insecure password, which can be easily guessed by scammers.":"Your have entered an insecure password, which can be easily guessed by scammers.","Continue or change password to something more secure?":"Continue or change password to something more secure?","Change":"Change","%1$d Secret Words":"%1$d Secret Words","Secret Words":"Secret Words","$auth_import_mnemonic_description":"You can restore access to your wallet by entering the **12 or 24 secret words** that you wrote down when creating the wallet.\\n","Let’s make sure your secrets words are recorded correctly.":"Let’s make sure your secrets words are recorded correctly.","$mnemonic_check_words_list":"Please enter the words **%1$s** below.","$mnemonic_check_error":"The secret words you have entered do not match the ones in the list. Please try again.","$check_words_description":"Now let’s check that you wrote\\nyour secret words correctly.\\n","$mnemonic_list_description":"Write down these words in the **correct order** and store them in a **secure place**.","$private_key_description":"Save this private key **correctly** and store it in a **secure place**.","$mnemonic_warning":"**Do not** send or show it to anyone,\\n**do not** enter it anywhere.\\n","View Secret Words":"View Secret Words","View TON Private Key":"View TON Private Key","Can be imported to non-multichain wallets for TON.":"Can be imported to non-multichain wallets for TON.","Can be imported to any multichain wallet supporting TON.":"Can be imported to any multichain wallet supporting TON.","Let\'s Check":"Let\'s Check","Let\'s Check!":"Let\'s Check!","Safety Rules":"Safety Rules","$safety_rules_private_key_one":"On the next screen you will see the **TON private key**. Save it correctly and **store in a secure place**.\\n","$safety_rules_private_key_two":"It allows to **open your wallet** if you lose your password or access to this device.","$safety_rules_private_key_three":"If anybody else sees this private key, your funds **may be stolen**. **Do not send or show it to anyone**, not even developers or technical support.","$safety_rules_one":"On the next screen you will see the **secret words**. Write them down in the correct order and **store in a secure place**.\\n","$safety_rules_two":"They allow to **open your wallet** if you lose your password or access to this device.","$safety_rules_three":"If anybody else sees these words your funds **may be stolen**. **Do not send it to anyone**, not even developers or technical support.","Understood":"Understood","Congratulations!":"Congratulations!","Continue":"Continue","Close":"Close","Back":"Back","Search...":"Search...","Main menu":"Main menu","TON Proxy":"TON Proxy","Toggle TON Proxy":"Toggle TON Proxy","TON Magic":"TON Magic","Toggle TON Magic":"Toggle TON Magic","Open Telegram Web":"Open Telegram Web","Back Up Secret Words":"Back Up Secret Words","Settings":"Settings","About %app_name%":"About %app_name%","Exit":"Exit","Remove Wallet":"Remove Wallet","Something went wrong.":"Something went wrong.","Something went wrong":"Something went wrong","Logo":"Logo","$about_description1":"Securely store crypto, explore decentralized apps, and make blockchain payments at the **speed of light**.","$about_description2":"The wallet is **non-custodial and safe**. The developers **do not** have access to your funds, browser history or any other information.","What is TON Proxy?":"What is TON Proxy?","$about_extension_description1":"TON Proxy opens a way to **decentralized internet** by allowing to anonymously access TON Sites.","More info and demo.":"More info and demo.","$about_extension_description2":"TON Magic provides native **Telegram integration** by patching the official Telegram Web app.","$about_extension_description3":"Turn it on to send and receive Toncoins from any Telegram user.","$about_proxy_magic_title":"What about %ninja% TON Proxy and %unicorn% TON Magic?","$about_proxy_magic_description":"To enjoy **decentralized internet**, access **TON Sites**, and leverage native **Telegram integration**, feel free to install the %extension_link%.","$about_extension_link_text":"**%app_name% extension**","Is it open source?":"Is it open source?","$about_wallet_github":"Yes, it is. Feel free to explore our %github_link%.","$about_github_link_text":"**GitHub repository**","Is there a community?":"Is there a community?","$about_wallet_community":"Sure, welcome to our %community_link%.","$about_community_link_text":"**Telegram channel**","Currency History":"Currency History","$add_account_description1":"**%app_name%** allows you to seamlessly\\nswitch between **multiple accounts**.\\n","Enter Password":"Enter Password","Send":"Send","Add Wallet":"Add Wallet","Done":"Done","Delete":"Delete","Delete Saved Address":"Delete Saved Address","Are you sure you want to remove this address from your saved ones?":"Are you sure you want to remove this address from your saved ones?","You will be able to save it again via Transaction Info with this address.":"You will be able to save it again via Transaction Info with this address.","Address removed from saved":"Address removed from saved","Warning!":"Warning!","Log Out":"Remove Wallet","$logout_without_backup_warning":"You have not backed up this wallet. If you remove it now, you will lose access to your tokens and NFTs.","$logout_accounts_without_backup_warning":"You have not backed up %links%. If you proceed, you will lose access to your tokens and NFTs.","$logout_warning":"This will remove the current wallet from the app. Make sure you have your **secret words** backed up.","Your address was copied!":"Your address was copied!","Create Deposit Link":"Create Deposit Link","$receive_invoice_description":"You can specify the amount and purpose of\\nthe payment to save the sender some time.\\n","Amount":"Amount","Comment":"Comment","Comment or Memo":"Comment or Memo","Share this URL to receive %token%":"Share this URL to receive %token%","Invoice link was copied!":"Invoice link was copied!","Theme":"Theme","Language":"Language","Enable Animations":"Enable Animations","Base Currency":"Base Currency","Investor View":"Investor View","Toggle Investor View":"Toggle Investor View","Hide Tiny Transfers":"Hide Tiny Transfers","Toggle Hide Tiny Transfers":"Toggle Hide Tiny Transfers","Network":"Network","Developer Options":"Developer Options","Confirmation":"Confirmation","Signing Data":"Signing Data","Contract Initialization Data":"Contract Initialization Data","$dont_have_required_token":"You don’t have the required token to send, but it can be swapped.","$unknown_token_address":"Unknown token address.","$dont_have_required_nft":"You don’t have the required NFT to send.","$state_init_requires_bin":"Contract initialization data requires the bin parameter.","$state_init_invalid":"Invalid contract initialization data.","$signature_warning":"Signing custom data is very dangerous. Use it only if you trust the source of it.","Sign":"Sign","Done!":"Done!","Signing was confirmed!":"Signing was confirmed!","Transaction Info":"Transaction Info","Transaction in progress":"Transaction in progress","Comment was copied!":"Comment was copied!","Sender":"Sender","Recipient":"Recipient","Address was copied!":"Address was copied!","Repeat":"Repeat","Switch Account":"Switch Account","Copy wallet address":"Copy wallet address","View address on %ton_explorer_name%":"View address on %ton_explorer_name%","You have just created a new wallet":"You have just created a new wallet","You can now transfer your tokens from another wallet or exchange.":"You can now transfer your tokens from another wallet or exchange.","Assets":"Assets","Activity":"Activity","NFT":"NFT","No NFTs yet":"No NFTs yet","$nft_explore_offer":"Explore a marketplace to discover\\nexisting NFT collections.\\n","Received":"Received","Sent":"Sent","$transaction_from":"from %address%","$transaction_to":"to %address%","Wallet is not backed up":"Wallet is not backed up","Testnet Version":"Testnet Version","Error reading clipboard":"Error reading clipboard","$fee_value":"Fee %fee%","$fee_value_with_colon":"Fee: %fee%","Pay fee with %stars_symbol%":"Pay fee with %stars_symbol%","Loading...":"Loading...","Recipient Address":"Recipient Address","Wallet address or domain":"Wallet address or domain","Incorrect address":"Incorrect address","Incorrect address.":"Incorrect address.","Paste":"Paste","Insufficient balance":"Insufficient balance","InsufficientBalance":"Insufficient balance","Optional":"Optional","$send_token_symbol":"Send %1$s","Is it all ok?":"Is it all ok?","Receiving Address":"Receiving Address","Fee":"Fee","Edit":"Edit","Confirm":"Confirm","Coins have been sent!":"Coins have been sent!","Details":"Details","Change password visibility":"Change password visibility","Amount value":"Amount value","Save Address":"Save Address","Name":"Name","Save":"Save","Copy":"Copy","Remove From Saved":"Remove From Saved","View on Explorer":"View on Explorer","No suggestions, you\'re on your own!":"No suggestions, you\'re on your own!","Play Sounds":"Play Sounds","Focus on asset value rather than current balance":"Focus on asset value rather than current balance","$logout_confirm":"Remove **all** wallets","$logout_warning2":"Wallets are located in the decentralized TON Blockchain. If you want the wallet to be deleted simply transfer all the TON from it and leave it empty.","$tiny_transfers_help":"Hide transfers worth less than $%value%. Keep in mind: small amounts are often sent by spammers and scammers.","Today":"Today","Yesterday":"Yesterday","Now":"Now","$receive_ton_description":"Scan this QR or share your address to top up your wallet balance.","Wrong password, please try again.":"Wrong password, please try again.","Appearance":"Appearance","Light":"Light","Dark":"Dark","System":"System","$stake_asset":"Stake %symbol%","Earn from your tokens while holding them":"Earn from your tokens while holding them","Why this is safe":"Why this is safe","Why is staking safe?":"Why is staking safe?","$safe_staking_description1":"Staking is **fully decentralized** and operated by the **official TON Liquid Staking** smart contracts.","$safe_staking_description2":"The deposited stake will be used for the TON network validation as part of its **proof-of-stake** essence.","$safe_staking_description3":"You can withdraw your stake at **any time** and it will be deposited back to your account within **two days**.","$safe_staking_description_jetton1":"Token staking is **fully decentralized** and operated by the **open-source** smart contracts developed by %jvault_link% and passed **security audits**.","$safe_staking_description_jetton2":"You can withdraw your stake at **any time** and it will be deposited back to your account **instantly**.","$min_value":"Min %value%","Est. balance in a year":"Est. balance in a year","Confirm Staking":"Confirm Staking","Confirm operation with your password":"Confirm operation with your password","Coins have been staked!":"Coins have been staked!","View":"View","Stake More":"Stake More","Staking":"Staking","Currently Staked":"Currently Staked","Unstake":"Unstake","Earning History":"Earning History","$total":"Total: %value%","$unstake_asset":"Unstake %symbol%","$unstake_information_with_time":"Your current deposit will be fully sent back to your wallet in %time%.\\nThis will stop your earnings.\\n","Amount to unstake":"Amount to unstake","Confirm Unstaking":"Confirm Unstaking","Request for unstaking is sent!":"Request for unstaking is sent!","$unstaking_when_receive":"You will receive your unstaked deposit in %time%.","$unstake_insufficient_balance":"You need to have %balance% on your main balance to proceed with unstaking.","at %annual_yield%":"at %annual_yield%","Est. %annual_yield%":"Est. %annual_yield%","Staked":"Staked","Unstake Requested":"Unstake Requested","Unstaked":"Unstaked","Unstaking":"Unstaking","The network fee has slightly changed, try sending again.":"The network fee has slightly changed, try sending again.","Transfer was unsuccessful. Try again later.":"Transfer was unsuccessful. Try again later.","Unstaking was unsuccessful. Try again later.":"Unstaking was unsuccessful. Try again later.","Staking was unsuccessful. Try again later.":"Staking was unsuccessful. Try again later.","Invalid amount":"Invalid amount","Invalid address":"Invalid address","Domain is not connected to a wallet":"Domain is not connected to a wallet","Unexpected error":"Unexpected error","Unexpected Error":"Unexpected Error","Earn":"Earn","Earning":"Earning","InvalidAmount":"Invalid amount","InvalidToAddress":"Invalid recipient address","Unexpected":"Unexpected error","DomainNotResolved":"Domain Not Resolved","You can save this address for quick access while sending.":"You can save this address for quick access while sending.","Stake Again":"Stake Again","Earned":"Earned","Connect Dapp":"Connect Dapp","Select wallet to use on this dapp":"Select wallet to use on this dapp","Connect":"Connect","Dapp Permissions":"Dapp Permissions","$dapp_can_view_balance":"%dappname% will be able to view wallet address and balance.","Send Transaction":"Send Transaction","Payload":"Payload","$many_transactions":"%1$d Transactions","Total Amount":"Total Amount","$unstaking_short":"Unstaking","Handle ton:// links":"Handle ton:// links","Back up wallet to have full access to it":"Back up wallet to have full access to it","Consider More Secure Version":"Consider More Secure Version","Install our native app or browser extension.":"Install our native app or browser extension.","Scam":"Scam","Scam comment is hidden.":"Scam comment is hidden.","Display":"Display","Connected Dapps":"Connected Dapps","Disconnect All Dapps":"Disconnect All Dapps","Disconnect":"Disconnect","Disconnect Dapp":"Disconnect Dapp","Disconnect Dapps":"Disconnect Dapps","Are you sure you want to disconnect?":"Are you sure you want to disconnect %dappname%?","Are you sure you want to disconnect all websites?":"Are you sure you want to disconnect all websites?","$dapps-description":"You can log in on dapps that support %app_name%. They can view wallet address, balance, and request operations.","Logged in with %app_name%":"Logged in with %app_name%","No active connections":"No active connections","Other":"Other","Assets & Activity":"Assets & Activity","Token Settings":"Token Settings","My Tokens":"My Tokens","Add Token":"Add Token","Delete Token":"Delete Token","Are you sure you want to delete?":"Are you sure you want to delete %token%?","Hide Tokens With No Cost":"Hide Tokens With No Cost","Sort By Cost":"Sort By Cost","Update %app_name%":"Update %app_name%","Connect Ledger":"Connect Ledger","Connecting to your Ledger...":"Connecting to your Ledger...","Failed to connect":"Failed to connect","Ledger Connected!":"Ledger Connected!","Select Ledger Wallets":"Select Ledger Wallets","%1$d Selected":"%1$d Selected","Add":"Add","Try Again":"Try Again","Driver":"Driver","Unlock it and open the TON App":"Unlock it and open the TON App","Maybe you need to check the password or change the driver.":"Maybe you need to check the password or change the driver.","Confirm via Ledger":"Confirm via Ledger","Please confirm transaction on your Ledger":"Please confirm transaction on your Ledger","Declined":"Declined","Create Wallet":"Create Wallet","Switch to the newly opened tab to connect Ledger.":"Switch to the newly opened tab to connect Ledger.","Once connected, switch back to this window to proceed.":"Once connected, switch back to this window to proceed.","Not all transactions were sent successfully":"Not all transactions were sent successfully","The time on your device is incorrect, sync it and try again":"The time on your device is incorrect, sync it and try again","Name or Address...":"Name or Address...","Such error, many tabs":"Such error, many tabs","$many_tabs_error_description":"%app_name% supports only one active tab with the app.\\nPlease reload this page to continue using this tab or close it.\\n","Reload App":"Reload App","Please confirm operation on your Ledger":"Please confirm operation on your Ledger","Token Not Found":"Token Not Found","Try another keyword or address.":"Try another keyword or address.","Decrypt":"Decrypt","Encrypted Message":"Encrypted Message","Message is encrypted.":"Message is encrypted.","$dapp_ledger_warning1":"You are about to send a multi-way transaction using your **Ledger** wallet. You will need to sign each underlying transaction **one by one manually**.","$dapp_ledger_warning2":"Please take your time and do not interrupt the process.","Agree":"Agree","SwapTitle":"Swap","Swap":"Swap","You sell":"You sell","You buy":"You buy","Swap Details":"Swap Details","Blockchain Fee":"Blockchain Fee","Aggregator Fee":"Aggregator Fee","Included":"Included","Price Impact":"Price Impact","Minimum Received":"Minimum Received","Slippage":"Slippage","$swap_from_to":"Swap %from% %icon% %to%","The exchange rate is below market value!":"The exchange rate is %value% below market value!","Invalid Pair":"Invalid Pair","We do not recommend to perform an exchange, try to specify a lower amount.":"We do not recommend to perform an exchange, try to specify a lower amount.","$swap_minimum_received_tooltip1":"This is the least amount of new tokens you\'ll get from this swap, considering current market conditions, slippage tolerance, and potential price impact.","$swap_minimum_received_tooltip2":"It\'s an expected minimum, but if the conditions change a lot while your swap is being processed, the final amount could be less.","$swap_price_impact_tooltip1":"This shows how much your trade might change the token\'s price.","$swap_price_impact_tooltip2":"Big trades can make the price go up or down more. Lower is usually better.","$swap_slippage_tooltip1":"This sets how much the price is allowed to change before your swap is processed.","$swap_slippage_tooltip2":"If during the processing of your swap, the price changes more than this value, your order will be canceled.","Coins have been swapped!":"Coins have been swapped!","Slippage not specified":"Slippage not specified","Slippage too high":"Slippage too high","Not Enough %symbol%":"Not Enough %symbol%","Use Responsibly":"Use Responsibly","$auth_responsibly_description1":"%app_name% is a **self-custodial** wallet, which means that **only you** have full control and, most importantly, **full responsibility** for your funds.\\n","$auth_responsibly_description2":"Your private keys are stored on your device and are subject to **hacker attacks**. If your computer is infected with **malware**, your funds are likely to be stolen.\\n","$auth_responsibly_description3":"The %app_name% team is **not responsible** for the safety of your funds, just as your computer manufacturer or internet provider is not responsible.\\n","$auth_responsibly_description4":"**Never** store all your funds in one place. **Diversify** and use various software and hardware. Always **do your own research** and learn more about crypto security.\\n","Start Wallet":"Start Wallet","$auth_backup_warning_notice":"Now you need to manually **back up secret keys** in case you forget your password or lose access to this device.\\n","Later":"Later","Back Up Now":"Back Up Now","I have read and accept this information":"I have read and accept this information.","$ledger_verify_address":"Always verify pasted address using your Ledger device.","$ledger_not_ready":"Ledger is not connected or TON app is not open.","Verify now":"Verify now","Invalid address format. Only URL Safe Base64 format is allowed.":"Invalid address format. Only URL Safe Base64 format is allowed.","$auth_backup_description1":"This is a **secure wallet**\\nand is only **controlled by you**.\\n","$auth_backup_description2":"And with great power comes **great responsibility**.","$auth_backup_description3":"You need to manually **back up secret keys** in case you forget your password or lose access to this device.\\n","Swap Placed":"Swap Placed","Swapping":"Swapping","Swapped":"Swapped","Swap Failed":"Swap Failed","Swap Again":"Swap Again","Terms of Use":"Terms of Use","Privacy Policy":"Privacy Policy","Insufficient liquidity":"Insufficient liquidity","This address is new and never received transfers before.":"This address is new and never received transfers before.","Create Backup":"Create Backup","Sending":"Sending","Failed":"Failed","Refunded":"Refunded","On Hold":"On Hold","Expired":"Expired","In Progress":"In Progress","Waiting for Payment":"Waiting for Payment","Blockchain":"Blockchain","Your address on another blockchain":"Your address on another blockchain","Please provide an address of your wallet in %blockchain% blockchain to receive bought tokens.":"Please provide an address of your wallet in %blockchain% blockchain to receive bought tokens.","The time for sending coins is over.":"The time for sending coins is over.","You have not sent the coins to the specified address.":"You have not sent the coins to the specified address.","$swap_changelly_to_ton_description1":"Send %value% to this address in %blockchain% blockchain within %time%","Exchange failed and coins were refunded to your wallet.":"Exchange failed and coins were refunded to your wallet.","$swap_changelly_kyc_security":"Please contact **%email%** and provide **Transaction ID** to pass the KYC procedure:","Swap Expired":"Swap Expired","Swap On Hold":"Swap On Hold","Swap Refunded":"Swap Refunded","Address for %blockchain% transfer":"Address for %blockchain% transfer","Cross-chain exchange provided by Changelly":"Cross-chain exchange provided by Changelly","$swap_changelly_agreement_message":"By continuing, you agree to the %terms% and %policy% and understand that the transaction may trigger verification according to %kyc%.","$swap_changelly_terms_of_use":"terms of use","$swap_changelly_privacy_policy":"privacy policy","Password must contain %length% digits.":"Password must contain %length% digits.","Deposit Link":"Deposit Link","$swap_changelly_from_ton_description":"Tokens will be sent to your address in %blockchain% blockchain soon:","Please note that it may take up to a few hours for tokens to appear in your wallet.":"Please note that it may take up to a few hours for tokens to appear in your wallet.","Minimum amount":"Minimum %value%","Maximum amount":"Maximum %value%","Display Tray Icon":"Display Tray Icon","Auto-Updates":"Auto-Updates","Biometric Authentication":"Biometric Authentication","If you turn off biometric protection, you will need to create a password.":"If you turn off biometric protection, you will need to create a password.","Enter your current password":"Enter your current password","Turn On Biometrics":"Turn On Biometrics","Please confirm transaction using biometrics":"Please confirm transaction using biometrics","Enabling biometric confirmation will reset the password.":"Enabling biometric confirmation will reset the password.","Biometric Registration":"Biometric Registration","Step 1 of 2. Registration":"Step 1 of 2. Registration","Step 2 of 2. Verification":"Step 2 of 2. Verification","Download Logs":"Download Logs","Copy Logs":"Copy Logs","Logs were copied!":"Logs were copied!","Biometric setup failed.":"Biometric setup failed.","Biometric confirmation failed.":"Biometric confirmation failed.","Failed to disable biometrics.":"Failed to disable biometrics.","Biometric Confirmation":"Biometric Confirmation","Please verify the operation.":"Please verify the operation.","Create Password":"Create Password","Complete":"Complete","Verification":"Verification","Create a password or use biometric authentication to protect it.":"Create a password or use biometric authentication to protect it.","Connect Biometrics":"Connect Biometrics","Use Password":"Use Password","Biometrics Disabled":"Biometrics Disabled","Biometrics Enabled":"Biometrics Enabled","A request is already pending":"A request is already pending","Please confirm operation using biometrics":"Please confirm operation using biometrics","Scan QR Code":"Scan QR Code","Permission denied. Please grant camera permission to use the QR code scanner.":"Permission denied. Please grant camera permission to use the QR code scanner.","This QR Code is not supported":"This QR Code is not supported","An error on the server side. Please try again.":"An error on the server side. Please try again.","Address was saved!":"Address was saved!","US Dollar":"US Dollar","Euro":"Euro","Ruble":"Ruble","Yuan":"Yuan","Bitcoin":"Bitcoin","Toncoin":"Toncoin","$max_balance":"Max: %balance%","$unstake_information_instantly":"You will get your deposit instantly","Select Token":"Select Token","MY":"MY","POPULAR":"POPULAR","Not Found":"Not Found","Wallet is ready!":"Wallet is ready!","Wallet is imported!":"Wallet is imported!","Create a code to protect it":"Create a code to protect it","Enter your code again":"Enter your code again","Codes don\'t match":"Codes don’t match","Code set successfully":"Code set successfully","Use Biometrics":"Use Biometrics","Use Touch ID":"Use Touch ID","Use Face ID":"Use Face ID","You can connect your biometric data for more convenience":"You can connect your biometric data for more convenience","Connect Touch ID":"Connect Touch ID","Connect Face ID":"Connect Face ID","Not Now":"Not Now","Touch ID":"Touch ID","Face ID":"Face ID","Turn Off Touch ID":"Turn Off Touch ID","Turn Off Face ID":"Turn Off Face ID","Turn Off Biometrics":"Turn Off Biometrics","Enter code":"Enter code","Enter code or use Face ID":"Enter code or use Face ID","Enter code or use Touch ID":"Enter code or use Touch ID","Enter code or use biometrics":"Enter code or use biometrics","Wrong code, please try again":"Wrong code, please try again","Scan your fingerprint":"Scan your fingerprint","Incorrect code, please try again.":"Incorrect code, please try again.","Correct":"Correct","Confirm Action":"Confirm Action","Confirm Swap":"Confirm Swap","Confirm Rewards Claim":"Confirm Rewards Claim","%amount% to %address%":"%amount% to %address%","%amount_from% to %amount_to%":"%amount_from% to %amount_to%","Failed to enable biometrics.":"Failed to enable biometrics.","Please try to confirm your biometrics again":"Please try to confirm your biometrics again","Unknown error":"Unknown error","Are you sure you want to disable Face ID?":"Are you sure you want to disable Face ID?","Are you sure you want to disable Touch ID?":"Are you sure you want to disable Touch ID?","Are you sure you want to disable biometrics?":"Are you sure you want to disable biometrics?","Yes":"Yes","Biometric confirmation failed":"Biometric confirmation failed","No Activity":"No Activity","Add / Buy":"Add / Buy","Buy with Card":"Buy with Card","Buy with Crypto":"Buy with Crypto","Cannot load widget":"Cannot load widget","Explore":"Explore","No partners yet":"No partners yet","Clear":"Clear","Get TON":"Get TON","$unstake_up_to_information":"Instantly – up to %value%","$all_balance":"All: %balance%","$unstaking_not_enough_balance":"You need to have %value% on your main balance to proceed with unstaking.","$ledger_verify_address_on_device":"Please, verify the address on your Ledger.","Wallet Versions":"Wallet Versions","$read_more_about_wallet_version":"Read more about types of wallet contracts on %ton_link%.","$current_wallet_version":"Your current wallet version is %version%.","You have tokens on other versions of your wallet. You can import them from here.":"You have tokens on other versions of your wallet. You can import them from here.","$wallet_switch_version_1":"You can also %action%.","$wallet_switch_version_2":"switch to another wallet version","or import from":"or import from","Insufficient fee":"Insufficient fee","$insufficient_fee":"Insufficient fee: %fee%","Required":"Required","Comment is too long.":"Comment is too long.","Memo":"Memo","Memo was copied!":"Memo was copied!","$hide_tokens_no_cost_help":"Hide tokens worth less than $%value%. Keep in mind: worthless tokens are often sent by spammers and scammers. On the same screen below, you can hide individual tokens.","No internet connection. Please check your connection and try again.":"No internet connection. Please check your connection and try again.","To use this feature, first enable Face ID in your phone settings.":"To use this feature, first enable Face ID in your phone settings.","To use this feature, first enable biometrics in your phone settings.":"To use this feature, first enable biometrics in your phone settings.","Open Settings":"Open Settings","$service_token_transfer_warning":"You are about to transfer an important service token required to withdraw your deposit or complete service operations. Please ensure this is the action you intend to take.","No Price":"No Price","$ledger_not_supported_operation":"This operation is not supported by your version of the Ledger TON App. Please update it using Ledger Live.","$ledger_unsupported_ton_connect":"TonConnect is not supported by version of your Ledger TON App. Please update it using Ledger Live.","$dapp_transfer_tokens_burn":"Burning %amount%","$dapp_dns_set_wallet_payload":"Changing linked wallet of domain %domain% to %address%","$dapp_dns_delete_wallet_payload":"Deleting linked wallet of domain %domain%","$dapp_dns_change_record_payload":"Changing \\"%category%\\" record of domain %domain% to %value%","$dapp_dns_delete_record_payload":"Deleting \\"%category%\\" record of domain %domain%","$dapp_token_bridge_pay_swap_payload":"Confirmation of exchange via cross-chain bridge","$dapp_liquid_staking_deposit_payload":"Deposit to liquid staking","$dapp_liquid_staking_vote_payload":"Voting \\"%vote%\\" for proposal %votingAddress%","$dapp_single_nominator_change_validator_payload":"Changing address of SingleNominator staking contract validator to %address%","$dapp_single_nominator_withdraw_payload":"Withdrawal of %amount% TON from SingleNominator staking contract","$dapp_vesting_add_whitelist_payload":"Adding %address% to vesting wallet whitelist","Search or enter address":"Search or enter address","Connecting dapps is not yet supported by Ledger.":"Connecting dapps is not yet supported by Ledger.","Time synchronization issue. Please ensure your device\'s time settings are correct.":"Time synchronization issue. Please ensure your device\'s time settings are correct.","Data was copied!":"Data was copied!","Open NFT Collection":"Open NFT Collection","Previous":"Previous","Next":"Next","Insufficient TON for fee.":"Insufficient TON for fee.","Send NFT":"Send NFT","NFT has been sent!":"NFT has been sent!","Cannot be sent":"Cannot be sent","NFT is for sale":"NFT is for sale","More actions":"More actions","Open on %ton_explorer_name%":"Open on %ton_explorer_name%","Swap is not supported in Testnet.":"Swap is not supported in Testnet.","Swap is not yet supported by Ledger.":"Swap is not yet supported by Ledger.","Buying with card is not supported in Testnet.":"Buying with card is not supported in Testnet.","Staking is not supported in Testnet.":"Staking is not supported in Testnet.","Get Support":"Get Support","$transfer_inactive_contract_error":"You entered an address in the \\"EQ...\\" format, but the address is not active, so the transaction will not be completed.\\nIf you definitely want to send to this address, then enter the address in the \\"UQ...\\" format.\\n","Successfully":"Successfully","Unstake More":"Unstake More","WrongAddress":"The dapp requested a transaction from another wallet.","Are you sure you want to burn this NFT? It will be lost forever.":"Are you sure you want to burn this NFT?\\nIt will be lost forever.\\n","$multi_burn_nft_warning":"You are going to burn %amount% NFTs.","$multi_send_nft_warning":"The process may take ~%duration% minute(s). Please do not close the app and do not switch accounts until it is finished.","Burn NFT":"Burn NFT","Burn":"Burn","Private Key":"Private Key","%amount% NFTs":"%amount% NFTs","1 NFT":"1 NFT","1 NFT Selected":"1 NFT Selected","%amount% NFTs Selected":"%amount% NFTs Selected","For sale. Cannot be sent and burned":"For sale. Cannot be sent and burned","Select":"Select","Send All":"Send All","Burn All":"Burn All","Select All":"Select All","Collection":"Collection","Transaction ID was copied!":"Transaction ID was copied!","$swap_changelly_support":"If there are any problems, please contact %livechat% or %email% and provide **Transaction ID**:","Changelly Live Chat":"Changelly Live Chat","Your %blockchain% Address":"Your %blockchain% Address","Vesting":"Vesting","Vesting Balance":"Vesting Balance","Ready to Unfreeze":"Ready to Unfreeze","You will receive your unfrozen coins in a few minutes.":"You will receive your unfrozen coins in a few minutes.","Vesting Schedule":"Vesting Schedule","Loyal User Airdrop":"Loyal User Airdrop","Unfrozen":"Unfrozen","Missed":"Missed","Frozen":"Frozen","until %date%":"until %date%","%volume% in %amount% parts":"%volume% in %amount% parts","Unfreeze":"Unfreeze","Claim":"Claim","Confirm Unfreezing":"Confirm Unfreezing","Insufficient Balance for Fee":"Insufficient Balance for Fee","$fee_value_bold":"**Fee:** %fee%","%app_name% Features":"%app_name% Features","Security":"Security","To avoid entering the passcode every time, you can use biometrics.":"To avoid entering the passcode every time, you can use biometrics.","Change Passcode":"Change Passcode","Change Password":"Change Password","Confirm Password":"Confirm Password","The passcode will be changed for all your wallets.":"The passcode will be changed for all your wallets.","Password Changed!":"Password Changed!","Passcode Changed!":"Passcode Changed!","New code set successfully":"New code set successfully","Codes don’t match":"Codes don’t match","Enter your new code":"Enter your new code","Re-enter your new code":"Re-enter your new code","Install on Desktop":"Install on Desktop","Install on Mobile":"Install on Mobile","Install App":"Install App","WrongNetwork":"The dapp requested a transaction from another network.","Hide":"Hide","Hidden NFTs":"Hidden NFTs","Hidden By Me":"Hidden By Me","Probably Scam":"Probably Scam","$settings_nft_probably_scam_description":"These NFTs were automatically disabled by Anti-Scam Protection. You can return the necessary ones to Home if you think they were included in this list by mistake.","Unhide":"Unhide","Hide All":"Hide All","Hide NFT":"Hide NFT","Reload Page":"Reload Page","Open in Safari":"Open in Safari","Open in Browser":"Open in browser","CopyURL":"Copy URL","Share":"Share","Unhide NFT":"Unhide NFT","$unhide_nft_warning":"Are you sure you want to unhide %name%? This NFT looks suspicious and may not match its name and description.","Hide NFTs":"Hide NFTs","Are you sure you want to hide this NFT collection containing %number% NFTs?":"Are you sure you want to hide this NFT collection containing %number% NFTs?","Are you sure you want to hide these %number% NFTs?":"Are you sure you want to hide these %number% NFTs?","Show":"Show","Confirm Sending":"Confirm Sending","Confirm Burning":"Confirm Burning","Confirm Passcode":"Confirm Passcode","Enter your code":"Enter your code","$hardware_payload_warning":"A third-party service is requesting access to your wallet — this could lead to the loss of funds. Cancel the operation if you are not sure about the reliability of this service.","$hardware_blind_sign_not_enabled":"A third-party service is requesting access to your wallet — this could lead to the loss of funds. Cancel the operation if you are not sure about the reliability of this service.\\n\\nTo continue, enable the \\"Blind Signing\\" option in the settings of the TON App on Ledger.\\n","$hardware_blind_sign_not_enabled_internal":"To continue, enable the \\"Blind Signing\\" option in the settings of the TON App on Ledger.","Switch to W5":"Switch to W5","Not Scam":"Not Scam","Untitled":"Untitled","Multichain":"Multichain","$swap_too_small_amount":"Too small amount","Not enough %symbol%":"Not enough %symbol%","$receive_tron_description":"Scan this QR or share your address to top up your wallet balance.","You have just created a new multichain wallet":"You have just created a new multichain wallet","Now you can transfer tokens from your TON and TRON wallets.":"Now you can transfer tokens from your TON and TRON wallets.","Enter Secret Words":"Enter Secret Words","Turn this off so you can manually download updates and verify signatures.":"Turn this off so you can manually download updates and verify signatures.","InvalidMnemonic":"Your mnemonic words are invalid","NFT Menu":"NFT Menu","Connection Type":"Connection Type","Ledger is not supported on this device":"Ledger is not supported on this device","Connect your Ledger":"Connect your Ledger","$app_lock_description":"When app lock is enabled, a lock icon appears on the card on the main page. Use it to lock %app_name%.","App Lock":"App Lock","Auto-Lock":"Auto-Lock","Disabled":"Disabled","30 seconds":"30 seconds","3 minutes":"3 minutes","10 minutes":"10 minutes","If away for 30 sec":"If away for 30 sec","If away for 3 min":"If away for 3 min","If away for 10 min":"If away for 10 min","Unlock":"Unlock","This address mimics another address that you previously interacted with.":"This address mimics another address that you previously interacted with.","Biometric authentication failed":"Biometric authentication failed","Reset biometrics in security settings, or use a passcode.":"Reset biometrics in security settings, or use a passcode.","Best Rate":"Best Rate","via %dex_name%":"via %dex_name%","$swap_dex_chooser_rate_title":"Analyzed actual rates on **DeDust** and **STON.fi** to use the **best rate**.","You will receive %amount% **more**.":"You will receive %amount% **more**.","You will spend %amount% **less**.":"You will spend %amount% **less**.","Best":"Best","Use Best Rate":"Use Best Rate","Switch to %dex_name%":"Switch to %dex_name%","Built-in DEX Aggregator":"Built-in DEX Aggregator","Add tokens":"Add tokens","No tokens yet":"No tokens yet","$no_tokens_description":"Receive tokens from another wallet, or simply enable preferred tokens in the settings for monitoring.","Exchange Rate":"Exchange Rate","Install Card":"Install Card","Reset Card":"Reset Card","Apply Palette":"Install Palette","Reset Palette":"Reset Palette","Notifications & Sounds":"Notifications & Sounds","Sounds":"Sounds","Push Notifications":"Push Notifications","Select up to %count% wallets for notifications":"Select up to %count% wallets for notifications","$swap_aggregator_fee_tooltip":"A built-in **DEX aggregator** finds the **best rate** across available DEXes. Service fee is %percent%.","Accumulated Rewards":"Accumulated Rewards","$swap_reverse_prohibited":"Setting the buy amount is impossible for this pair of tokens","Blockchain Fee Details":"Blockchain Fee Details","Final Fee":"Final Fee","Excess":"Excess","$fee_details":"%full_fee% need to be immediately debited from your wallet to pay the fee. Part of this will be returned **in **%excess_symbol% to you as excess within a few minutes.\\n\\nThis is how %chain_name% Blockchain works.\\n","Got It":"Got It","Wallet":"Wallet","Connected":"Connected","All Dapps":"All Dapps","Trending":"Trending","No Data":"No Data","Toggle fullscreen":"Toggle fullscreen","Request is sent!":"Request is sent!","Transaction ID":"Transaction ID","Help Center":"Help Center","MyTonWallet Tips":"MyTonWallet Tips","$auth_import_24_mnemonic_description":"You can restore access to your wallet by entering the **24 secret words** that you wrote down when creating the wallet.\\n","$returned_value":"~ %value% will be returned","Open %nft_marketplace%":"Open %nft_marketplace%","Link was copied!":"Link was copied!","Share Link":"Share Link","Dapp Fee Details":"Dapp Fee Details","$dapp_return_details":"%fee_amount% will be immediately debited from your wallet to pay the fee.\\n\\n%received_amount% will be returned to you within a few minutes.\\n","$dapp_return_disclaimer":"The displayed returned amount is not guaranteed and may be manipulated by malicious dapps. Cancel the operation if you are not sure about the reliability of this service.","Additional Amount Sent":"Additional Amount Sent","Show Sensitive Data":"Show Sensitive Data","Hide Sensitive Data":"Hide Sensitive Data","Copy Address":"Copy Address","Copy Transaction ID":"Copy Transaction ID","Requesting Unstake":"Requesting Unstake","Calling Contract":"Calling Contract","Contract Called":"Contract Called","Deploying Contract":"Deploying Contract","Contract Deployed":"Contract Deployed","Minting":"Minting","Minted":"Minted","Burning":"Burning","Burned":"Burned","Address Updated":"Address Updated","Updating Address":"Updating Address","Site Updated":"Site Updated","Updating Site":"Updating Site","Subdomains Updated":"Subdomains Updated","Updating Subdomains":"Updating Subdomains","Storage Updated":"Storage Updated","Updating Storage":"Updating Storage","Domain Record Deleted":"Domain Record Deleted","Deleting Domain Record":"Deleting Domain Record","Renewing Domain":"Renewing Domain","Domain Renewed":"Domain Renewed","Providing Liquidity":"Providing Liquidity","Liquidity Provided":"Liquidity Provided","Withdrawing Liquidity":"Withdrawing Liquidity","Liquidity Withdrawn":"Liquidity Withdrawn","Bounced":"Bounced","Bouncing":"Bouncing","NFT Auction Bid":"NFT Auction Bid","Bidding at NFT Auction":"Bidding at NFT Auction","Receiving":"Receiving","Change Palette":"Change Palette","Palette":"Palette","Unlock New Palettes":"Unlock New Palettes","Get a unique MyTonWallet Card to unlock new palettes.":"Get a unique MyTonWallet Card to unlock new palettes.","Mint Cards":"Mint Cards","Card has been upgraded!":"Card has been upgraded!","$mint_card_result":"NFT Card will be **minted** and **installed automatically** within a minute.","Unique":"Unique","Get a card with unique background and personalized palette for wallet interface.":"Get a card with unique background and personalized palette for wallet interface.","Transferable":"Transferable","Easily send your upgraded card to any of your friends.":"Easily send your upgraded card to any of your friends.","Tradable":"Tradable","Sell or auction your card on third-party NFT marketplaces.":"Sell or auction your card on third-party NFT marketplaces.","Upgrade for %currency% %amount%":"Upgrade for %currency% %amount%","%amount% left":"%amount% left","%amount% sold":"%amount% sold","This card has been sold out":"This card has been sold out"}'),mr=self.caches;async function pr(e){try{if(!mr)return;return await mr.delete(e)}catch(e){return void console.warn(e)}}const fr=new Set(Object.values(e.l5i)),hr=(0,Ke.A)((function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,a=arguments.length>2?arguments[2]:void 0;const o=new yt.z(t);if(o.eq(0))return"0";const r=o.lt(1)?"toPrecision":"round";return function(t){const[n,a=""]=t.split(".");return[n.replace(/\B(?=(\d{3})+(?!\d))/g,`$&${e.MS3}`),a].filter(Boolean).join(".")}(o[r](n,a?yt.z.roundHalfUp:yt.z.roundDown).toString().replace(/(\.\d*?)0+$/,"$1").replace(/\.$/,""))}));function gr(e,t,n,a){return yr(hr(e,n,a),t)}function vr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3?arguments[3]:void 0;return e=e.toString(),(n?"":e.startsWith("-")?"− ":"+ ")+gr(n?e:e.replace("-",""),t,a)}function wr(e,t,n){return"string"!=typeof e&&(e=(0,wt.nI)(e,n)),yr(e,t)}function yr(e,t){return fr.has(t)?`${t}${e}`.replace(`${t}-`,`-${t}`):`${e} ${t}`}function br(t){var n;return t||(t=e.wOb),null!==(n=e.l5i[t])&&void 0!==n?n:t}const Er=ur,{addCallback:kr,removeCallback:Cr,runCallbacks:Nr}=v(),Sr=/%\d?\$?[sdf@]/g,Ar=["value","zeroValue","oneValue","twoValue","fewValue","manyValue","otherValue"],Tr={de:e=>1!==e?6:2,en:e=>1!==e?6:2,es:e=>1!==e?6:2,pl:e=>1===e?2:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?4:5,ru:e=>e%10==1&&e%100!=11?2:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?4:5,th:()=>6,tr:e=>e>1?6:2,uk:e=>e%10==1&&e%100!=11?2:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?4:5,"zh-Hans":()=>6,"zh-Hant":()=>6},Ir=new Map;let Br,_r;function xr(){return(e,n,a,o)=>{var r;if(void 0!==n&&("object"!=typeof n||Array.isArray(n))){const t=Array.isArray(n)?JSON.stringify(n):n,r=Ir.get(`${e}_${t}_${a}${o?`_${o}`:""}`);if(r)return r}return Br||Er?function(e,n,a,o,r){const i="number"==typeof a||void 0!==r?function(e){const n=_r||t.vj,a=Tr[n]?Tr[n](e):0;return Ar[a]}(null!=r?r:a):"value",s="string"==typeof e?e:"value"===i?"object"==typeof e?e.value:e:"object"==typeof e?(null==e?void 0:e[i])||e.otherValue:void 0;if(!s||!s.trim()||void 0===a)return s;const l="i"===o?hr(a):a,c="object"!=typeof a||Array.isArray(a)?function(e,t){t=Array.isArray(t)?t:[t];const n=e.split(Sr),a=n.shift();return n.reduce(((e,n,a)=>{var o;return`${e}${String(null!==(o=t[a])&&void 0!==o?o:"")}${n}`}),a||"")}(s,l):function(e,t){const n=e.split("%"),a=[];let o="";for(let e=0;e<n.length;e++){const r=n[e];if(e%2==1){const e=t[r];e?"string"==typeof e?o+=e:(o&&(a.push(...dr(o)),o=""),a.push(e)):o+=`%${r}%`}else o+=r}return o&&a.push(...dr(o)),a}(s,l);if("object"!=typeof a&&"string"==typeof c){const e=Array.isArray(a)?JSON.stringify(a):a;Ir.set(`${n}_${e}_${o}${r?`_${r}`:""}`,c)}return c}((null===(r=Br)||void 0===r?void 0:r[e])||(null==Er?void 0:Er[e])||e,e,n,a,o):e}}let Lr=xr();async function Dr(n,a){if(Br&&n===_r)return void(a&&a());let o=await async function(t,n){if(mr)try{const a=e.jht?`${e.uyj}/${n.replace(/:/g,"_")}`:new Request(n.replace(/:/g,"_")),o=await mr.open(t),r=await o.match(a);if(!r)return;return await r.json()}catch(e){return void console.warn(e)}}(e.CV,n);if(!o&&(o=await async function(n){if(n===t.vj)return Er;const a=await fetch(`${e.jht?".":".."}/i18n/${n}.json`);if(!a.ok){const e=`An error has occured: ${a.status}`;throw new Error(e)}const o=await a.json();return o?(await async function(t,n,a){if(mr)try{const o="string"==typeof a||a instanceof Blob||a instanceof ArrayBuffer?a:JSON.stringify(a),r=e.jht?`${e.uyj}/${n.replace(/:/g,"_")}`:new Request(n.replace(/:/g,"_")),i=new Response(o);if(r instanceof Request&&0===r.url.indexOf("chrome-extension"))return;const s=await mr.open(t);return await s.put(r,i)}catch(e){return void console.warn(e)}}(e.CV,n,o),o):void 0}(n),!o))return;Ir.clear(),_r=n,Br=o,document.documentElement.lang=n;const r=null===e.gSB||void 0===e.gSB?void 0:e.gSB.find((e=>e.langCode===n));Lr=xr(),Lr.isRtl=Boolean(null==r?void 0:r.rtl),Lr.code=n.replace("-raw",""),Lr.langName=null==r?void 0:r.nativeName,a&&a(),Nr()}var Or=i(99544);const Pr=Symbol("EQUAL"),Fr={__delete:!0},Rr={__deleteAllChildren:!0};function Mr(e,t){if(e===t)return Pr;if(typeof e!=typeof t)return t;if(Array.isArray(e)&&Array.isArray(t)&&(a=t,(n=e).length===a.length&&n.every(((e,t)=>Mr(e,a[t])===Pr))))return Pr;var n,a;if(!(0,s.Vh)(e)||!(0,s.Vh)(t))return t;const o=e,r=t,i=Object.keys(o),l=Object.keys(r);if(!l.length)return i.length?Rr:Pr;const c=(0,s.Am)(i.concat(l)).reduce(((e,t)=>{const n=o[t],a=r[t];if(!r.hasOwnProperty(t))return e[t]=Fr,e;if(!o.hasOwnProperty(t))return e[t]=a,e;const i=Mr(n,a);return i!==Pr&&(e[t]=i),e}),{});return 0===Object.keys(c).length?Pr:c}function Ur(e,t){return e===t?t:(0,s.Vh)(t)?(0,s.Vh)(e)?t.__deleteAllChildren?{}:(0,s.Am)(Object.keys(e).concat(Object.keys(t))).reduce(((n,a)=>{const o=e[a];if(t.hasOwnProperty(a)){const e=t[a];null!=e&&e.__delete||(n[a]=Ur(o,e))}else n[a]=o;return n}),{}):Hr(t):t}function Hr(e){return e.__deleteAllChildren?{}:Object.entries(e).reduce(((e,t)=>{let[n,a]=t;return null!=a&&a.__delete||(e[n]=(0,s.Vh)(a)?Hr(a):a),e}),{})}function Wr(e){const t=me(e);return t.current=e,t}function $r(e){const t=Wr(e);return ue((function(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return null===(e=t.current)||void 0===e?void 0:e.call(t,...a)}),[])}const[Vr,zr]=E(!document.hasFocus()),qr=Vr;function Kr(){zr(!0)}function jr(){zr(!1)}function Yr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a=$r(e),o=$r(t);le((()=>{if(!n)return qr()&&a(),qr.subscribe((()=>{qr()?a():o()}))}),[n,a,o])}function Gr(){return qr()}e.tKX?ba().then((e=>{e.onEvent("activated",jr),e.onEvent("deactivated",Kr)})):(window.addEventListener("blur",Kr),window.addEventListener("focus",jr));const Qr=t.bs?new BroadcastChannel(e.eoU):void 0;let Xr=Me();function Jr(){let{noPubGlobal:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Qr&&(e||Pe(Zr),Qr.addEventListener("message",ti))}function Zr(e){if(e===Xr)return;if(Gr())return void(Xr=e);const t=Mr(ei(Xr),ei(e));"symbol"!=typeof t&&Qr.postMessage({type:"globalDiffUpdate",diff:t}),Xr=e}function ei(e){return(0,s.cJ)(e,["DEBUG_randomId"])}function ti(e){let{data:n}=e;switch(n.type){case"globalDiffUpdate":if(t.bA)return;Xr=Ur(Me(),n.diff),Ue(Xr);break;case"callActionInMain":{if(!t.KI)return;const{name:e,options:a}=n;He()[e](a);break}case"callActionInNative":{if(!t.bA)return;const{name:e,options:a}=n;He()[e](a);break}case"getLogsFromNative":if(!t.bA)return;Qr.postMessage({type:"logsFromNative",logs:(0,l.ao)()})}}function ni(e,t){Qr.postMessage({type:"callActionInMain",name:e,options:t})}function ai(e,t){Qr.postMessage({type:"callActionInNative",name:e,options:t})}const oi={appState:Jt.Auth,auth:{state:Zt.none},biometrics:{state:en.None},hardware:{},currentTransfer:{state:tn.None,tokenSlug:e.ScF},currentSwap:{state:nn.None,slippage:e.k9U},currentDappTransfer:{state:tn.None},currentStaking:{state:cn.None},stakingDefault:e.USn,tokenInfo:{bySlug:e.lfO},swapTokenInfo:{bySlug:e.tCm},tokenPriceHistory:{bySlug:{}},settings:{state:un.Initial,theme:e.YnH,animationLevel:e.i11,areTinyTransfersHidden:!e.K_I,canPlaySounds:!0,langCode:t.$q,byAccountId:{},areTokensWithNoCostHidden:!e.K_I,isSortByValueEnabled:!0},byAccountId:{},dialogs:[],notifications:[],stateVersion:36,restrictions:{isLimitedRegion:!1,isSwapDisabled:t.ZH||e.TI6,isOnRampDisabled:t.ZH||e.TI6,isNftBuyingDisabled:t.ZH},mediaViewer:{},pushNotifications:{enabledAccounts:{}}};function ri(e,t){const n=typeof e;if(n!==typeof t)return!1;if("object"!==n||null===e||null===t)return e===t;const a=Array.isArray(e);if(a!==Array.isArray(t))return!1;if(a){const n=e,a=t;return n.length===a.length&&n.every(((e,t)=>ri(e,a[t])))}const o=e,r=t,i=Object.keys(o),s=Object.keys(r);return!!i.every((e=>r.hasOwnProperty(e)))&&!!s.every((e=>o.hasOwnProperty(e)))&&i.every((e=>ri(o[e],r[e])))}function ii(e,t){return ri((0,s.Up)(e,Object.keys(t)),t)}function si(e,t){return{...e,auth:{...e.auth,...t}}}function li(e,t){return{...e,accounts:{...e.accounts||{byId:{}},...t}}}function ci(e){return{...e,isPinAccepted:!0}}function di(e){return{...e,isPinAccepted:void 0}}function ui(t){var n;let{global:a,accountId:o,addressByChain:r,partial:i,titlePostfix:s,network:l}=t,c=!0;if(null!==(n=i)&&void 0!==n&&n.title){if(s){var d;const t=null===(d=i.title)||void 0===d?void 0:d.replace(new RegExp(`\\b(${e.eZ2.join("|")})\\b`,"g"),"");i={...i,title:`${t.trim()} ${s}`}}}else{l=l||Qe(a);const t=Ge(a)||{},n=Object.keys(t).length,o="mainnet"===l;let r=`${o?"Wallet":"Testnet Wallet"} ${n+1}${s?` ${s}`:""}`;0===n&&(r=o?e.C39:`Testnet ${e.C39}`,c=!1),i={...i,title:r}}return e.TI6||(a={...a,shouldForceAccountEdit:c}),mi(a,o,{...i,addressByChain:r})}function mi(e,t,n){var a;return{...e,accounts:{...e.accounts,byId:{...null===(a=e.accounts)||void 0===a?void 0:a.byId,[t]:{...Je(e,t),...n}}}}}function pi(e){const{firstNetworkAccount:t,secondNetworkAccount:n}=e.auth;return e=ui({global:e,...t}),n&&(e=ui({global:e,...n})),e}function fi(e,t){return hi(e,e.currentAccountId,t)}function hi(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=et(e,t);return a&&o&&ii(o,n)?e:{...e,byAccountId:{...e.byAccountId,[t]:{...o,...n}}}}function gi(e,t){return{...e,hardware:{...e.hardware,...t}}}function vi(e,t){return{...e,settings:{...e.settings,...t}}}function wi(e,t,n){return{...e,settings:{...e.settings,byAccountId:{...e.settings.byAccountId,[t]:{...e.settings.byAccountId[t],...n}}}}}function yi(e,t){return wi(e,e.currentAccountId,t)}function bi(e,t){return{...e,biometrics:{...e.biometrics,...t}}}function Ei(e,t){if(!t)throw Error("Empty accountId!");return{...e,currentAccountId:t}}function ki(e){return!e.currentSwap.isEstimating&&(e.currentSwap.state===nn.Blockchain||e.currentSwap.state===nn.Password)}function Ci(e,t){let{currentSwap:n}=e,{currentSwap:a}=t;const o=n.inputSource===an.In?"amountIn":"amountOut";return n.tokenInSlug===a.tokenInSlug&&n.tokenOutSlug===a.tokenOutSlug&&n.slippage===a.slippage&&n.inputSource===a.inputSource&&n.isMaxAmount===a.isMaxAmount&&(a.isMaxAmount||n[o]===a[o])}function Ni(e){var t;let{currentSwap:n}=e;const a=n.inputSource===an.In?"amountIn":"amountOut";return n.tokenInSlug&&n.tokenOutSlug&&Number(null!==(t=n[a])&&void 0!==t?t:"0")>0}function Si(e){return{...e.currentSwap.inputSource===an.In?{amountOut:void 0}:{amountIn:void 0},amountOutMin:"0",priceImpact:0,errorType:void 0,limits:void 0,dieselStatus:void 0,estimates:void 0,bestRateDexLabel:void 0,networkFee:void 0,realNetworkFee:void 0,swapFee:void 0,swapFeePercent:void 0,ourFee:void 0,ourFeePercent:void 0,dieselFee:void 0}}function Ai(e,t){return{...e,currentSwap:{...e.currentSwap,...t}}}function Ti(e,t,n){let a=Ai(e,t);var o,r;return n||(o=e,Ni(r=a)&&o.currentSwap.tokenInSlug===r.currentSwap.tokenInSlug&&o.currentSwap.tokenOutSlug===r.currentSwap.tokenOutSlug||(a=Ai(a,Si(a))),function(e,t){return Ni(t)&&(!Ci(e,t)||e.currentSwap.pairs!==t.currentSwap.pairs)}(e,a)&&(a=Ai(a,{isEstimating:!0}))),function(e,t){let{currentSwap:n}=e,{currentSwap:a}=t;const o=n.inputSource===an.In?"amountIn":"amountOut";return n.tokenInSlug!==a.tokenInSlug||n.tokenOutSlug!==a.tokenOutSlug||n.inputSource!==a.inputSource||n[o]!==a[o]}(e,a)&&(a=Ai(a,{isDexLabelChanged:void 0})),Ai(a,t)}function Ii(t){return{...t,currentSwap:{state:nn.None,slippage:e.k9U}}}function Bi(e,t){return Li(e,_i(e,{toAddressName:t.addressName,...(0,s.Up)(t,["fee","realFee","isScam","isMemoRequired","diesel"])}))}function _i(e,t){return{...e,currentTransfer:{...e.currentTransfer,...t}}}function xi(e){return{...e,currentTransfer:oi.currentTransfer}}function Li(e,t){const n=Un(e);return n&&e.currentTransfer.amount===n?_i(t,{amount:Un(t)}):t}function Di(e,t){return{...e,currentTransfer:{...e.currentTransfer,isLoading:t}}}function Oi(e,t){return(e=_i(e,{toAddress:t})).currentTransfer.amount||(e=_i(e,{tokenSlug:Hn(e)})),e}function Pi(e,t){return{...e,currentSignature:{...e.currentSignature,...t}}}function Fi(e,t){const{activities:n}=Ze(e)||{};return fi(e,{activities:{...n||{byId:{}},isLoading:t}})}function Ri(e,t,n){const{activities:a}=Ze(e)||{};var o;return fi(e,n?{activities:{...a||{byId:{}},isHistoryEndReachedBySlug:{...null!==(o=null==a?void 0:a.isHistoryEndReachedBySlug)&&void 0!==o?o:{},[n]:t}}}:{activities:{...a||{byId:{}},isMainHistoryEndReached:t}})}function Mi(e,t,n){const{activities:a}=et(e,t)||{};return hi(e,t,{activities:{...a||{byId:{}},isLoading:n}})}function Ui(e,t){return{...e,currentStaking:{...e.currentStaking,...t}}}function Hi(e,t,n){var a;let o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=null===(a=et(e,t))||void 0===a?void 0:a.staking;return o&&r&&ii(r,n)?e:hi(e,t,{staking:{...r,...n}})}function Wi(e,t){return{...e,dappConnectRequest:{...e.dappConnectRequest,...t}}}function $i(e){return{...e,dappConnectRequest:void 0}}function Vi(e,t){return{...e,currentDappTransfer:{...e.currentDappTransfer,...t}}}function zi(e){return{...e,currentDappTransfer:{state:tn.None}}}function qi(e,t,n,a){var o,r;if(0===n.length)return e;const{activities:i}=et(e,t)||{};let{byId:l,idsBySlug:c,idsMain:d,newestActivitiesBySlug:u,localActivities:m}=i||{};l={...l,...(0,s.dU)(n,"id")};let p=n;a&&(p=n.filter((e=>{let{timestamp:t}=e;return t>=a}))),d=ji((0,s.JY)(p,"id"),null!==(o=d)&&void 0!==o?o:[],l);const f=function(e){return e.reduce(((e,t)=>{for(const a of zt(t)){var n;null!==(n=e[a])&&void 0!==n||(e[a]=[]),e[a].push(t.id)}return e}),{})}(n),h=(0,s.LG)(f,((e,t)=>{var n,a;return ji(e,null!==(n=null===(a=c)||void 0===a?void 0:a[t])&&void 0!==n?n:[],l)}));return c={...null==i?void 0:i.idsBySlug,...h},u=Yi({byId:l,idsBySlug:c,newestActivitiesBySlug:u},Object.keys(h)),m=(0,s.sq)([...null!==(r=m)&&void 0!==r?r:[],...n.filter((e=>$t(e.id)))],"id"),hi(e,t,{activities:{...i,idsMain:d,byId:l,idsBySlug:c,newestActivitiesBySlug:u,localActivities:m}})}function Ki(e,t,n){var a,o;const{byChain:r}=null!==(a=et(e,t))&&void 0!==a?a:{};return r&&null!==(o=r[n])&&void 0!==o&&o.isFirstTransactionsLoaded?e:hi(e,t,{byChain:{...r,[n]:{...null==r?void 0:r[n],isFirstTransactionsLoaded:!0}}})}function ji(e,t,n){return(0,s.Am)([...e,...t]).sort(((e,t)=>_t(n[e],n[t])))}function Yi(e,t){let{byId:n,idsBySlug:a,newestActivitiesBySlug:o}=e;o={...o};for(const e of t){var r;const t=(null!==(r=null==a?void 0:a[e])&&void 0!==r?r:[]).find((e=>qt(e)&&n[e]));t?o[e]=n[t]:delete o[e]}return o}function Gi(e,t,n){var a;const o=n.address,r=et(e,t).nfts,i=(null!==(a=null==r?void 0:r.orderedAddresses)&&void 0!==a?a:[]).filter((e=>e!==o));return hi(e,t,{nfts:{...r,byAddress:{...null==r?void 0:r.byAddress,[o]:n},orderedAddresses:[o,...i]}})}function Qi(e,t){return Object.entries(e.settings.byAccountId).forEach((n=>{var a;let[o,r]=n;(null===(a=r.cardBackgroundNft)||void 0===a?void 0:a.address)===t.address&&(e=wi(e,o,{...r,cardBackgroundNft:t}))})),e}function Xi(e,t,n){var a;return hi(e,t,{vesting:{...(null===(a=et(e,t))||void 0===a?void 0:a.vesting)||{info:[]},...n}})}function Ji(e,t){return{...e,currentMintCard:{...e.currentMintCard,...t}}}async function Zi(e,t,a){if(t===e.currentAccountId)return;const o=He(),r=Xt(e,t);await(0,n.p)("activateAccount",t,r),e=Me(),Ue(function(e,t){let n=Ei(e,t);return n=xi(n),Ii(n)}(e,t)),o.clearSwapPairsCache(),Rt(),a&&o.changeNetwork({network:a})}function es(t){return Array(t).fill(0).map(((e,t)=>({i:t,rnd:Math.random()}))).sort(((e,t)=>e.rnd-t.rnd)).map((e=>e.i)).slice(0,Math.min(e.ow1,t)).sort(((e,t)=>e-t))}function ts(){const e=(0,s.mg)(Me());return e.tokenInfo={},e.swapTokenInfo={},Object.entries(e.byAccountId).forEach((e=>{let[,t]=e;t.activities={}})),e}function ns(t,n){var a;if(jt(t))return!0;if(!n||t.nft||t.type)return!1;const o=n.decimals;return(0,wt.CF)(t.amount,o).abs().mul(null!==(a=n.quote.priceUsd)&&void 0!==a?a:0).lt(e.Wvq)}function as(t){var n;return t.slug===e.Tu9.slug?t.symbol:null!==(n=t.tokenAddress)&&void 0!==n?n:t.slug}function os(e,t){var n;return null!==(n=e[t])&&void 0!==n?n:Object.values(e).find((e=>{let{tokenAddress:n}=e;return n===t}))}function rs(t){return t in e.zll}function is(e){let{from:t,to:n,toAddress:a,addressByChain:o}=e;const r=Boolean(null==o?void 0:o.tron);return"ton"===(null==t?void 0:t.chain)&&"ton"===(null==n?void 0:n.chain)||r&&t&&n&&o&&rs(t.chain)&&o[n.chain]===a}function ss(e,t){return{...e,tokenInfo:{...e.tokenInfo,bySlug:{...e.tokenInfo.bySlug,...t}}}}We("resetAuth",(e=>{e.currentAccountId&&(e=vi(e={...e,appState:Jt.Main},{isTestnet:"testnet"===(0,Ve.c)(e.currentAccountId).network})),e={...e,auth:(0,s.mg)(oi.auth)},Ue(e)})),We("startCreatingWallet",(async(a,o)=>{var r,i;const s=null!==(r=je(a))&&void 0!==r?r:{},l=sr(s),d=tt(a),u=d?Zt.createBackup:l?Zt.createWallet:Qo()?Zt.createPin:t.uh?Zt.createBiometrics:Zt.createPassword;if(a=Me(),Boolean(d)&&!a.auth.password)return void Ue(si(a,{state:Zt.checkPassword,error:void 0}));const m=[(0,n.p)("generateMnemonic"),...d?[]:[(0,c.v7)(3300)]];Ue(si(a,{state:u,method:"createAccount",error:void 0}));const[p]=await Promise.all(m);if(a=si(Me(),{mnemonic:p,mnemonicCheckIndexes:es(null!==(i=null==p?void 0:p.length)&&void 0!==i?i:e.xA_)}),d)return Ue(a),void o.afterCreatePassword({password:a.auth.password});Ue(si(a,{state:Qo()?Zt.createPin:t.uh?Zt.createBiometrics:Zt.createPassword})),l&&(o.requestConfetti(),ar())})),We("startCreatingBiometrics",(e=>{e=si(e,{state:"createAccount"!==e.auth.method?Zt.importWalletConfirmBiometrics:Zt.confirmBiometrics,biometricsStep:1}),Ue(e)})),We("cancelCreateBiometrics",(e=>{e=si(e,{state:Zt.createBiometrics,biometricsStep:void 0}),Ue(e)})),We("createPin",((e,t,n)=>{let{pin:a,isImporting:o}=n;e=si(e,{state:o?Zt.importWalletConfirmPin:Zt.confirmPin,password:a}),Ue(e)})),We("confirmPin",((e,t,n)=>{let{isImporting:a}=n;jo()?(e=si(e,{state:a?Zt.importWalletCreateNativeBiometrics:Zt.createNativeBiometrics}),Ue(e)):t.skipCreateNativeBiometrics()})),We("cancelConfirmPin",((e,t,n)=>{let{isImporting:a}=n;e=si(e,{state:a?Zt.importWalletCreatePin:Zt.createPin}),Ue(e)})),We("cancelDisclaimer",(e=>{Ue(si(e,{state:Qo()?Zt.createPin:t.uh?Zt.createBiometrics:Zt.createPassword}))})),We("afterCreatePassword",((e,t,n)=>{let{password:a,isPasswordNumeric:o}=n;Ue(si(e,{isLoading:!0}));const{method:r}=Me().auth,i="createAccount"!==r;"importHardwareWallet"===r?t.createHardwareAccounts():t.createAccount({password:a,isImporting:i,isPasswordNumeric:o})})),We("afterCreateBiometrics",(async(e,n)=>{const a=!t.cp;e=si(e,{isLoading:!0,error:void 0,biometricsStep:a?1:void 0}),Ue(e);try{const t=a?await Da.createCredential():void 0;e=si(e=Me(),{biometricsStep:a?2:void 0}),Ue(e);const o=await Pa({credential:t});if(e=si(e=Me(),{isLoading:!1,biometricsStep:void 0}),!o)return e=si(e,{error:"Biometric setup failed."}),void Ue(e);e=vi(e,{authConfig:o.config}),Ue(e),n.afterCreatePassword({password:o.password})}catch(t){const n=null!=t&&t.message.includes("privacy-considerations-client")?"Biometric setup failed.":(null==t?void 0:t.message)||"Biometric setup failed.";e=si(e=Me(),{isLoading:!1,error:n,biometricsStep:void 0}),Ue(e)}})),We("skipCreateBiometrics",(e=>{e=si(e,{state:Zt.createPassword}),Ue(e)})),We("afterCreateNativeBiometrics",(async(e,t)=>{e=si(e,{isLoading:!0,error:void 0}),Ue(e);try{const{password:n}=e.auth,a=await Fa(n);e=vi(e=si(e=Me(),{isLoading:!1}),{authConfig:a.config}),Ue(e),t.afterCreatePassword({password:n,isPasswordNumeric:!0})}catch(t){const n=null!=t&&t.message.includes("privacy-considerations-client")?"Biometric setup failed.":(null==t?void 0:t.message)||"Biometric setup failed.";e=si(e=Me(),{isLoading:!1,error:n}),Ue(e)}})),We("skipCreateNativeBiometrics",((e,t)=>{const{password:n}=e.auth;e=vi(e=si(e,{isLoading:!1,error:void 0}),{authConfig:{kind:"password"},isPasswordNumeric:!0}),Ue(e),t.afterCreatePassword({password:n,isPasswordNumeric:!0})})),We("createAccount",(async(e,t,a)=>{let{password:o,isImporting:r,isPasswordNumeric:i,version:l}=a;Ue(si(e,{isLoading:!0}));const c=Qe(Me()),d=await(0,n.p)(r?"importMnemonic":"createWallet",c,e.auth.mnemonic,o,l);if(e=Me(),!d||"error"in d)return Ue(si(e,{isLoading:void 0})),void t.showError({error:null==d?void 0:d.error});const{accountId:u,tonAddress:m,tronAddress:p,secondNetworkAccount:f}=d,h=(0,s.Oy)({ton:m,tron:p});if(r||(e={...e,appState:Jt.Auth,isAddAccountModalOpen:void 0}),e=di(e=si(e,{isLoading:void 0,password:void 0,firstNetworkAccount:{addressByChain:h,accountId:u},secondNetworkAccount:f,...i&&{isPasswordNumeric:!0}})),r){if(Object.keys(je(e)||{}).length>0)return Ue(e),void t.afterConfirmDisclaimer();e=si(e,{state:Zt.disclaimer})}else{var g;const t=null!==(g=je(e))&&void 0!==g?g:{};e=si(e,{state:sr(t)?Zt.disclaimerAndBackup:Zt.createBackup})}Ue(e)})),We("createHardwareAccounts",(async(e,n)=>{var a;const o=null!==(a=je(e))&&void 0!==a?a:{},r=sr(o);Ue(si(e,{isLoading:!0}));const{hardwareSelectedIndices:s=[]}=Me().hardware,l=Qe(Me()),c=await Promise.all([i.e(494),i.e(612),i.e(776),i.e(432)]).then(i.bind(i,95683)),d=await Promise.all(s.map((e=>c.importLedgerWallet(l,e))));!t.bA||r?n.addHardwareAccounts({wallets:d}):ni("addHardwareAccounts",{wallets:d})})),We("addHardwareAccounts",((e,t,a)=>{var o;let{wallets:r}=a;const i=!e.currentAccountId,s=null===(o=r[0])||void 0===o?void 0:o.accountId;s&&(0,n.p)("activateAccount",s);const l=r.reduce(((e,t)=>{if(!t)return e;const{accountId:n,address:a,walletInfo:o}=t,r={ton:a};return ui({global:e=Ei(e,n),accountId:n,addressByChain:r,partial:{isHardware:!0,...o&&{ledger:{driver:o.driver,index:o.index}}}})}),Me());s&&(e=Ei(l,s)),e=si(e,{isLoading:!1}),e={...e,shouldForceAccountEdit:!0},Ue(e),Me().areSettingsOpen&&t.closeSettings(),r.forEach((e=>{null!=e&&e.accountId&&t.tryAddNotificationAccount({accountId:null==e?void 0:e.accountId})})),t.afterSignIn(),i&&(t.resetApiSettings(),t.requestConfetti(),ar())})),We("afterCheckMnemonic",((e,t)=>{e=pi(e=fi(e=Ei(e,e.auth.firstNetworkAccount.accountId),{})),Ue(e),t.tryAddNotificationAccount({accountId:e.auth.firstNetworkAccount.accountId}),t.afterSignIn(),it(e)&&t.resetApiSettings()})),We("restartCheckMnemonicIndexes",((e,t,n)=>{let{worldsCount:a}=n;Ue(si(e,{mnemonicCheckIndexes:es(a)}))})),We("skipCheckMnemonic",((e,n)=>{t.bA?ni("skipCheckMnemonic"):(e=pi(e=fi(e=Ei(e,e.auth.firstNetworkAccount.accountId),{isBackupRequired:!0})),n.tryAddNotificationAccount({accountId:e.auth.firstNetworkAccount.accountId}),Ue(e),n.afterSignIn(),it(e)&&n.resetApiSettings())})),We("startImportingWallet",(e=>{const t=tt(e)&&!e.auth.password?Zt.importWalletCheckPassword:Zt.importWallet;Ue(si(e,{state:t,error:void 0,method:"importMnemonic"}))})),We("openAbout",(e=>{Ue(si(e,{state:Zt.about,error:void 0}))})),We("closeAbout",(e=>{Ue(si(e,{state:Zt.none,error:void 0}))})),We("afterImportMnemonic",(async(e,a,o)=>{let{mnemonic:r}=o;if(r=(0,s.oE)(r),!lr(r)&&!await(0,n.p)("validateMnemonic",r))return void Ue(si(Me(),{error:Gn.Nu.InvalidMnemonic}));const i=tt(e=Me()),l=Object.keys(je(e)||{}).length>0,c=Qo()?Zt.importWalletCreatePin:t.uh?Zt.importWalletCreateBiometrics:Zt.importWalletCreatePassword;e=si(e,{mnemonic:r,error:void 0,...!i&&{state:c}}),Ue(e),i?a.confirmDisclaimer():(l||a.requestConfetti(),ar())})),We("confirmDisclaimer",((e,t)=>{if(tt(e))return Ue(e),void t.afterCreatePassword({password:e.auth.password});t.afterConfirmDisclaimer()})),We("afterConfirmDisclaimer",((e,t)=>{const{firstNetworkAccount:n}=e.auth;e=pi(e=si(e=Ei(e,n.accountId),{state:Zt.ready})),Ue(e),t.tryAddNotificationAccount({accountId:n.accountId}),t.afterSignIn(),it(e)&&t.resetApiSettings()})),We("cleanAuthError",(e=>{Ue(si(e,{error:void 0}))})),We("startChangingNetwork",((e,n,a)=>{let{network:o}=a;t.bA&&ni("startChangingNetwork",{network:o});const r=Object.keys(Ye(o,e.accounts.byId));if(r.length){const e=r[0];n.switchAccount({accountId:e,newNetwork:o})}else Ue({...e,areSettingsOpen:!1,appState:Jt.Auth}),n.changeNetwork({network:o})})),We("switchAccount",(async(e,n,a)=>{if(t.bA)return void ni("switchAccount",a);const{accountId:o,newNetwork:r}=a;await Zi(e,o,r)})),We("connectHardwareWallet",(async(e,n,a)=>{var o;const r=null!==(o=je(e))&&void 0!==o?o:{},s=sr(r),{areSettingsOpen:c}=e;if(t.KI&&!s&&!c)return;e=gi(e,{hardwareState:ln.Connecting,hardwareWallets:void 0,hardwareSelectedIndices:void 0,isLedgerConnected:void 0,isTonAppConnected:void 0}),Ue(e);const d=await Promise.all([i.e(494),i.e(612),i.e(776),i.e(432)]).then(i.bind(i,95683)),u=await d.connectLedger(a.transport);if(e=Me(),!u)return e=gi(e,{isLedgerConnected:!1,hardwareState:ln.Failed}),void Ue(e);e=gi(e,{isLedgerConnected:!0}),Ue(e);try{var m;const t=await d.waitLedgerTonApp();if(e=Me(),!t)return e=gi(e,{isTonAppConnected:!1,hardwareState:ln.Failed}),void Ue(e);e=gi(e,{isTonAppConnected:!0}),Ue(e),e=Me();const{isRemoteTab:o}=e.hardware,r=Qe(e),i=function(e){var t;const n=null!==(t=rt(e))&&void 0!==t?t:[],a=null==n?void 0:n.map((e=>e.ledger.index)).sort(((e,t)=>e-t));if(0===a.length||0!==a[0])return-1;if(1===a.length)return 0;for(let e=1;e<a.length;e++)if(a[e]-a[e-1]!=1)return e-1;return a.length-1}(e),s=(null!==(m=rt(e))&&void 0!==m?m:[]).map((e=>e.addressByChain.ton)),l=o?[]:await d.getNextLedgerWallets(r,i,s);if(e=Me(),"error"in l)throw n.showError({error:l.error}),Error(l.error);e=gi(e,{hardwareWallets:l,hardwareState:o||1===l.length?ln.ConnectedWithSingleWallet:ln.ConnectedWithSeveralWallets,lastUsedTransport:a.transport}),Ue(e)}catch(t){const o=(0,Or.HN)(t.name);if(o&&!a.noRetry)return void n.connectHardwareWallet({...a,noRetry:!0});e=gi(e=Me(),{isLedgerConnected:!o,isTonAppConnected:o?void 0:e.hardware.isTonAppConnected,hardwareState:ln.Failed}),Ue(e),(0,l.SJ)("connectHardwareWallet",t)}})),We("loadMoreHardwareWallets",(async(e,t,n)=>{var a;let{lastIndex:o}=n;const r=Qe(e),s=null!==(a=e.hardware.hardwareWallets)&&void 0!==a?a:[],l=await Promise.all([i.e(494),i.e(612),i.e(776),i.e(432)]).then(i.bind(i,95683)),c=await l.getNextLedgerWallets(r,o);if(e=Me(),"error"in c)throw t.showError({error:c.error}),Error(c.error);e=gi(e,{hardwareWallets:s.concat(c)}),Ue(e)})),We("afterSelectHardwareWallets",((e,t,n)=>{let{hardwareSelectedIndices:a}=n;e=gi(e=si(e,{method:"importHardwareWallet",error:void 0}),{hardwareSelectedIndices:a}),Ue(e),t.afterCreatePassword({password:""})})),We("resetHardwareWalletConnect",(e=>{e=gi(e,{hardwareState:ln.Connect,isLedgerConnected:void 0,isTonAppConnected:void 0}),Ue(e)})),We("enableBiometrics",(async(e,a,o)=>{let{password:r}=o;if(!await(0,n.p)("verifyPassword",r))return e=bi(e=Me(),{error:"Wrong password, please try again."}),void Ue(e);e=si(e=bi(e=Me(),{error:void 0,state:en.TurnOnRegistration}),{isLoading:!0}),Ue(e);try{const a=t.cp?void 0:await Da.createCredential();e=bi(e=Me(),{state:en.TurnOnVerification}),Ue(e);const o=await Pa({credential:a});if(e=Me(),!o)return e=bi(e,{error:"Biometric setup failed.",state:en.TurnOnPasswordConfirmation}),void Ue(e);e=bi(e,{state:en.TurnOnComplete}),Ue(e),await(0,n.p)("changePassword",r,o.password),e=vi(e=Me(),{authConfig:o.config}),Ue(e)}catch(t){const n=null!=t&&t.message.includes("privacy-considerations-client")?"Biometric setup failed.":(null==t?void 0:t.message)||"Biometric setup failed.";e=bi(e=Me(),{error:n,state:en.TurnOnPasswordConfirmation}),Ue(e)}finally{e=si(e=Me(),{isLoading:void 0}),Ue(e)}})),We("disableBiometrics",(async(e,t,a)=>{let{password:o,isPasswordNumeric:r}=a;const{password:i}=e.biometrics;if(!o||!i)return e=bi(e,{error:"Biometric confirmation failed."}),void Ue(e);e=si(e=Me(),{isLoading:!0}),Ue(e);try{await(0,n.p)("changePassword",i,o)}catch(t){return e=bi(e=Me(),{error:(null==t?void 0:t.message)||"Failed to disable biometrics."}),void Ue(e)}finally{e=si(e=Me(),{isLoading:void 0}),Ue(e)}e=vi(e=bi(e=Me(),{state:en.TurnOffComplete,error:void 0}),{authConfig:{kind:"password"},isPasswordNumeric:r}),Ue(e)})),We("closeBiometricSettings",(e=>{e={...e,biometrics:(0,s.mg)(oi.biometrics)},Ue(e)})),We("openBiometricsTurnOn",(e=>{e=bi(e,{state:en.TurnOnPasswordConfirmation}),Ue(e)})),We("openBiometricsTurnOffWarning",(e=>{e=bi(e,{state:en.TurnOffWarning}),Ue(e)})),We("openBiometricsTurnOff",(async e=>{e=bi(e,{state:en.TurnOffBiometricConfirmation}),Ue(e);const t=await Ma(e.settings.authConfig);e=bi(e=Me(),t?{state:en.TurnOffCreatePassword,password:t}:{error:"Biometric confirmation failed."}),Ue(e)})),We("disableNativeBiometrics",(e=>{e=vi(e,{authConfig:{kind:"password"},isPasswordNumeric:!0}),Ue(e)})),We("enableNativeBiometrics",(async(t,a,o)=>{let{password:r}=o;if(!await(0,n.p)("verifyPassword",r))return t=Me(),t=di(t={...t,nativeBiometricsError:"Incorrect code, please try again."}),void Ue(t);t=ci(t=Me()),t={...t,nativeBiometricsError:void 0},Ue(t);try{let n;if(n=e.tKX?(await Ia()).success:await Yn.verifyIdentity({title:e.C39,subtitle:"",maxAttempts:1}).then((()=>!0)).catch((()=>!1)),!n)return t=Me(),t=di(t={...t,nativeBiometricsError:"Failed to enable biometrics."}),Ue(t),void nr();const a=await Fa(r);await(0,c.v7)(750),t=vi(t=Me(),{authConfig:a.config}),t={...t,nativeBiometricsError:void 0},Ue(t),ar()}catch(e){t=Me(),t=di(t={...t,nativeBiometricsError:(null==e?void 0:e.message)||"Failed to enable biometrics."}),Ue(t),nr()}})),We("clearNativeBiometricsError",(e=>({...e,nativeBiometricsError:void 0}))),We("openAuthBackupWalletModal",(e=>{t.bA?ni("openAuthBackupWalletModal"):(e=si(e,{state:Zt.safetyRules}),Ue(e))})),We("openMnemonicPage",(e=>{t.bA?ni("openMnemonicPage"):(e=si(e,{state:Zt.mnemonicPage}),Ue(e))})),We("openCreateBackUpPage",(e=>{var n;if(t.bA)return void ni("openCreateBackUpPage");const a=null!==(n=je(e))&&void 0!==n?n:{};e=si(e,{state:sr(a)?Zt.disclaimerAndBackup:Zt.createBackup}),Ue(e)})),We("openCheckWordsPage",(e=>{t.bA?ni("openCheckWordsPage"):(e=si(e,{state:Zt.checkWords}),Ue(e))})),We("closeCheckWordsPage",((e,n,a)=>{const{isBackupCreated:o}=a||{};t.bA&&ni("closeCheckWordsPage",a),!t.bA&&o&&n.afterCheckMnemonic()})),We("copyStorageData",(async(e,t)=>{const a=await(0,n.p)("fetchAccountConfigForDebugPurposesOnly");if(a){const e=JSON.stringify({...JSON.parse(a),global:ts()});await rr(e),t.showNotification({message:Lr("Copied")})}else t.showError({error:Gn.QD.Unexpected})})),We("importAccountByVersion",(async(e,a,o)=>{var r,i;let{version:s}=o;if(t.bA)return void ni("importAccountByVersion",{version:s});const l=e.currentAccountId,c=await(0,n.p)("importNewWalletVersion",l,s),d=lt(e=Me(),"ton",c.address);if(d)return void a.switchAccount({accountId:d});const{title:u}=(null!==(r=null===(i=e.accounts)||void 0===i?void 0:i.byId)&&void 0!==r?r:{})[l],m={ton:c.address};e=Ei(e,c.accountId);const p=c.ledger?{isHardware:!0,ledger:null==c?void 0:c.ledger}:void 0;e=ui({global:e,accountId:c.accountId,addressByChain:m,partial:{...p,title:u},titlePostfix:s}),Ue(e),await(0,n.p)("activateAccount",c.accountId),a.tryAddNotificationAccount({accountId:c.accountId})})),We("setIsAuthLoading",((e,t,n)=>{let{isLoading:a}=n;e=si(e,{isLoading:a}),Ue(e)})),We("fetchTokenTransactions",(async(e,t,a)=>{var o,r;let{limit:i,slug:l,shouldLoadWithBudget:d}=a;e=Fi(e,!0),Ue(e);const u=e.currentAccountId;let{idsBySlug:m={},byId:p={}}=(null===(o=et(e,u))||void 0===o?void 0:o.activities)||{},f=!0,h=[],g=m[l]||[];const v=(0,s.Uk)(g,(e=>qt(e)&&Boolean(p[e])));let w=v?p[v].timestamp:void 0;const{chain:y}=Tt(e,l);for(;f;){const t=await(0,n.p)("fetchActivitySlice",u,y,l,w,i);if(e=Me(),!t||"error"in t)break;if(!t.length){e=Ri(e,!0,l);break}const{areTinyTransfersHidden:a}=e.settings,o=t.filter((e=>!("transaction"===e.kind&&(Ft(e)||a&&ns(e)))));h=h.concat(t),f=o.length<i&&h.length<i,g=(0,s.Am)(g.concat(o.map((e=>e.id)))),w=t[t.length-1].timestamp}h.sort(_t),e=Fi(e,!1);const b=(0,s.dU)(h,"id"),E=Object.keys(b),k=null===(r=et(e,u))||void 0===r?void 0:r.activities;p={...(null==k?void 0:k.byId)||{},...b},m=(null==k?void 0:k.idsBySlug)||{},g=(0,s.Am)((m[l]||[]).concat(E)),g.sort(((e,t)=>_t(p[e],p[t]))),e=hi(e,u,{activities:{...k,byId:p,idsBySlug:{...m,[l]:g}}}),Ue(e),d&&(0,c.aj)((()=>{t.fetchTokenTransactions({limit:i,slug:l})}))})),We("fetchAllTransactions",(async(e,t,a)=>{var o,r,i;let{limit:l,shouldLoadWithBudget:d}=a;e=Fi(e,!0),Ue(e);const u=e.currentAccountId,m=null!==(o=function(e,t){var n;const a=null===(n=et(e,t))||void 0===n||null===(n=n.activities)||void 0===n?void 0:n.idsBySlug;if(a)return Object.keys(a).filter((e=>e.startsWith("tron-")))}(e,u))&&void 0!==o?o:[];let p=function(e,t){var n;const a=null===(n=et(e,t))||void 0===n?void 0:n.activities;if(!a)return;const{byId:o,idsMain:r=[]}=a,i=(0,s.Uk)(r,(e=>qt(e)&&Boolean(o[e])));return i?o[i].timestamp:void 0}(e,u),f=!0,h=[];for(;f;){const t=await(0,n.p)("fetchAllActivitySlice",u,l,p,m);if(e=Me(),!t||"error"in t)break;if(!t.length){e=Ri(e,!0);break}const{areTinyTransfersHidden:a}=e.settings,o=t.filter((e=>!("transaction"===e.kind&&(Ft(e)||a&&ns(e)))));h=h.concat(t),f=o.length<l&&h.length<l,p=t[t.length-1].timestamp}e=Fi(e,!1);const g=(0,s.dU)(h,"id"),v=null===(r=et(e,u))||void 0===r?void 0:r.activities,w={...(null==v?void 0:v.byId)||{},...g};h.sort(_t);const y=(0,s.Am)((null!==(i=null==v?void 0:v.idsMain)&&void 0!==i?i:[]).concat((0,s.JY)(h,"id")));e=hi(e,u,{activities:{...v,byId:w,idsMain:y}}),Ue(e),d&&(0,c.aj)((()=>{t.fetchAllTransactions({limit:l})}))})),We("resetIsHistoryEndReached",((e,t,n)=>{e=Ri(e,!1,null==n?void 0:n.slug),Ue(e)})),We("setIsBackupRequired",((e,t,n)=>{var a;let{isMnemonicChecked:o}=n;const{isBackupRequired:r}=null!==(a=Ze(e))&&void 0!==a?a:{};Ue(fi(e,{isBackupRequired:o?void 0:r}))})),We("submitSignature",(async(e,t,a)=>{const{password:o}=a,{promiseId:r}=e.currentSignature;await(0,n.p)("verifyPassword",o)?(await(0,n.p)("confirmDappRequest",r,o),Ue(Pi(Me(),{isSigned:!0}))):Ue(Pi(Me(),{error:"Wrong password, please try again."}))})),We("clearSignatureError",(e=>{Ue(Pi(e,{error:void 0}))})),We("cancelSignature",(e=>{const{promiseId:t}=e.currentSignature||{};t&&(0,n.p)("cancelDappRequest",t,"Canceled by the user"),Ue({...e,currentSignature:void 0})})),We("addToken",((e,t,n)=>{var a,o,r,i,l,c,d,u;let{token:m}=n;var p,f,h;null!==(a=e.tokenInfo)&&void 0!==a&&null!==(a=a.bySlug)&&void 0!==a&&a[m.slug]||(e=ss(e,{[m.slug]:{name:m.name,symbol:m.symbol,slug:m.slug,decimals:m.decimals,chain:m.chain,image:m.image,keywords:m.keywords,quote:{slug:m.slug,price:null!==(p=m.price)&&void 0!==p?p:0,priceUsd:null!==(f=m.priceUsd)&&void 0!==f?f:0,percentChange24h:null!==(h=m.change24h)&&void 0!==h?h:0}}}));const{balances:g}=null!==(o=Ze(e))&&void 0!==o?o:{};null!=g&&g.bySlug[m.slug]||(e=fi(e,{balances:{...g,bySlug:{...null==g?void 0:g.bySlug,[m.slug]:0n}}}));const v=at(e),w=null!==(i=at(e=yi(e,{importedSlugs:[...null!==(r=null==v?void 0:v.importedSlugs)&&void 0!==r?r:[],m.slug]})))&&void 0!==i?i:{};return yi(e,{...w,orderedSlugs:[...null!==(l=w.orderedSlugs)&&void 0!==l?l:[],m.slug],alwaysShownSlugs:(0,s.Am)([...null!==(c=w.alwaysShownSlugs)&&void 0!==c?c:[],m.slug]),alwaysHiddenSlugs:null===(d=w.alwaysHiddenSlugs)||void 0===d?void 0:d.filter((e=>e!==m.slug)),deletedSlugs:null===(u=w.deletedSlugs)||void 0===u?void 0:u.filter((e=>e!==m.slug))})})),We("importToken",(async(e,t,a)=>{var o,r,i;let{address:s}=a;const{currentAccountId:l}=e;e=vi(e,{importToken:{isLoading:!0,token:void 0}}),Ue(e);const d=await(0,n.p)("buildTokenSlug","ton",s);let u=null===(o=(e=Me()).tokenInfo.bySlug)||void 0===o?void 0:o[d];if(!u){if(u=await(0,n.p)("fetchToken",e.currentAccountId,s),await(0,c.v7)(250),e=Me(),!u)return e=vi(e,{importToken:{isLoading:!1,token:void 0}}),void Ue(e);{const t={...u,quote:{slug:u.slug,price:0,priceUsd:0,percentChange24h:0}};e=ss(e,{[t.slug]:t}),Ue(e)}}const m=null!==(r=null===(i=et(e,l))||void 0===i||null===(i=i.balances)||void 0===i?void 0:i.bySlug)&&void 0!==r?r:{},p=!(u.slug in m),f=Nn(u);e=vi(e=Me(),{importToken:{isLoading:!1,token:f}}),p&&(e=function(e,t,n){var a;return hi(e,t,{balances:{bySlug:{...null===(a=et(e,t))||void 0===a||null===(a=a.balances)||void 0===a?void 0:a.bySlug,[n]:0n}}})}(e,e.currentAccountId,u.slug)),Ue(e)})),We("resetImportToken",(e=>{e=vi(e,{importToken:{isLoading:!1,token:void 0}}),Ue(e)})),We("verifyHardwareAddress",(async(e,t)=>{const n=e.currentAccountId,a=await Promise.all([i.e(494),i.e(612),i.e(776),i.e(432)]).then(i.bind(i,95683));if(await a.reconnectLedger())try{t.showDialog({title:"Ledger",message:"$ledger_verify_address_on_device"}),await a.verifyAddress(n)}catch(e){t.showError({error:e})}else t.showError({error:"$ledger_not_ready"})})),We("setActiveContentTab",((e,t,n)=>{let{tab:a}=n;return fi(e,{activeContentTab:a})})),We("addSwapToken",((e,t,n)=>{let{token:a}=n;if(a.slug in e.swapTokenInfo.bySlug)return;const o={name:a.name,symbol:a.symbol,chain:a.chain,slug:a.slug,decimals:a.decimals,image:a.image,tokenAddress:a.tokenAddress,keywords:a.keywords,isPopular:!1,price:0,priceUsd:0};Ue({...e,swapTokenInfo:{...e.swapTokenInfo,bySlug:{...e.swapTokenInfo.bySlug,[o.slug]:o}}})})),We("apiUpdateWalletVersions",((e,t,n)=>{var a;const{accountId:o,versions:r,currentVersion:i}=n;e={...e,walletVersions:{...e.walletVersions,currentVersion:i,byId:{...null===(a=e.walletVersions)||void 0===a?void 0:a.byId,[o]:r}}},Ue(e)}));var ls=i(3476);function cs(t){return{gas:ls.sl[t]+e.dqR,real:ls.fv[t]}}function ds(e){switch(e){case"nominators":return{stake:cs("stakeNominators"),unstake:cs("unstakeNominators")};case"liquid":return{stake:cs("stakeLiquid"),unstake:cs("unstakeLiquid")};case"jetton":return{stake:cs("stakeJettons"),unstake:cs("unstakeJettons"),claim:cs("claimJettons")}}return{stake:{gas:0n,real:0n},unstake:{gas:0n,real:0n}}}var us=i(39989);const ms=(0,jn.F3)("BottomSheet");function ps(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}const fs=e=>{e.stopPropagation(),e.preventDefault()};function hs(e,t,n){const a=o=>{e.removeEventListener(t,a),n(o)};e.addEventListener(t,a)}const gs=function(e){le(e,[])},vs=()=>{const e=ge();return gs((()=>kr(e))),Lr},ws=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"fast",o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:350,i=arguments.length>6&&void 0!==arguments[6]&&arguments[6];const[s,l]=ie(!e),c=me(),[d,u]=ie(e&&n);if(e)l(!1),u(!0),c.current&&(window.clearTimeout(c.current),c.current=void 0);else if(u(!1),!s&&!c.current){const e=()=>{l(!0),t&&t(),c.current=void 0};o?e():c.current=window.setTimeout(e,r)}const m=d&&!(o&&!e)||i&&e,p=Boolean(c.current),f=e||p;return{shouldRender:f,transitionClassNames:ps(a&&"opacity-transition",a,m&&"open",!m&&"not-open",f&&"shown",!f&&"not-shown",p&&"closing"),hasShownClass:f,hasOpenClass:m}};let ys=function(e){return e[e.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",e[e.BAD_REQUEST_ERROR=1]="BAD_REQUEST_ERROR",e[e.MANIFEST_NOT_FOUND_ERROR=2]="MANIFEST_NOT_FOUND_ERROR",e[e.MANIFEST_CONTENT_ERROR=3]="MANIFEST_CONTENT_ERROR",e[e.UNKNOWN_APP_ERROR=100]="UNKNOWN_APP_ERROR",e[e.USER_REJECTS_ERROR=300]="USER_REJECTS_ERROR",e[e.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED",e}({}),bs=function(e){return e[e.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",e[e.BAD_REQUEST_ERROR=1]="BAD_REQUEST_ERROR",e[e.UNKNOWN_APP_ERROR=100]="UNKNOWN_APP_ERROR",e[e.USER_REJECTS_ERROR=300]="USER_REJECTS_ERROR",e[e.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED",e}({});function Es(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ls.Bm;return{platform:ks(),appName:e.C39,appVersion:"3.5.6",maxProtocolVersion:e.gY_,features:["SendTransaction",{name:"SendTransaction",maxMessages:t}]}}function ks(){var t;const{userAgent:n}=navigator,a=navigator.platform||(null===(t=navigator)||void 0===t||null===(t=t.userAgentData)||void 0===t?void 0:t.platform)||"";let o;return o=e.hL1||e.tKX?"browser":/Android/.test(n)?"android":-1!==["iPhone"].indexOf(a)?"iphone":-1!==["iPad","iPod"].indexOf(a)?"ipad":-1!==["macOS","Macintosh","MacIntel","MacPPC","Mac68K"].indexOf(a)?"mac":-1!==["Win32","Win64","Windows","WinCE"].indexOf(a)?"windows":/Linux/.test(a)?"linux":"browser",o}let Cs=function(e){return e.invokeCapFunc="invokeCapFunc",e.functionResponse="functionResponse",e.event="event",e}({});const Ns=e=>`\n    (function() {\n      window.dispatchEvent(new MessageEvent('message', {\n        data: ${JSON.stringify(e)}\n      }));\n    })();\n  `;function Ss(a){let{endpoint:o}=a;const{openLoadingOverlay:r,closeLoadingOverlay:i}=He(),s=me(null),[c,d]=ie(0),u=de((()=>o?new URL(o).origin.toLowerCase():void 0),[o]),m=de((()=>{if(u)return{deviceInfo:Es(),protocolVersion:e.gY_,isWalletBrowser:!0,connect:async(t,a)=>{try{var o,m;if(t>e.gY_)return As(c,"Unsupported protocol version",ys.BAD_REQUEST_ERROR);!function(e){var t;if(!(e&&e.manifestUrl&&null!==(t=e.items)&&void 0!==t&&t.length))throw new Error("Wrong request data")}(a),await(null===(o=s.current)||void 0===o?void 0:o.hide()),r();const l=await(0,n.p)("tonConnect_connect",Ts(u),a,c);return i(),null===(m=s.current)||void 0===m||m.show(),d(c+1),l}catch(e){var p;return(0,l.SJ)("useDAppBridge:connect",e),null===(p=s.current)||void 0===p||p.show(),"event"in e&&"id"in e&&"payload"in e?e:As(c,null==e?void 0:e.message,ys.UNKNOWN_ERROR)}},restoreConnection:async()=>{try{const e=await(0,n.p)("tonConnect_reconnect",Ts(u),c);return d(c+1),e}catch(e){return(0,l.SJ)("useDAppBridge:reconnect",e),"event"in e&&"id"in e&&"payload"in e?e:As(c,null==e?void 0:e.message,ys.UNKNOWN_ERROR)}},disconnect:async()=>{d(0),await(0,n.p)("tonConnect_disconnect",Ts(u),{id:c.toString(),method:"disconnect",params:[]})},send:async e=>{var a;d(c+1);const o=Me();if(!(null===(a=o.byAccountId[o.currentAccountId].dapps)||void 0===a?void 0:a.some((e=>e.origin===u))))return{error:{code:bs.UNKNOWN_APP_ERROR,message:"Unknown app"},id:e.id.toString()};const r=Ts(u);try{switch(e.method){case"sendTransaction":{var i,m;await(null===(i=s.current)||void 0===i?void 0:i.hide());const a=await(0,n.p)("tonConnect_sendTransaction",r,e);return t.bA&&ms.applyScrollPatch(),null===(m=s.current)||void 0===m||m.show(),a}case"disconnect":return await(0,n.p)("tonConnect_disconnect",r,e);case"signData":{var p,f;await(null===(p=s.current)||void 0===p?void 0:p.hide());const t=await(0,n.p)("tonConnect_signData",r,e);return null===(f=s.current)||void 0===f||f.show(),t}default:return{error:{code:bs.BAD_REQUEST_ERROR,message:`Method "${e.method}" is not supported`},id:e.id.toString()}}}catch(t){var h;return(0,l.SJ)("useDAppBridge:send",t),null===(h=s.current)||void 0===h||h.show(),{error:{code:bs.UNKNOWN_ERROR,message:null==t?void 0:t.message},id:e.id.toString()}}}}}),[u,c]),[p,f,h]=((t,n,a)=>{const o=de((()=>n?((t,n)=>{const a=Object.keys(t).filter((e=>"function"==typeof t[e])).reduce(((e,t)=>`${e}${t}: (...args) => {\n      return new Promise((resolve, reject) => window.invokeCapFunc('bridge:${t}', args, resolve, reject))\n    },`),"");return`\n    (() => {\n      if (window.${e.HOw}) return;\n      window.capPromises = {};\n      window.capEventListeners = [];\n      window.invokeCapFunc = (name, args, resolve, reject) => {\n        const invocationId = btoa(Math.random()).substring(0, 12);\n        const timeoutMs = ${n||"undefined"};\n        const timeoutId = timeoutMs\n          ? setTimeout(() => reject(new Error(\`bridge timeout for function with name: \${name}\`)), timeoutMs)\n          : null;\n        window.capPromises[invocationId] = { resolve, reject, timeoutId };\n        const target = 'cordova_iab' in window ? window.cordova_iab : window.webkit.messageHandlers.cordova_iab;\n        target.postMessage(JSON.stringify({\n          type: '${Cs.invokeCapFunc}',\n          invocationId: invocationId,\n          name,\n          args,\n        }));\n      };\n      window.open = (url) => {\n        window.invokeCapFunc('window:open', { url });\n      };\n      window.close = () => {\n        window.invokeCapFunc('window:close');\n      };\n      window.addEventListener('click', (e) => {\n        const { href, target } = e.target.closest('a') || {};\n        if (href && (target === '_blank' || !href.startsWith('http'))) {\n          e.preventDefault();\n          window.invokeCapFunc('window:open', { url: href });\n        }\n      }, false);\n      window.addEventListener('message', ({ data }) => {\n        try {\n          const message = JSON.parse(data);\n          if (message.type === '${Cs.functionResponse}') {\n            const promise = window.capPromises[message.invocationId];\n            if (!promise) {\n              return;\n            }\n            if (promise.timeoutId) {\n              clearTimeout(promise.timeoutId);\n            }\n            if (message.status === 'fulfilled') {\n              promise.resolve(message.data);\n            } else {\n              promise.reject(new Error(message.data));\n            }\n            delete window.capPromises[message.invocationId];\n          }\n          if (message.type === '${Cs.event}') {\n            window.capEventListeners.forEach((listener) => listener(message.event));\n          }\n        } catch {}\n      });\n      function listen(cb) {\n        window.capEventListeners.push(cb);\n        return function() {\n          const index = window.capEventListeners.indexOf(cb);\n          if (index > -1) {\n            window.capEventListeners.splice(index, 1);\n          }\n        };\n      }\n      window.${e.HOw} = {\n        tonconnect: Object.assign(\n          ${JSON.stringify(t)},\n          {${a}},\n          { listen },\n        ),\n      };\n    })();\n  `})(n,a):""),[n,a]),r=ue((e=>{var n;null===(n=t.current)||void 0===n||n.executeScript({code:Ns(JSON.stringify(e))})}),[t]);return[o,ue((async e=>{if(!n)return;const a="string"==typeof e.data?JSON.parse(e.data):e.data;if(a.type===Cs.invokeCapFunc)try{let e;switch(a.name){case"window:open":{const{url:t}=a.args;!function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];wo(e)||Eo(e)||ko(e)?vo(e,n):to(e,{isExternal:t})}(t,!0,!0),e=!0;break}case"window:close":var o;null===(o=t.current)||void 0===o||o.close();break;default:{const t=a.name.replace("bridge:","");e=await n[t](...a.args)}}r({type:Cs.functionResponse,invocationId:a.invocationId,status:"fulfilled",data:e})}catch(e){r({type:Cs.functionResponse,invocationId:a.invocationId,status:"rejected",data:null==e?void 0:e.message})}}),[n,t,r]),ue((e=>{r({type:Cs.event,event:e})}),[r])]})(s,m),g=$r((()=>{try{h({event:"disconnect",payload:{},id:c})}catch(e){(0,l.SJ)("disconnect",e)}}));return{inAppBrowserRef:s,bridgeInjectionCode:p,onMessage:f,disconnect:g}}function As(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Unknown error.";return{event:"connect_error",id:e,payload:{code:(arguments.length>2?arguments[2]:void 0)||ys.UNKNOWN_ERROR,message:t}}}function Ts(e){return{origin:e,accountId:Me().currentAccountId}}let Is;const Bs=pe($e((e=>{const{currentBrowserOptions:t,settings:n}=e;return{url:null==t?void 0:t.url,title:null==t?void 0:t.title,subtitle:null==t?void 0:t.subtitle,theme:n.theme,animationLevel:n.animationLevel}}))((function(n){let{title:a,subtitle:o,url:r,theme:i,animationLevel:d}=n;const{closeBrowser:u}=He(),{hasOpenClass:m,hasShownClass:p}=ws(Boolean(r)),f=vs(),{inAppBrowserRef:h,bridgeInjectionCode:g,onMessage:v,disconnect:w}=Ss({endpoint:r}),y=$r((e=>{(0,l.SJ)("inAppBrowser error",e)})),b=$r((async()=>{t.KI&&await ms.enable(),w(),Is.removeEventListener("loaderror",y),Is.removeEventListener("message",v),Is.removeEventListener("exit",b),Is=void 0,h.current=null,u()})),E=$r((async()=>{t.KI&&!(await ms.isShown()).value&&await ms.disable();const n=!a&&r?ja(r):a,l=o===n?void 0:o,u=`,${(0,s.oE)([t.pz||n?`title=${n||""}`:void 0,t.pz||l?`subtitle=${l||""}`:void 0,r?`shareurl=${encodeURIComponent(r)}`:void 0,`closebuttoncaption=${t.pz?f("Close"):"x"}`,`backbuttoncaption=${f("Back")}`,`reloadcaption=${f("Reload Page")}`,`openinbrowsercaption=${f(t.pz?"Open in Safari":"Open in Browser")}`,`copyurlcaption=${f("CopyURL")}`,`sharecaption=${f("Share")}`,`theme=${i}`,"animated="+((null!=d?d:e.i11>0)?"yes":"no")]).join(",")}`;Is=cordova.InAppBrowser.open(r,"_blank",Uo+u,g);const m=Is.hide;Is.hide=()=>new Promise((e=>{null==m||m(),Is&&t.ZH?hs(Is,"hidecompletion",(()=>e())):e()}));const p=Is.close;Is.close=()=>{if(!Is)return Promise.resolve();p();const e=new Promise((e=>{hs(Is,"exit",(async()=>{await(0,c.fm)((()=>!Is),15,20),e()})),setTimeout(e,900)}));return Is.show=()=>{},Is.hide=()=>e,e},h.current=Is,Is.addEventListener("loaderror",y),Is.addEventListener("message",v),Is.addEventListener("exit",b),Is.show()}));return le((()=>{r&&E()}),[r,a,o]),he.createElement("div",{className:ps(p&&"HhiWhPVc",m&&"pNRv6m36")})})));function _s(){return Is}function xs(){var e;return Promise.all([null===(e=_s())||void 0===e?void 0:e.close(),He().closeAnyModal(),He().closeMediaViewer()])}const Ls=i.p+"coin_btc.887dcd8a09b641cd64fc.png",Ds=i.p+"coin_my.0333e30adb78820c4490.svg",Os={ton:i.p+"coin_ton.3ad15a82e5688b967ed1.png",btc:Ls,trx:i.p+"coin_trx.e9458515724ddbb167c8.svg",usdt:i.p+"coin_usdt.954394d1344db6c259d1.svg",my:Ds};function Ps(e){let{tokenBySlug:t,states:n,shouldUseNominators:a}=e;const o=n.some((e=>"nominators"===e.type&&Rs(e))),r=n.some((e=>"liquid"===e.type&&Rs(e)));return a&&!r&&(n=n.filter((e=>"liquid"!==e.type))),a||o||(n=n.filter((e=>"nominators"!==e.type))),n.filter((e=>t[e.tokenSlug])).map((e=>{const n=t[e.tokenSlug],a=Os[n.symbol.toLowerCase()];return{value:e.id,icon:null!=a?a:n.image,name:n.symbol}}))}function Fs(e){return e.isUnstakeRequested?"unstakeRequested":Rs(e)?"active":"inactive"}function Rs(t){return Boolean(t.balance||t.isUnstakeRequested||"unclaimedRewards"in t&&t.unclaimedRewards>e.dL4)}function Ms(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}We("startStaking",((e,n,a)=>{const o=e.currentStaking.state!==cn.None;if(t.bA&&!o)return void ni("startStaking",a);const r=cn.StakeInitial;Ue(Ui(e,{state:r,error:void 0}))})),We("startUnstaking",((e,n,a)=>{const o=e.currentStaking.state!==cn.None;if(t.bA&&!o)return void ni("startUnstaking",a);const r=cn.UnstakeInitial;Ue(Ui(e,{state:r,error:void 0}))})),We("fetchStakingFee",(async(e,t,a)=>{const{amount:o}=a,{currentAccountId:r}=e;if(!r)return;const i=Vn(e,r),s=await(0,n.p)("checkStakeDraft",r,o,i);s&&!("error"in s)&&(e=Ui(e=Me(),{fee:s.fee}),Ue(e))})),We("submitStakingInitial",(async(e,t,a)=>{const{isUnstaking:o,amount:r}=null!=a?a:{},{currentAccountId:i}=e;if(!i)return;Ue(Ui(e,{isLoading:!0,error:void 0}));const s=Vn(e,i);if(o){const a=await(0,n.p)("checkUnstakeDraft",i,r,s);e=Ui(e=Me(),{isLoading:!1}),a&&("error"in a?e=Ui(e,{error:a.error}):(Je(e,i).isHardware?(t.resetHardwareWalletConnect(),e=Ui(Me(),{state:cn.UnstakeConnectHardware})):e=Ui(e,{state:cn.UnstakePassword}),e=Ui(e,{fee:a.fee,amount:r,error:void 0,tokenAmount:a.tokenAmount})))}else{const a=await(0,n.p)("checkStakeDraft",i,r,s);e=Ui(e=Me(),{isLoading:!1}),a&&("error"in a?e=Ui(e,{error:a.error}):(Je(e,i).isHardware?(t.resetHardwareWalletConnect(),e=Ui(Me(),{state:cn.StakeConnectHardware})):e=Ui(e,{state:cn.StakePassword}),e=Ui(e,{fee:a.fee,amount:r,error:void 0})))}Ue(e)})),We("submitStakingPassword",(async(e,t,a)=>{const{password:o,isUnstaking:r}=a,{amount:i,tokenAmount:s}=e.currentStaking,{currentAccountId:l}=e;if(!await(0,n.p)("verifyPassword",o))return void Ue(Ui(Me(),{error:"Wrong password, please try again."}));const c=Vn(e=Me(),l);if(Qo()&&(e=ci(e)),e=Ui(e,{isLoading:!0,error:void 0}),Ue(e),await ar(!0),e=Me(),r){var d;const a=null===(d=e.stakingInfo)||void 0===d||null===(d=d.liquid)||void 0===d?void 0:d.available,r="nominators"===c.type?c.balance:s,i=await(0,n.p)("submitUnstake",e.currentAccountId,o,r,c,ds(c.type).unstake.real),u=Boolean("nominators"===c.type||"liquid"===c.type&&a&&a<c.balance);e=Ui(e=hi(e=Me(),l,{isLongUnstakeRequested:u}),{isLoading:!1}),Ue(e),i?e=Ui(e=Me(),{state:cn.UnstakeComplete}):(t.showDialog({message:"Unstaking was unsuccessful. Try again later."}),e=Me(),Qo()&&(e=di(e)))}else{const a=await(0,n.p)("submitStake",e.currentAccountId,o,i,c,ds(c.type).stake.real);e=Ui(e=Me(),{isLoading:!1}),Ue(e),a?e=Ui(e=Me(),{state:cn.StakeComplete}):(t.showDialog({message:"Staking was unsuccessful. Try again later."}),e=Me(),Qo()&&(e=di(e)))}Ue(e)})),We("submitStakingHardware",(async(e,t,n)=>{const{isUnstaking:a}=n||{},{amount:o,tokenAmount:r}=e.currentStaking,{currentAccountId:s}=e,c=Vn(e,s);e=Ui(e,{isLoading:!0,error:void 0,state:a?cn.UnstakeConfirmHardware:cn.StakeConfirmHardware}),Ue(e);const d=await Promise.all([i.e(494),i.e(612),i.e(776),i.e(432)]).then(i.bind(i,95683));let u;const m=(e=Me()).currentAccountId;try{if(a){var p;const t=null===(p=e.stakingInfo)||void 0===p||null===(p=p.liquid)||void 0===p?void 0:p.available,n=c.balance,a="nominators"===c.type?n:r;u=await d.submitLedgerUnstake(m,c,a,ds(c.type).unstake.real);const o=Boolean("nominators"===c.type||"liquid"===c.type&&t&&t<n);e=hi(e=Me(),s,{isLongUnstakeRequested:o}),Ue(e)}else u=await d.submitLedgerStake(m,o,c,ds(c.type).stake.real)}catch(e){if(e instanceof us.bS)return void Ue(Ui(Me(),{isLoading:!1,error:"$hardware_blind_sign_not_enabled_internal"}));if(e instanceof us.KB)return void Ue(Ui(Me(),{isLoading:!1,error:"Canceled by the user"}));(0,l.SJ)("submitStakingHardware",e)}e=Ui(e=Me(),{isLoading:!1}),Ue(e),u?"string"!=typeof u&&"error"in u?t.showError({error:u.error}):(e=Ui(e=Me(),{state:a?cn.UnstakeComplete:cn.StakeComplete}),Ue(e)):t.showDialog({message:a?"Unstaking was unsuccessful. Try again later.":"Staking was unsuccessful. Try again later."})})),We("clearStakingError",(e=>{Ue(Ui(e,{error:void 0}))})),We("cancelStaking",(e=>{Qo()&&(e=di(e)),e=function(e){return{...e,currentStaking:{state:cn.None}}}(e),Ue(e)})),We("setStakingScreen",((e,t,n)=>{const{state:a}=n;Ue(Ui(e,{state:a}))})),We("fetchStakingHistory",(async(e,t,a)=>{const{limit:o,offset:r}=null!=a?a:{},i=await(0,n.p)("getStakingHistory",e.currentAccountId,o,r);i&&(e=hi(e=Me(),e.currentAccountId,{stakingHistory:i},!0),Ue(e))})),We("openAnyAccountStakingInfo",(async(e,n,a)=>{let{accountId:o,network:r,stakingId:i}=a;t.bA?ni("openAnyAccountStakingInfo",{accountId:o,network:r,stakingId:i}):(await Promise.all([xs(),Zi(e,o,r)]),n.changeCurrentStaking({stakingId:i}),n.openStakingInfo())})),We("openStakingInfo",(e=>{t.bA?ni("openStakingInfo"):(e={...e,isStakingInfoModalOpen:!0},Ue(e))})),We("closeStakingInfo",(e=>{e={...e,isStakingInfoModalOpen:void 0},Ue(e)})),We("changeCurrentStaking",(async(e,n,a)=>{let{stakingId:o,shouldReopenModal:r}=a;t.bA&&r?ni("changeCurrentStaking",{stakingId:o,shouldReopenModal:r}):(r&&await(0,c.v7)(50),e=Hi(e=Me(),e.currentAccountId,{stakingId:o}),Ue(e),r&&n.openStakingInfoOrStart())})),We("startStakingClaim",(e=>{if(t.bA)return void ni("startStakingClaim");const n=e.currentAccountId,{isHardware:a}=Je(e,n);e=Ui(e,{state:a?cn.ClaimConnectHardware:cn.ClaimPassword}),Ue(e)})),We("cancelStakingClaim",(e=>{e=Ui(e,{state:cn.None}),Ue(e)})),We("submitStakingClaim",(async(e,a,o)=>{var r;let{password:i}=o;const s=e.currentAccountId;if(!await(0,n.p)("verifyPassword",i))return void Ue(Ui(Me(),{error:"Wrong password, please try again."}));if(e=Me(),Qo()&&(e=ci(e)),e=Ui(e,{isLoading:!0,error:void 0}),Ue(e),await ar(!0),t.bA)return void ni("submitStakingClaim",{password:i});const l=Vn(e=Me(),s),c=await(0,n.p)("submitStakingClaim",s,i,l,null===(r=ds(l.type).claim)||void 0===r?void 0:r.real);if(e=Ui(e=Me(),{isLoading:!1}),Ue(e),!c||"error"in c)return Qo()&&(e=di(e=Me()),Ue(e)),nr(),void a.showError({error:null==c?void 0:c.error});ar(),e=Ui(e=Me(),{state:cn.None}),Ue(e)})),We("submitStakingClaimHardware",(async(e,t)=>{e=Ui(e,{isLoading:!0,error:void 0,state:cn.ClaimConfirmHardware}),Ue(e);const n=await Promise.all([i.e(494),i.e(612),i.e(776),i.e(432)]).then(i.bind(i,95683)),a=(e=Me()).currentAccountId,o=Vn(e,a);let r;try{var s;r=await n.submitLedgerStakingClaim(a,o,null===(s=ds(o.type).claim)||void 0===s?void 0:s.real)}catch(e){if(e instanceof us.bS)return void Ue(Ui(Me(),{isLoading:!1,error:"$hardware_blind_sign_not_enabled_internal"}));if(e instanceof us.KB)return void Ue(Ui(Me(),{isLoading:!1,error:"Canceled by the user"}));(0,l.SJ)("submitStakingClaimHardware",e)}e=Ui(e=Me(),{isLoading:!1}),Ue(e),r?"object"==typeof r&&"error"in r?t.showError({error:r.error}):(e=Ui(e=Me(),{state:cn.None}),Ue(e)):t.showError({error:Gn.QD.Unexpected})})),We("openStakingInfoOrStart",((e,t)=>{e.currentAccountId&&(Rs(Vn(e,e.currentAccountId))?t.openStakingInfo():t.startStaking())}));const Us=(e,t,n)=>Math.min(n,Math.max(t,e)),Hs=(e,t,n)=>e>=t&&e<=n,Ws=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.round(e*10**t)/10**t};let $s=function(e){return e[e.Up=0]="Up",e[e.Down=1]="Down",e[e.Left=2]="Left",e[e.Right=3]="Right",e}({});function Vs(e,t){return t?Math.hypot(t.pageX-e.pageX,t.pageY-e.pageY):0}function zs(e,t){return{x:(e.pageX+t.pageX)/2,y:(e.pageY+t.pageY)/2}}let qs=0;const Ks=new class{constructor(){let{stability:e=8,sensitivity:t=100,tolerance:n=1.1,delay:a=150}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Ms(this,"stability",void 0),Ms(this,"sensitivity",void 0),Ms(this,"tolerance",void 0),Ms(this,"delay",void 0),Ms(this,"lastUpDeltas",void 0),Ms(this,"lastDownDeltas",void 0),Ms(this,"deltasTimestamp",void 0),this.stability=e,this.sensitivity=t,this.tolerance=n,this.delay=a,this.lastUpDeltas=new Array(2*this.stability).fill(0),this.lastDownDeltas=new Array(2*this.stability).fill(0),this.deltasTimestamp=new Array(2*this.stability).fill(0)}check(e){let t;return void 0!==(e=e.originalEvent||e).wheelDelta?t=e.wheelDelta:void 0!==e.deltaY?t=-40*e.deltaY:void 0===e.detail&&0!==e.detail||(t=-40*e.detail),this.deltasTimestamp.push(Date.now()),this.deltasTimestamp.shift(),t>0?(this.lastUpDeltas.push(t),this.lastUpDeltas.shift(),this.isInertia(1)):(this.lastDownDeltas.push(t),this.lastDownDeltas.shift(),this.isInertia(-1))}isInertia(e){const t=-1===e?this.lastDownDeltas:this.lastUpDeltas;if(void 0===t[0])return e;if(this.deltasTimestamp[2*this.stability-2]+this.delay>Date.now()&&t[0]===t[2*this.stability-1])return!1;const n=t.slice(0,this.stability),a=t.slice(this.stability,2*this.stability),o=n.reduce(((e,t)=>e+t)),r=a.reduce(((e,t)=>e+t)),i=o/n.length,s=r/a.length;return Math.abs(i)<Math.abs(s*this.tolerance)&&this.sensitivity<Math.abs(s)}}({stability:5,sensitivity:25,tolerance:t.H8?1:.6,delay:150});function js(e,n){var a,o,r;let i,s=!1,l=!1,d=!1,u=0,m=null!==(a=n.initialZoom)&&void 0!==a?a:1,p={x:0,y:0},f={x:!1,y:!1};const h=ia();let g,v={x:h.width/2,y:h.height/2};const w=null!==(o=n.minZoom)&&void 0!==o?o:1,y=null!==(r=n.maxZoom)&&void 0!==r?r:4;function b(t){var a;const o=t.target,{excludedClosestSelector:r,includedClosestSelector:s,withNativeDrag:l,withCursor:c,onDrag:d}=n;(e===o||e.contains(o))&&"INPUT"!==o.tagName&&"TEXTAREA"!==o.tagName&&(r&&(o.matches(r)||o.closest(r))||s&&!o.matches(s)&&!o.closest(s)||(i=t,"mousedown"===t.type?(!l&&d&&t.preventDefault(),document.addEventListener("mousemove",k),document.addEventListener("mouseup",E)):"touchstart"===t.type&&(o.addEventListener("touchmove",k,{passive:!0}),o.addEventListener("touchend",E,{passive:!0}),o.addEventListener("touchcancel",E,{passive:!0}),"touches"in t&&(void 0===t.pageX&&(t.pageX=t.touches[0].pageX),void 0===t.pageY&&(t.pageY=t.touches[0].pageY),2===t.touches.length&&(u=Vs(t.touches[0],t.touches[1]),v=zs(t.touches[0],t.touches[1])))),c&&document.body.classList.add("cursor-grabbing"),null===(a=n.onCapture)||void 0===a||a.call(n,t)))}function E(e){i&&(n.withCursor&&document.body.classList.remove("cursor-grabbing"),document.removeEventListener("mouseup",E),document.removeEventListener("mousemove",k),i.target.removeEventListener("touchcancel",E),i.target.removeEventListener("touchend",E),i.target.removeEventListener("touchmove",k),t.pz&&n.selectorToPreventScroll&&Array.from(document.querySelectorAll(n.selectorToPreventScroll)).forEach((e=>{e.style.overflow=""})),e&&(s?n.onRelease&&n.onRelease(e):"mouseup"===e.type&&(n.onDoubleClick&&Date.now()-qs<300?n.onDoubleClick(e,{centerX:i.pageX,centerY:i.pageY}):!n.onClick||"button"in e&&0!==e.button||n.onClick(e),qs=Date.now()))),s=!1,l=!1,d=!1,u=0,m=Us(m,w,y),g=void 0,p={x:0,y:0},f={x:!1,y:!1};const a=ia();v={x:a.width/2,y:a.height/2},i=void 0}function k(e){if(i){if("touchmove"===e.type&&"touches"in e&&(void 0===e.pageX&&(e.pageX=e.touches[0].pageX),void 0===e.pageY&&(e.pageY=e.touches[0].pageY),n.onZoom&&u>0&&2===e.touches.length)){const t=Vs(e.touches[0],e.touches[1]),a=zs(e.touches[0],e.touches[1]),o=a.x-v.x,r=a.y-v.y,i=t/u;n.onZoom(e,{zoomFactor:i,initialCenterX:v.x,initialCenterY:v.y,dragOffsetX:o,dragOffsetY:r,currentCenterX:a.x,currentCenterY:a.y}),1!==i&&(s=!0)}const a=e.pageX-i.pageX,o=e.pageY-i.pageY;(Math.abs(a)>=15||Math.abs(o)>=15)&&(s=!0);let r=!1;n.onDrag&&(n.onDrag(e,i,{dragOffsetX:a,dragOffsetY:o}),r=!0),n.onSwipe&&!l&&(l=function(e,a,o){var r;if(t.pz){const t=e.touches[0].pageX;if(t<=20||t>=ia().width-20)return!1}const i=Math.abs(a),s=Math.abs(o),l=null!==(r=n.swipeThreshold)&&void 0!==r?r:20;let c;if(i>s&&i>=l?c="x":s>i&&s>=l&&(c="y"),!c)return!1;if(g){if(g!==c)return!1}else g=c;return function(e,t,n,a,o){const r={dragOffsetX:n,dragOffsetY:a};return"x"===t?o(e,n<0?$s.Left:$s.Right,r):"y"===t&&o(e,a<0?$s.Up:$s.Down,r)}(e,c,a,o,n.onSwipe)}(e,a,o),r=l),t.pz&&r&&n.selectorToPreventScroll&&Array.from(document.querySelectorAll(n.selectorToPreventScroll)).forEach((e=>{e.style.overflow="hidden"}))}}const C=(0,c.sg)(E,150,!1),N=(0,c.sg)(E,150,!1);function S(e){s||(b(e),s=!0,v={x:e.x,y:e.y})}function A(e){if(!n.onZoom&&!n.onDrag)return;if(n.excludedClosestSelector&&(e.target.matches(n.excludedClosestSelector)||e.target.closest(n.excludedClosestSelector)))return;e.preventDefault(),e.stopPropagation();const{doubleTapZoom:t=3}=n;if(n.onDoubleClick&&Object.is(e.deltaX,-0)&&Object.is(e.deltaY,-0)&&e.ctrlKey)return S(e),m=m>1?1:t,n.onDoubleClick(e,{centerX:e.pageX,centerY:e.pageY}),void(s=!1);const a=e.metaKey||e.ctrlKey||e.shiftKey;if(a&&function(e){if(!n.onZoom)return;S(e);const t=e.x-v.x,a=e.y-v.y,o=Us(e.deltaY,-25,25);m-=.01*o,m=Us(m,.5*w,3*y),d=!0,n.onZoom(e,{zoom:Ws(m,2),initialCenterX:v.x,initialCenterY:v.y,dragOffsetX:t,dragOffsetY:a,currentCenterX:e.x,currentCenterY:e.y}),N(e)}(e),!a&&!d){const t=Ks.check(e);(1!==m||t)&&function(e){if(!n.onDrag)return;S(e),f.x&&Math.sign(p.x)!==Math.sign(e.deltaX)||(p.x-=e.deltaX),f.y&&Math.sign(p.y)!==Math.sign(e.deltaY)||(p.y-=e.deltaY);const{x:t,y:a}=p;n.onDrag(e,i,{dragOffsetX:t,dragOffsetY:a},((e,t)=>{f={x:e,y:t}})),C(e)}(e)}}return n.withWheelDrag&&e.addEventListener("wheel",A),e.addEventListener("mousedown",b),document.body.addEventListener("touchstart",b,{passive:!n.isNotPassive}),()=>{E(),document.body.removeEventListener("touchstart",b),e.removeEventListener("mousedown",b),e.removeEventListener("wheel",A)}}const Ys={Enter:"onEnter",Backspace:"onBackspace",Delete:"onDelete",Esc:"onEsc",Escape:"onEsc",ArrowUp:"onUp",ArrowDown:"onDown",ArrowLeft:"onLeft",ArrowRight:"onRight",Tab:"onTab"},Gs={onEnter:[],onDelete:[],onBackspace:[],onEsc:[],onUp:[],onDown:[],onLeft:[],onRight:[],onTab:[]};function Qs(e){return Xs()||document.addEventListener("keydown",Js,!0),Object.keys(e).forEach((t=>{const n=e[t];if(!n)return;const a=Gs[t];a&&a.push(n)})),()=>{!function(e){Object.keys(e).forEach((t=>{const n=e[t],a=Gs[t];if(a){const e=a.findIndex((e=>"function"==typeof e?e===n:n&&"handler"in n&&e.handler===n.handler));-1!==e&&a.splice(e,1)}})),Xs()||document.removeEventListener("keydown",Js,!1)}(e)}}function Xs(){return Object.values(Gs).some((e=>Boolean(e.length)))}function Js(e){const t=Ys[e.key];if(!t)return;const{length:n}=Gs[t];if(!n)return;const a=Gs[t][n-1];if("function"==typeof a)a(e),e.stopPropagation();else{const{handler:t,noStopPropagation:n,shouldPreventDefault:o}=a;n||e.stopPropagation(),o&&e.preventDefault(),t(e)}}let Zs=0;function el(){Zs+=1}function tl(){Zs-=1}function nl(e){function t(t){if("Tab"!==t.key)return;t.preventDefault(),t.stopPropagation();const n=Array.from(e.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'));if(!n.length)return;const a=n.findIndex((e=>e.isSameNode(document.activeElement)));let o=0;a>=0&&(o=t.shiftKey?a>0?a-1:n.length-1:a<n.length-1?a+1:0),n[o].focus()}return document.addEventListener("keydown",t,!1),()=>{document.removeEventListener("keydown",t,!1)}}function al(e){return/^#[0-9A-F]{6}$/i.test(e)?e:`#${e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+\.{0,1}\d*))?\)$/).slice(1).map(((e,t)=>(3===t?Math.round(255*parseFloat(e)):parseFloat(e)).toString(16).padStart(2,"0").replace("NaN",""))).join("")}`}var ol;!function(e){e.SHOW="onShow",e.HIDE="onHide",e.COLOR_CHANGE="onColorChange"}(ol||(ol={}));const rl=(0,jn.F3)("NavigationBar",{web:()=>i.e(884).then(i.bind(i,15884)).then((e=>new e.NavigationBarWeb))});var il,sl;!function(e){e.Dark="DARK",e.Light="LIGHT",e.Default="DEFAULT"}(il||(il={})),function(e){e.None="NONE",e.Slide="SLIDE",e.Fade="FADE"}(sl||(sl={}));const ll=(0,jn.F3)("StatusBar"),cl=window.matchMedia("(prefers-color-scheme: dark)");let dl,ul;function ml(e,t){dl=e,pl(),hl({isInModal:t}),(0,k.YS)((()=>{var e;const t=getComputedStyle(document.documentElement).getPropertyValue("--color-background-second");null===(e=document.querySelector('meta[name="theme-color"]'))||void 0===e||e.setAttribute("content",t)}))}function pl(){var t;const n="dark"===dl||"system"===dl&&(e.tKX?"dark"===(null===(t=ya())||void 0===t?void 0:t.colorScheme):cl.matches);document.documentElement.classList.toggle("theme-dark",n)}function fl(){pl(),hl()}function hl(n){e.tKX?(0,k.YS)((()=>{var e,t,n;const a=getComputedStyle(document.documentElement).getPropertyValue("--color-background-second");if(!a)return;const o=al(a);null===(e=ya())||void 0===e||e.setHeaderColor(o),null===(t=ya())||void 0===t||t.setBackgroundColor(o),null===(n=ya())||void 0===n||n.setBottomBarColor(o)})):e.UMQ&&(void 0!==(null==n?void 0:n.forceDarkBackground)&&(ul=n.forceDarkBackground),function(e,n,a,o){const r=a||"dark"===e||n&&"system"===e?il.Dark:il.Light;ll.setStyle({style:r,isModalOpen:o}),t.xy&&rl.setColor({color:"#00000000",darkButtons:"light"===e||!n&&"system"===e})}(dl,cl.matches,ul,null==n?void 0:n.isInModal))}function gl(){"system"===Me().settings.theme&&fl()}cl.addEventListener("change",fl),e.tKX&&ba().then((e=>{e.onEvent("themeChanged",gl)}));const vl=(e,t,n)=>{const a=me();return le((()=>{const n=a.current;return a.current=t,e(n||[])}),t,n)},wl=new Map,yl=new Set(["color","date","datetime-local","email","month","number","password","search","tel","text","time","url","week"]);let bl;const El=Wa.getSafeAreaInsets().then((e=>{let{insets:t}=e;return bl=t,bl}));let kl,Cl;function Nl(e,n){le((()=>{if(t.bA)return wl.set(e,n),kl===e&&n(),()=>{wl.get(e)===n&&wl.delete(e)}}),[e,n])}function Sl(e){return!!(e&&e instanceof HTMLElement)&&("INPUT"===e.tagName&&yl.has(e.type)||"TEXTAREA"===e.tagName||"DIV"===e.tagName&&e.isContentEditable)}t.bA&&(ms.addListener("delegate",(e=>{var t;let{key:n,globalJson:a}=e;kl=n,null===(t=wl.get(n))||void 0===t||t(),Ue(JSON.parse(a,Dn.bk),{forceOutdated:!0,forceSyncOnIOs:!0})})),ms.addListener("move",(()=>{window.dispatchEvent(new Event("viewportmove"))})));const Al=new Map;t.KI&&(ms.prepare(),ms.addListener("openInMain",(e=>{var t;let{key:n}=e;null===(t=Al.get(n))||void 0===t||t()})));let Tl,Il=Promise.resolve();const Bl=function(e,t){const n=me(),{current:a}=n;return t&&void 0===e||(n.current=e),a};function _l(e,t){const n=Bl(t),a=me();var o,r;n&&!t.some(((e,t)=>e!==n[t]))||(null===(o=a.current)||void 0===o||o.call(a),a.current=null!==(r=e(n||[]))&&void 0!==r?r:void 0),gs((()=>()=>{var e;null===(e=a.current)||void 0===e||e.call(a)}))}const xl=(0,c.sg)((e=>e()),300,!1),Ll=[];let Dl=!1,Ol=0;function Pl(){const e=ya().BackButton;Ll.length>0&&!Dl?(e.show(),e.onClick(Fl),Dl=!0):!Ll.length&&Dl&&(e.hide(),e.offClick(Fl),Dl=!1)}function Fl(){if(Ll.length>0){const e=Ll.pop();try{e.callback()}catch(e){(0,l.SJ)("[handleBackButtonClick]",e)}}xl(Pl)}const Rl=`${window.location.pathname}${window.location.search}`,Ml=Number(new Date);let Ul,Hl,Wl=!1,$l=[],Vl=[];function zl(){const e=$l.filter((e=>"go"===e.type)),t=$l.filter((e=>"go"!==e.type)),n=e.reduce(((e,t)=>e+t.delta),0);$l=[],n&&(window.history.go(n),t.length)?Vl.push(...t):ql(t)}function ql(e){e.forEach((e=>window.history[e.type](e.data,"")))}function Kl(e){$l.length||(0,k.YS)(zl),$l.push(e)}function jl(){Hl=0,Ul=[{index:0,onBack:()=>window.history.back()}],t.Fe||window.history.replaceState({index:0,historyUniqueSessionId:Ml},"",Rl)}function Yl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;for(let t=Hl-1;t>0&&Ul[t].isClosed;t--)e++;return e&&(Wl=!0,Kl({type:"go",delta:-e})),e}function Gl(){for(let n=Ul.length-1;n>0;n--){var e,t;Ul[n].isClosed||null===(e=(t=Ul[n]).onBack)||void 0===e||e.call(t)}jl()}function Ql(n){let{isActive:a,shouldBeReplaced:o,shouldIgnoreForTelegram:r,onBack:i}=n;const s=$r(i),l=me(),c=me(),d=me(!1),u=me(!0),m=ue((function(){const e=arguments.length>0&&void 0!==arguments[0]&&arguments[0]||Ul[Hl].shouldBeReplaced;l.current=e?Hl:++Hl,Hl=l.current;const t=Ul[l.current];var n;t&&!t.isClosed&&(null===(n=t.markReplaced)||void 0===n||n.call(t)),Ul[l.current]={index:l.current,onBack:s,shouldBeReplaced:o,markReplaced:()=>{d.current=!0}},Kl({type:e?"replaceState":"pushState",data:{index:l.current,historyUniqueSessionId:Ml}})}),[s,o]),p=ue((()=>{l.current&&Ul[l.current]&&!d.current&&(Ul[l.current].isClosed=!0,d.current=!0,l.current!==Hl||o||(Hl-=Yl()))}),[o]);gs((()=>{if(!t.pz)return u.current=!1,()=>{a&&!d.current&&p()}})),_l((e=>{let[n]=e;t.pz||n!==a&&(u.current&&!a||(a?m():p()))}),[a,p,m]),le((()=>{if(e.tKX&&!r&&a)return c.current=function(e){const t=(Ol+=1,Ol);return Ll.push({id:t,callback:e}),xl(Pl),t}(s),()=>{void 0!==c.current&&(function(e){const t=Ll.findIndex((t=>t.id===e));-1!==t&&(Ll.splice(t,1),xl(Pl))}(c.current),c.current=void 0)}}),[a,r,i])}e.W75&&(window.TEST_getHistoryState=()=>Ul,window.TEST_getHistoryCursor=()=>Hl),jl(),window.addEventListener("popstate",(e=>{let{state:t}=e;if(Wl)return Wl=!1,void(Vl.length&&(ql(Vl),Vl=[]));if(!t)return void Gl();const{index:n,historyUniqueSessionId:a}=t;if(a===Ml){if(n!==Hl)if(n<Hl){let e=0;for(let t=Hl;t>n-e;t--){var o,r;Ul[t].isClosed?e++:null===(o=(r=Ul[t]).onBack)||void 0===o||o.call(r)}const t=Yl(e);Hl+=n-Hl-t,Hl<0&&(Hl=0)}else n>Hl&&(Wl=!0,Kl({type:"go",delta:-(n-Hl)}))}else Gl()}));const Xl="TUSiLENF",Jl=pe((function(e){let{isActive:t,className:n,isDoubled:a}=e;const{shouldRender:o,transitionClassNames:r}=ws(t);return o?he.createElement("div",{className:ps("esdydUs1",a&&"UJzP4d9r",n,r)},he.createElement("span",{className:Xl}),he.createElement("span",{className:Xl}),he.createElement("span",{className:Xl})):null})),Zl={button:"GpDwnAkE",loadingInit:"tZ9ppkji",clicked:"A1qGzs0x",isSimple:"Cw_ElX3O",isText:"d3A7BZDx",primary:"Pb9B3sBE",transparent:"nxcFq7cM",disabled:"zSwp1moR",destructive:"tLZabe0e",sizeSmall:"ORqfj0CU",round:"PJ7EB5_T",loadingStart:"pv1HwapI",loadingDots:"_2QYUoJe"},ec=pe((function(e){let{ref:t,children:n,id:a,className:o,style:r,ariaLabel:i,forFormId:s,kind:l,isSubmit:c,isLoading:d,isPrimary:u,isSimple:m,isText:p,isDisabled:f,isRound:h,isSmall:g,isDestructive:v,onClick:w,shouldStopPropagation:y}=e;const[b,E]=ie(!1),k=$r((e=>{!f&&w&&(y&&e.stopPropagation(),w()),E(!0),setTimeout((()=>{E(!1)}),400)})),C=ps(void 0!==d&&Zl.loadingInit,d&&Zl.loadingStart);return he.createElement("button",{id:a,ref:t,type:c||s?"submit":"button",className:ps(Zl.button,m&&Zl.isSimple,g&&Zl.sizeSmall,u&&Zl.primary,(f||d)&&Zl.disabled,C,h&&Zl.round,p&&Zl.isText,v&&Zl.destructive,b&&Zl.clicked,o,l&&Zl[l]),style:r,"aria-label":i,disabled:f||d,form:s,onClick:k},n,he.createElement(Jl,{isActive:d,className:Zl.loadingDots}))})),tc=new Set(["scroll","mouseenter","mouseleave","load","error"]),nc={},ac={},oc=new Map;function rc(e,t){const n=e.replace(/^on/,"").replace(/Capture$/,"").toLowerCase();return"change"===n&&"SELECT"!==t.tagName?"input":"doubleclick"===n?"dblclick":"focus"===n?"focusin":"blur"===n?"focusout":n}function ic(e,t,n){return!n&&!tc.has(e)&&"VIDEO"!==t.tagName&&"IFRAME"!==t.tagName}function sc(e,t){nc[e]--,nc[e]||document.removeEventListener(e,lc),ac[e].delete(t),oc.get(t).delete(e)}function lc(e){const t=ac[e.type];if(t){let n=!1,a=e.target;const o=()=>{n=!0},r=()=>{e.preventDefault()},i=new Proxy(e,{get:(e,t)=>"currentTarget"===t?a:"stopPropagation"===t||"stopImmediatePropagation"===t?o:"preventDefault"===t?r:Reflect.get(e,t)});for(;a&&a!==document.body;){const e=t.get(a);if(e&&(e(i),n))return;a=a.parentNode}}}e.Oig&&document.addEventListener("dblclick",(()=>{const e=Object.keys(nc).length,t=Object.values(nc).reduce(((e,t)=>e+t),0),n=Object.keys(ac).length,a=Object.values(ac).reduce(((e,t)=>e+t.size),0),o=oc.size,r=Array.from(oc.values()).reduce(((e,t)=>e+t.size),0);console.warn("DELEGATED EVENTS STATS",{delegatedHandlersCount1:t,delegatedHandlersCount2:a,delegatedEventTypesCount:r,delegationRegistriesCount:n,delegationElementsCount:o,documentListenersCount:e})}));const cc="http://www.w3.org/2000/svg",dc=new Set(["key","ref","teactFastList","teactOrderKey"]),uc=new Set(["dir","role","form"]),mc=["INPUT","TEXTAREA","SELECT"],pc={autoCapitalize:"autocapitalize",autoComplete:"autocomplete",autoCorrect:"autocorrect",autoPlay:"autoplay",spellCheck:"spellcheck"},fc="__indexKey#",hc="__teactSelectionState",gc=new WeakMap,vc=new WeakMap,wc=new WeakMap;function yc(t,n,a,o,r,i){var s,l,c;let d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{};const{skipComponentUpdate:u,fragment:m}=d;let{nextSibling:p,namespace:f}=d;const h=(null==n?void 0:n.type)===L.Component,g=(null===(s=a)||void 0===s?void 0:s.type)===L.Component,v=a,w=!h&&(null==n?void 0:n.type)===L.Fragment,y=!g&&(null===(l=a)||void 0===l?void 0:l.type)===L.Fragment;if((null===(c=a)||void 0===c?void 0:c.type)===L.Tag&&("svg"===a.tag&&(f=cc),a.props.xmlns&&(f=a.props.xmlns)),!u&&h&&g&&!ae(n,a)&&(a=function(e,t){return e.componentInstance.props=t.componentInstance.props,ne(e.componentInstance)}(n,a)),!u&&g&&a.componentInstance.mountState===D.Mounted&&Ec(t,a,o,r,i),n===a)return a;if(e.Oig&&a){const e="target"in a&&a.target;if(e&&(!n||"target"in n&&e!==n.target))throw new Error("[Teact] Cached virtual element was moved within tree")}if(!n&&a)if(g||y){var b;g&&(r=null!==(b=(a=bc(t,a,o,r,i)).componentInstance.context)&&void 0!==b?b:r),kc(t,a,r,{nextSibling:p,fragment:m,namespace:f})}else if(m||p||v.type!==L.Text||1!==o.children.length||t.firstChild){const e=Cc(v,r,f);v.target=e,Ac(m||t,e,p),v.type===L.Tag&&_c(v,e)}else t.textContent=v.value,v.target=t.firstChild;else if(n&&!a)Nc(t,n,r,void 0);else if(n&&a)if(ae(n,a))if(p||(p=Tc(n)),g||y){var E;g&&(r=null!==(E=(a=bc(t,a,o,r,i)).componentInstance.context)&&void 0!==E?E:r),Nc(t,n,r,void 0),kc(t,a,r,{nextSibling:p,fragment:m,namespace:f})}else{const e=Cc(v,r,f);v.target=e,Nc(t,n,r,e,p),v.type===L.Tag&&_c(v,e)}else if(h&&g||w&&y)Ic(n,a,r,t,p,d.forceMoveToEnd);else{const e=n,o=e.target;if(v.target=o,e.target=void 0,n.type===L.Tag){const e=a;_c(n,void 0),_c(e,o),(p||d.forceMoveToEnd)&&Ac(t,o,p),function(e,t,n,a){xc(n.tagName,t.props);const o=Object.entries(e.props),r=Object.entries(t.props);for(const[e,a]of o){const o=t.props[e];void 0!==a&&(void 0===o||a!==o&&e.startsWith("on"))&&Dc(n,e,a)}for(const[t,o]of r){const r=e.props[t];void 0!==o&&o!==r&&Lc(n,t,o,a)}}(n,e,o,f),Ic(n,e,r,o,void 0,void 0,f)}}return a}function bc(e,t,n,a,o){const{componentInstance:r}=t;return t.componentInstance.context=a,r.mountState===D.Unmounted&&(t=function(e){return e.id=++R,e.mountState=D.Mounting,ne(e),e.mountState=D.Mounted,e.$element}(r),Ec(e,t,n,a,o)),t}function Ec(e,t,n,a,o){const{componentInstance:r}=t;r.onUpdate=()=>{n.children[o]=yc(e,n.children[o],r.$element,n,a,o,{skipComponentUpdate:!0})}}function kc(e,t,n,a){const{children:o}=t;for(let r=0,i=o.length;r<i;r++){const i=o[r],s=yc(e,void 0,i,t,n,r,a);s!==i&&(o[r]=s)}}function Cc(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"http://www.w3.org/1999/xhtml";if(e.type===L.Empty)return document.createTextNode("");if(e.type===L.Text)return document.createTextNode(e.value);const{tag:a,props:o,children:r}=e,i=document.createElementNS(n,a);xc(a,o);for(const e in o)o.hasOwnProperty(e)&&void 0!==o[e]&&Lc(i,e,o[e],n);!function(e,t){mc.includes(e.tagName)&&(t.defaultValue&&Lc(e,"value",t.defaultValue),t.defaultChecked&&Lc(e,"checked",t.defaultChecked))}(i,o);for(let a=0,o=r.length;a<o;a++){const o=r[a],s=yc(i,void 0,o,e,t,a,{namespace:n});s!==o&&(r[a]=s)}return i}function Nc(e,t,n,a,o){const r=t.type===L.Component,i=!r&&t.type===L.Fragment;r||i?(r&&oe(t.componentInstance),function(e,t,n){for(const a of t.children)yc(e,a,void 0,t,n,-1)}(e,t,n),a&&Ac(e,a,o)):(a?e.replaceChild(a,t.target):e.removeChild(t.target),Sc(t))}function Sc(e){if(e.type===L.Component)oe(e.componentInstance);else if(e.type!==L.Fragment&&(e.type===L.Tag&&(vc.delete(e.target),_c(e,void 0),function(e){const t=oc.get(e);t&&(t.forEach((t=>sc(t,e))),oc.delete(e))}(e.target)),e.target=void 0,e.type!==L.Tag))return;for(const t of e.children)Sc(t)}function Ac(e,t,n){n?e.insertBefore(t,n):e.appendChild(t)}function Tc(e){return e.type===L.Component||e.type===L.Fragment?Tc(e.children[e.children.length-1]):e.target.nextSibling||void 0}function Ic(t,n,a,o,r){let i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=arguments.length>6?arguments[6]:void 0;if(e.Oig&&function(e){const t=e[0];if(t&&"props"in t&&void 0!==t.props.key){const t=e.reduce(((e,t)=>("props"in t&&t.props.key&&e.push(t.props.key),e)),[]);if(t.length!==(0,s.Am)(t).length)throw console.warn("[Teact] Duplicated keys:",t.filter(((e,t,n)=>n.indexOf(e)!==t)),e),new Error("[Teact] Children keys are not unique")}}(n.children),"props"in n&&n.props.teactFastList)return void function(t,n,a,o){const r=t.children,i=n.children,s=new Set;for(const t of i){const n="props"in t?t.props.key:void 0;if(e.Oig&&M(t)&&(null==n&&console.warn("Missing `key` in `teactFastList`"),t.type===L.Fragment))throw new Error("[Teact] Fragment can not be child of container with `teactFastList`");s.add(n)}let l=0;const c={};for(let e=0,t=r.length;e<t;e++){const t=r[e];let d="props"in t?t.props.key:void 0;const u=null!=d;if(!u||s.has(d)){if(!u){const r=i[e],s=r&&"props"in r?r.props.key:void 0;if(!r||s){yc(o,t,void 0,n,a,-1);continue}d=`${fc}${e}`}c[d]={$element:t,index:l++,orderKey:"props"in t?t.props.teactOrderKey:void 0}}else yc(o,t,void 0,n,a,-1)}let d,u,m=0;for(let e=0,t=i.length;e<t;e++){const t=i[e],r=c["props"in t?t.props.key:`${fc}${e}`];if(!r){void 0===u&&(d=e,u=0),u++;continue}u&&(Bc(d,u,o,n,a),u=void 0,d=void 0);const s="props"in t?t.props.teactOrderKey:void 0,l=r.index!==m&&(!s||r.orderKey!==s),p=l&&m>r.index;l&&!p||m++;const f=o.childNodes[p?e+1:e],h=l?f?{nextSibling:f}:{forceMoveToEnd:!0}:void 0,g=yc(o,r.$element,t,n,a,e,h);g!==t&&(i[e]=g)}u&&Bc(d,u,o,n,a)}(t,n,a,o);const c=t.children,d=n.children,u=c.length,m=d.length,p=Math.max(u,m),f=m>u?document.createDocumentFragment():void 0,h=t.children[u-1],g=f&&(r||(h?Tc(h):void 0));for(let e=0;e<p;e++){const t=yc(o,c[e],d[e],n,a,e,e>=u?{fragment:f,namespace:l}:{nextSibling:r,forceMoveToEnd:i,namespace:l});t&&t!==d[e]&&(d[e]=t)}f&&Ac(o,f,g)}function Bc(e,t,n,a,o){const r=n.childNodes[e];if(1===t){const t=a.children[e],i=yc(n,void 0,t,a,o,e,{nextSibling:r});return void(i!==t&&(a.children[e]=i))}const i=document.createDocumentFragment();for(let r=e;r<e+t;r++){const e=a.children[r],t=yc(n,void 0,e,a,o,r,{fragment:i});t!==e&&(a.children[r]=t)}Ac(n,i,r)}function _c(e,t){const{ref:n}=e.props;var a;"object"==typeof n?(n.current=t,null===(a=n.onChange)||void 0===a||a.call(n)):"function"==typeof n&&n(t)}function xc(e,t){const n=void 0!==t.value,a=void 0!==t.checked;if(!n&&!a||!mc.includes(e.toUpperCase()))return;const{value:o,checked:r,onInput:i,onChange:s,onBlur:l}=t;t.onChange=void 0,t.onBlur=e=>{delete e.currentTarget.dataset[hc],null==l||l(e)},t.onInput=e=>{if(null==i||i(e),null==s||s(e),void 0!==o&&o!==e.currentTarget.value){const{selectionStart:t,selectionEnd:n}=e.currentTarget,a=t===n&&n===e.currentTarget.value.length;if(e.currentTarget.value=o,"number"==typeof t&&"number"==typeof n){e.currentTarget.setSelectionRange(t,n);const o={selectionStart:t,selectionEnd:n,isCaretAtEnd:a};e.currentTarget.dataset[hc]=JSON.stringify(o)}}void 0!==r&&(e.currentTarget.checked=r)}}function Lc(e,t,n,a){if("className"===t)Oc(e,n,a);else if("value"===t){const t=e;if(t.value!==n){t.value=n;const e=t.dataset[hc];if(e){const{selectionStart:n,selectionEnd:a,isCaretAtEnd:o}=JSON.parse(e);if(o){const e=t.value.length;t.setSelectionRange(e,e)}else"number"==typeof n&&"number"==typeof a&&t.setSelectionRange(n,a)}}}else"style"===t?Pc(e,n):"dangerouslySetInnerHTML"===t?e.innerHTML=n.__html:t.startsWith("on")?function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=rc(t,e);ic(o,e,a)?function(e,t,n){nc[e]||(nc[e]=0,document.addEventListener(e,lc)),function(e){return ac[e]||(ac[e]=new Map),ac[e]}(e).set(t,n),function(e){const t=oc.get(e);if(t)return t;const n=new Set;return oc.set(e,n),n}(t).add(e),nc[e]++}(o,e,n):e.addEventListener(o,n,a)}(e,t,n,t.endsWith("Capture")):a===cc||t.startsWith("data-")||t.startsWith("aria-")||uc.has(t)?e.setAttribute(t,n):dc.has(t)||(e[pc[t]||t]=n)}function Dc(e,t,n){"className"===t?Oc(e,""):"value"===t?e.value="":"style"===t?Pc(e,""):"dangerouslySetInnerHTML"===t?e.innerHTML="":t.startsWith("on")?function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=rc(t,e);ic(o,e,a)?sc(o,e):e.removeEventListener(o,n,a)}(e,t,n,t.endsWith("Capture")):dc.has(t)||e.removeAttribute(t)}function Oc(e,t,n){if(n===cc)return void e.setAttribute("class",t);const a=e,o=vc.get(e);if(!o)return void(a.className=t);const r=Array.from(o);t&&r.push(t),a.className=r.join(" ")}function Pc(e,t){e.style.cssText=t,wc.get(e)&&Hc(e)}function Fc(e,t){e.classList.add(t);const n=vc.get(e);n?n.add(t):vc.set(e,new Set([t]))}function Rc(e,t){e.classList.remove(t);const n=vc.get(e);n&&(n.delete(t),n.size||vc.delete(e))}function Mc(e,t,n){var a;!0===n?Fc(e,t):!1===n||null!==(a=vc.get(e))&&void 0!==a&&a.has(t)?Rc(e,t):Fc(e,t)}function Uc(e,t){wc.set(e,t),Hc(e)}function Hc(e){const t=Object.entries(wc.get(e)).reduce(((t,n)=>{let[a,o]=n;return a.startsWith("--")?e.style.setProperty(a,o):t[a]=o,t}),{});Object.assign(e.style,t)}const Wc=function(e,t){gc.has(t)||gc.set(t,{children:[]});const n=ee(),a=gc.get(t),o=yc(t,a.children[0],e,a,{},0);null==n||n(),a.children=o?[o]:[]},$c=function(e){let{containerId:t,className:n,style:a,children:o}=e;const r=me();return r.current||(r.current=document.createElement("div")),ce((()=>{const e=document.querySelector(t||"#portals");if(!e)return;const o=r.current;return n&&(o.className=n),a&&(o.style.cssText=a),e.appendChild(o),()=>{Wc(void 0,o),e.removeChild(o)}}),[n,a,t]),Wc(o,r.current)},Vc={modal:"bei20BXo",error:"ycQPrkNy",dialog:"lCrWZOJa",backdrop:"BRHUYooL",slideUpAnimation:"ciD50Ivv",container:"pI0zvyZ_",forceBottomSheet:"zXbZnJvJ",content:"ikANOLRm",noBackdrop:"JdyYzya2",compact:"OIC6BQI4",header:"LB42p81C",header_noClose:"rhAMo7kW",headerNoClose:"rhAMo7kW",title:"ZDSNp0nr",header_wideContent:"_ijqgHQC",headerWideContent:"_ijqgHQC",header_back:"F2CCACcS",headerBack:"F2CCACcS",header_backIcon:"IubryJoO",headerBackIcon:"IubryJoO",closeButton:"Oj6lWSUo",closeIcon:"VPuUZtvp",singleTitle:"Sv8Bhg5M",contentCompact:"ulAHEr0t",text:"FumpDc7T",text_centered:"PRVdJNuh",textCentered:"PRVdJNuh",text_noExtraMargin:"JNEqsMcb",textNoExtraMargin:"JNEqsMcb",buttons:"PWLeFX8Z",footerButtons:"fXtMQ4nZ",footerButtonFullWidth:"KMr7BHAz",buttonsInsideContentWithScroll:"SCBITBKB",buttonsNoExtraSpace:"vyEjC2QK",button:"pvjzjt3q",buttonHalfWidth:"EhlEYVbZ",buttonFullWidth:"zRgM4gqF",shortButton:"QFWfMoly",transition:"ELmioinr",transitionSlide:"OXFBF6TX",transitionContentWrapper:"N1r_Lya9",transitionContent:"W4ZdBtyi",transitionContent_simple:"qGdeWGzL",transitionContentSimple:"qGdeWGzL"},zc=350,qc=t.Ni?200:500,[Kc,jc]=E(Date.now()),Yc=(Gc=function(n){let{dialogRef:a,title:o,className:r,dialogClassName:i,titleClassName:s,contentClassName:l,isOpen:d,isCompact:u,nativeBottomSheetKey:m,forceFullNative:p,forceBottomSheet:f,noResetFullNativeOnBlur:h,noBackdrop:g,noBackdropClose:v,header:w,hasCloseButton:y,children:b,onClose:E,onCloseAnimationEnd:k,onEnter:C}=n;const N=vs(),S=me(null),A=me(null),T=me(null);a||(a=A);const{isPortrait:I}=po();!function(n,a){_l((()=>{if(!e.UMQ||t.bA||a)return;const o=_s();o&&n&&o&&o.hide().then((async()=>{t.KI&&await ms.enable()}))}),[a,n])}(d,u);const B=(I?qc:zc)+e.xB5,x=!u&&I;Ql({isActive:d,onBack:E,shouldIgnoreForTelegram:u}),le((()=>{if(e.tKX&&d&&!u)return Na(),Sa}),[u,d]),vl((e=>{let[n]=e;t.bA&&u&&(n||d)&&!Cl&&ms.toggleSelfFullSize({isFullSize:!!d})}),[d,u]),le((()=>{if(!t.bA&&d)return Kc.subscribe(E)}),[d,E]),le((()=>d?Qs({onEsc:{handler:E,shouldPreventDefault:e.hL1},...C&&{onEnter:C}}):void 0),[d,E,C]),le((()=>d&&S.current?nl(S.current):void 0),[d]),ce((()=>d?_(B):void 0),[B,d]);const[L,D]=ie(!1);le((()=>{if(!d)return void D(!1);const e=_s();null==e||e.hide().then((()=>{D(!0)}))}),[d]);const O=function(e,n,a,o){const r=t.KI&&e,i=a&&n;return vl((t=>{let[n]=t;if(r)if(i){var a;null===(a=Tl)||void 0===a||a();const t=()=>{De(),o()};Tl=t,Il=Promise.race([Il,(0,c.v7)(1e3)]).then((()=>ms.delegate({key:e,globalJson:JSON.stringify(Me())}))).then((()=>{Tl===t&&(Tl(),Tl=void 0)})).then((()=>(0,c.v7)(100)))}else n&&ms.release({key:e})}),[i,r,e,o]),r&&n}(m,I,d&&(!_s()||L),E);(function(e,n,a,o){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];vl((r=>{let[i]=r;if(t.bA&&e&&e===kl)if(n){const t=o.current;ms.openSelf({key:e,height:String(t.offsetHeight),backgroundColor:al(getComputedStyle(t).backgroundColor)}).then((()=>{De(),a()}))}else i&&(ms.closeSelf({key:e}),hl({forceDarkBackground:!1}))}),[n,o,e,a]);const s=t.bA&&e&&n,{screenHeight:l}=po(),[c,d]=ie(bl);El.then(d);const u=l-((null==c?void 0:c.top)||0);ce((()=>{s&&(o.current.style[r?"maxHeight":"height"]="",o.current.style[r?"height":"maxHeight"]=`${u}px`)}),[o,r,s,u]),vl((e=>{let[t]=e;s&&(Cl=r,void 0!==r&&void 0===t||ms.toggleSelfFullSize({isFullSize:r}))}),[r,s]),ce((()=>{if(!s)return;const e=o.current;let t;function n(n){if(Sl(n.target)){if(t)return clearTimeout(t),void(t=void 0);var a;(a=e).style.opacity="0",setTimeout((()=>{a.style.opacity="1"})),document.documentElement.scrollTop=0,ms.toggleSelfFullSize({isFullSize:!0})}}function a(e){var n;!Sl(e.target)||i||r||(n=e.target)&&n instanceof HTMLElement&&(n.matches(".is-compact-modal")||n.closest(".is-compact-modal"))||(t=window.setTimeout((()=>{t=void 0,ms.toggleSelfFullSize({isFullSize:!1})}),50))}return document.addEventListener("focusin",n),document.addEventListener("focusout",a),()=>{document.removeEventListener("focusout",a),document.removeEventListener("focusin",n)}}),[o,r,s,i])})(m,d&&(!_s()||L),E,a,p,h),le((()=>{if(t.TF&&d&&I&&x&&!t.bA&&!O)return js(S.current,{excludedClosestSelector:".capture-scroll",onSwipe:(e,t)=>!(t!==$s.Down||!function(e,t){if(ta>aa.height||Zs>0)return!1;const n=Date.now();if(e.current&&n-e.current<500)return!1;e.current=n;const a=null==t?void 0:t.closest(".custom-scroll");return!a||0===a.scrollTop}(T,e.target)||(E(),0))})}),[d,I,x,O,E]);const{shouldRender:P,transitionClassNames:F}=ws(d&&!O,k,void 0,!1,void 0,B);if(!P)return;const R=ps(Vc.modal,r,F,x&&Vc.slideUpAnimation,u&&Vc.compact,u&&"is-compact-modal",f&&Vc.forceBottomSheet),M=ps(Vc.backdrop,g&&Vc.noBackdrop),U=ps(Vc.content,u&&Vc.contentCompact,"custom-scroll",l);return he.createElement($c,null,he.createElement("div",{ref:S,className:R,tabIndex:-1,role:"dialog"},he.createElement("div",{className:Vc.container},he.createElement("div",{className:M,onClick:v?void 0:E}),he.createElement("div",{className:ps(Vc.dialog,i),ref:a},w||(o?he.createElement("div",{className:ps(Vc.header,Vc.header_wideContent,!y&&Vc.header_noClose)},he.createElement("div",{className:ps(Vc.title,Vc.singleTitle,s)},o),y&&he.createElement(ec,{isRound:!0,className:Vc.closeButton,ariaLabel:N("Close"),onClick:E},he.createElement("i",{className:ps(Vc.closeIcon,"icon-close"),"aria-hidden":!0}))):void 0),he.createElement("div",{className:U},b)))))},function(e){const t=me(e);return e.isOpen?t.current=e:t.current={...t.current,isOpen:!1},Gc(t.current)});var Gc;function Qc(e){return Jc(e)?function(e){var t;const n=Zc(e),a={isGasless:!0,excessFee:ed(e),shouldShowOurFee:nd(e)};if(void 0===e.networkFee||void 0===e.dieselFee||void 0===n)return a;const o="0"===a.excessFee,r="stars-fee"===e.dieselStatus?"stars":"token",i={[r]:e.dieselFee,native:n.toString()};if(a.fullFee={precision:o?"exact":"lessThan",terms:td(i,null!==(t=e.ourFee)&&void 0!==t?t:"0",!1),networkTerms:i},a.realFee=a.fullFee,void 0!==e.realNetworkFee){var s;const t=(0,yt.z)(e.networkFee).sub(n),i=(0,yt.z)(e.dieselFee).div(t).mul(e.realNetworkFee),d=(l=e.dieselFee,c=i,(0,yt.z)(l).lt(c)?l:c),u=function(e,t){return(0,yt.z)(0).gt(t)?0:t}(0,(0,yt.z)(e.realNetworkFee).sub(t)),m={[r]:d.toString(),native:u.toString()};a.realFee={precision:o?"exact":"approximate",terms:td(m,null!==(s=e.ourFee)&&void 0!==s?s:"0",!1),networkTerms:m}}var l,c;return a}(e):function(e){const t={isGasless:!1,excessFee:ed(e),shouldShowOurFee:nd(e)},n=bn(e.tokenInSlug),a="0"===t.excessFee;if(void 0!==e.networkFee){var o;const r={native:e.networkFee};t.fullFee={precision:a?"exact":"lessThan",terms:td(r,null!==(o=e.ourFee)&&void 0!==o?o:"0",n),networkTerms:r},t.realFee=t.fullFee}if(void 0!==e.realNetworkFee){var r;const o={native:e.realNetworkFee};t.realFee={precision:a?"exact":"approximate",terms:td(o,null!==(r=e.ourFee)&&void 0!==r?r:"0",n),networkTerms:o}}return t}(e)}function Xc(t){var n;let{swapType:a,tokenInBalance:o,tokenIn:r,fullNetworkFee:i,ourFeePercent:s}=t;if(a===rn.CrosschainToWallet||void 0===o)return;let l=o;if(i){var c,d;if(!r)return;l-=(0,wt.UH)(null!==(c=i.token)&&void 0!==c?c:"0",r.decimals),bn(r.slug)&&(l-=(0,wt.UH)(null!==(d=i.native)&&void 0!==d?d:"0",r.decimals))}return null!==(n=s)&&void 0!==n||(s=a===rn.OnChain?e.YDh:0),l=(0,Dn.fC)(l,1+s/100),(0,Dn._O)(l,0n)}function Jc(e){const t=bn(e.tokenInSlug),n=Zc(e),a=void 0!==e.networkFee&&void 0!==n&&n.lt(e.networkFee);return e.swapType===rn.OnChain&&a&&!t&&Boolean(e.dieselStatus)&&"not-available"!==e.dieselStatus}function Zc(e){var t;if(!e.tokenInSlug||void 0===e.nativeTokenInBalance)return;const n=null===(t=wn(Cn(e.tokenInSlug)))||void 0===t?void 0:t.nativeToken;return n?(0,wt.CF)(e.nativeTokenInBalance,n.decimals):void 0}function ed(e){let{networkFee:t,realNetworkFee:n}=e;return void 0!==t&&void 0!==n?(0,yt.z)(t).sub(n).toString():void 0}function td(e,t,n){var a,o;return{...e,native:n?(0,yt.z)(null!==(a=e.native)&&void 0!==a?a:"0").add(t).toString():e.native,token:n?e.token:(0,yt.z)(null!==(o=e.token)&&void 0!==o?o:"0").add(t).toString()}}function nd(e){return e.swapType===rn.OnChain}We("submitDappConnectRequestConfirm",(async(a,o,r)=>{let{password:i,accountId:s}=r;const{promiseId:l,permissions:d}=a.dappConnectRequest;if(null!=d&&d.isPasswordRequired&&(!i||!await(0,n.p)("verifyPassword",i)))return a=Wi(a=Me(),{error:"Wrong password, please try again."}),void Ue(a);Qo()&&(a=ci(a=Me()),Ue(a)),t.bA?ni("submitDappConnectRequestConfirm",{password:i,accountId:s}):(ar(),o.switchAccount({accountId:s}),await(0,n.p)("confirmDappRequestConnect",l,{accountId:s,password:i}),a=Me(),e.UMQ&&(a=di(a)),a=$i(a),Ue(a),await(0,c.v7)(250),o.getDapps())})),We("submitDappConnectRequestConfirmHardware",(async(e,n,a)=>{let{accountId:o}=a;const{proof:r}=e.dappConnectRequest;e=Wi(e=Me(),{error:void 0,state:sn.ConfirmHardware}),Ue(e);const s=await Promise.all([i.e(494),i.e(612),i.e(776),i.e(432)]).then(i.bind(i,95683));try{const e=await s.signLedgerProof(o,r);if(t.bA)return void ni("submitDappConnectHardware",{accountId:o,signature:e});n.submitDappConnectHardware({accountId:o,signature:e})}catch(e){Ue(Wi(Me(),{error:"Canceled by the user"}))}})),We("submitDappConnectHardware",(async(e,t,a)=>{let{accountId:o,signature:r}=a;const{promiseId:i}=e.dappConnectRequest;t.switchAccount({accountId:o}),await(0,n.p)("confirmDappRequestConnect",i,{accountId:o,signature:r}),e=$i(e=Me()),Ue(e),await(0,c.v7)(250),t.getDapps()})),We("cancelDappConnectRequestConfirm",(e=>{const{promiseId:a}=e.dappConnectRequest||{};a&&(t.bA?ni("cancelDappConnectRequestConfirm"):(0,n.p)("cancelDappRequest",a,"Canceled by the user"),Qo()&&(e=di(e)),e=$i(e),Ue(e))})),We("setDappConnectRequestState",((e,t,n)=>{let{state:a}=n;Ue(Wi(e,{state:a}))})),We("cancelDappTransfer",(e=>{const{promiseId:a}=e.currentDappTransfer;t.bA?ni("cancelDappTransfer"):a&&(0,n.p)("cancelDappRequest",a,"Canceled by the user"),Qo()&&(e=di(e)),e=zi(e),Ue(e)})),We("closeDappTransfer",(e=>{e=Vi(e,{state:tn.None}),Ue(e)})),We("submitDappTransferPassword",(async(a,o,r)=>{let{password:i}=r;const{promiseId:s}=a.currentDappTransfer;if(s){if(!await(0,n.p)("verifyPassword",i))return a=Vi(a=Me(),{error:"Wrong password, please try again."}),void Ue(a);Qo()&&(a=ci(a=Me()),Ue(a)),t.bA?ni("submitDappTransferPassword",{password:i}):(a=Vi(a=Me(),{isLoading:!0,error:void 0}),Ue(a),await ar(!0),(0,n.p)("confirmDappRequest",s,i),a=Me(),e.UMQ&&(a=di(a)),a=zi(a),Ue(a))}})),We("submitDappTransferHardware",(async(e,a)=>{const{promiseId:o,transactions:r,vestingAddress:s}=e.currentDappTransfer;if(!o)return;e=Vi(e=Me(),{isLoading:!0,error:void 0,state:tn.ConfirmHardware}),Ue(e);const l=e.currentAccountId,c=await Promise.all([i.e(494),i.e(612),i.e(776),i.e(432)]).then(i.bind(i,95683));try{const e=await c.signLedgerTransactions(l,r,{isTonConnect:!0,vestingAddress:s});if(t.bA)return void ni("submitDappTransferHardware2",{signedMessages:e});a.submitDappTransferHardware2({signedMessages:e})}catch(t){if(t instanceof us.bS)return void Ue(Vi(Me(),{isLoading:!1,error:"$hardware_blind_sign_not_enabled"}));if(t instanceof us.cp)a.showError({error:"$ledger_unsupported_ton_connect"}),(0,n.p)("cancelDappRequest",o,t.message);else{if(t instanceof us.KB)return void Ue(Vi(Me(),{isLoading:!1,error:"Canceled by the user"}));(0,n.p)("cancelDappRequest",o,"Unknown error.")}e=zi(e=Me()),Ue(e)}})),We("submitDappTransferHardware2",((e,t,a)=>{let{signedMessages:o}=a;const{promiseId:r}=e.currentDappTransfer;r&&((0,n.p)("confirmDappRequest",r,o),e=zi(e=Me()),Ue(e))})),We("getDapps",(async(e,t)=>{const{currentAccountId:a}=e;let o=await(0,n.p)("getDapps",a);if(!o)return;const r=o.find((e=>{let{origin:t}=e;return!t}));r&&(t.deleteDapp({origin:r.origin}),o=o.filter((e=>{let{origin:t}=e;return t}))),e=function(e,t){return fi(e,{dapps:t})}(e=Me(),o),Ue(e)})),We("deleteAllDapps",(e=>{const{currentAccountId:t}=e;(0,n.p)("deleteAllDapps",t),e=function(e){return fi(e,{dapps:void 0,dappLastOpenedDatesByOrigin:void 0})}(e=Me()),Ue(e)})),We("deleteDapp",((e,a,o)=>{let{origin:r}=o;const{currentAccountId:i}=e;t.bA?ni("deleteDapp",{origin:r}):(0,n.p)("deleteDapp",i,r),e=function(e,t){const{dapps:n,dappLastOpenedDatesByOrigin:a}=Ze(e)||{};return a&&delete a[t],fi(e,{dapps:n.filter((e=>e.origin!==t)),dappLastOpenedDatesByOrigin:a})}(e=Me(),r),Ue(e)})),We("apiUpdateDappConnect",(async(e,n,a)=>{let{accountId:o,dapp:r,permissions:i,promiseId:s,proof:l}=a;if(t.bA){if(!await(0,c.fm)((()=>Boolean(Me().dappConnectRequest)),300,5))return;e=Me()}e=Wi(e,{state:sn.Info,promiseId:s,accountId:o,dapp:r,permissions:{isAddressRequired:i.address,isPasswordRequired:i.proof},proof:l}),Ue(e),n.addSiteToBrowserHistory({url:r.url})})),We("apiUpdateDappSendTransaction",(async(a,o,r)=>{let{promiseId:i,transactions:s,accountId:l,dapp:d,vestingAddress:u}=r;const{currentAccountId:m,currentDappTransfer:{promiseId:p}}=a;if(m!==l){const e=Xt(a,l);await(0,n.p)("activateAccount",l,e),a=Me(),Ue(Ei(a,l))}if(p&&!t.bA){o.closeDappTransfer();const t=fo()?qc:zc;await(0,c.v7)(t+e.xB5)}if(t.bA){if(!await(0,c.fm)((()=>Me().currentDappTransfer.state!==tn.None),300,5))return;a=Me()}const f=ot(a)&&s.length>1?tn.WarningHardware:tn.Initial;a=Vi(a=zi(a=Me()),{state:f,promiseId:i,transactions:s,dapp:d,vestingAddress:u}),Ue(a)})),We("apiUpdateDappLoading",(async(e,n,a)=>{let{connectionType:o,isSse:r,accountId:i}=a;if(t.bA){if(!await(0,c.fm)((()=>(e=Me(),"connect"===o&&!!e.dappConnectRequest||"sendTransaction"===o&&e.currentDappTransfer.state!==tn.None)),300,5))return;e=Me()}!t.bA&&i&&i!==e.currentAccountId&&n.switchAccount({accountId:i}),"connect"===o?e=Wi(e,{state:sn.Info,isSse:r}):"sendTransaction"===o&&(e=Vi(e,{state:tn.Initial,isSse:r})),Ue(e)})),We("apiUpdateDappCloseLoading",(async e=>{var n;if(t.bA){if(!await(0,c.fm)((()=>(e=Me(),Boolean(e.dappConnectRequest)||e.currentDappTransfer.state!==tn.None)),300,5))return;e=Me()}(null===(n=e.dappConnectRequest)||void 0===n?void 0:n.state)===sn.Info?e=$i(e):e.currentDappTransfer.state===tn.Initial&&(e=zi(e)),Ue(e)})),We("loadExploreSites",(async(e,t,a)=>{let{isLandscape:o}=a;const r=await(0,n.p)("loadExploreSites",{isLandscape:o});ri(r,(e=Me()).exploreData)||(e={...e,exploreData:r},Ue(e))}));let ad={};const od={"Insufficient liquidity":on.NotEnoughLiquidity,"Tokens must be different":on.InvalidPair,"Asset not found":on.InvalidPair,"Pair not found":on.InvalidPair,"Too small amount":on.TooSmallAmount};function rd(e){var t;const{currentDexLabel:n,amountIn:a,amountOut:o,amountOutMin:r,slippage:i,networkFee:s,swapFee:l,ourFee:c,dieselFee:d,realNetworkFee:u}=e.currentSwap,m=_n(e),p=xn(e),f=as(m),h=as(p),g=a,v=o,w=Je(e,e.currentAccountId),y=null===(t=wn(Cn(m.slug)))||void 0===t?void 0:t.nativeToken,b=y?Ct(e,y.slug):void 0,E=Ln(e);return{from:f,to:h,fromAmount:g,toAmount:v,toMinAmount:r,slippage:i,fromAddress:(null==w?void 0:w.addressByChain[m.chain])||(null==w?void 0:w.addressByChain.ton),shouldTryDiesel:Jc({...e.currentSwap,swapType:E,nativeTokenInBalance:b}),dexLabel:n,networkFee:null!=u?u:s,swapFee:l,ourFee:c,dieselFee:d}}We("startSwap",(async(e,n,a)=>{const o=e.currentSwap.state!==nn.None;if(t.KI&&o&&(ai("cancelSwap"),await(0,c.v7)(100),e=Me()),t.bA)return void ni("startSwap",a);const{state:r}=null!=a?a:{},i=fo(),s=r||(i?nn.Initial:nn.None);e=Ti(e,{...a,state:s,swapId:(0,ve.A)(),inputSource:an.In}),Ue(e),i||n.setLandscapeActionsActiveTabIndex({index:pn.Swap})})),We("setDefaultSwapParams",((t,n,a)=>{let{tokenInSlug:o,tokenOutSlug:r}=null!=a?a:{};const{withResetAmount:i}=null!=a?a:{};o=o||e.Hfd,r=r||e.rKC,(t.currentSwap.tokenInSlug!==o||t.currentSwap.tokenOutSlug!==r||i)&&(t=Ti(t,{tokenInSlug:o,tokenOutSlug:r,inputSource:an.In,...i?{amountIn:void 0,amountOut:void 0}:void 0}),Ue(t))})),We("cancelSwap",(function(e,t){let{shouldReset:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(n){const{tokenInSlug:t,tokenOutSlug:n,pairs:a}=e.currentSwap;return e=Ti(e=Ii(e),{tokenInSlug:t,tokenOutSlug:n,amountIn:void 0,amountOut:void 0,inputSource:an.In,pairs:a}),void Ue(e)}Qo()&&(e=di(e)),e=Ti(e,{state:nn.None,swapId:void 0}),Ue(e)})),We("submitSwap",(async(e,t,a)=>{var o;let{password:r}=a;if(!await(0,n.p)("verifyPassword",r))return void Ue(Ti(Me(),{error:"Wrong password, please try again."}));e=Me(),Qo()&&(e=ci(e)),e=Ti(e,{isLoading:!0,shouldResetOnClose:void 0,error:void 0}),Ue(e),await ar(!0);const i=rd(e),s=await(0,n.p)("swapBuildTransfer",e.currentAccountId,r,i);if(e=Me(),!s||"error"in s)return Qo()&&(e=di(e)),nr(),e=Ti(e,{shouldResetOnClose:!0,isLoading:!1}),Ue(e),void t.showError({error:null==s?void 0:s.error});const l={id:s.id,timestamp:Date.now(),status:"pending",from:i.from,fromAmount:i.fromAmount,to:i.to,toAmount:i.toAmount,networkFee:null!==(o=e.currentSwap.realNetworkFee)&&void 0!==o?o:e.currentSwap.networkFee,swapFee:e.currentSwap.swapFee,ourFee:e.currentSwap.ourFee,hashes:[]};e=Ti(e,{tokenInSlug:void 0,tokenOutSlug:void 0,amountIn:void 0,amountOut:void 0,isLoading:!1,state:nn.Complete,shouldResetOnClose:!0}),Ue(e),ar();const c=await(0,n.p)("swapSubmit",e.currentAccountId,r,s.transfers,l,i.shouldTryDiesel);var d;!c||"error"in c?(e=Ti(e=Me(),{shouldResetOnClose:!0}),Qo()&&(e=di(e)),Ue(e),nr(),t.showError({error:null==c?void 0:c.error})):(e=Ti(e=Me(),{activityId:(d=c.msgHash,Vt(d,undefined,"local"))}),Ue(e))})),We("submitSwapCex",(async(e,t,a)=>{var o;let{password:r}=a;if(!await(0,n.p)("verifyPassword",r))return void Ue(Ti(Me(),{error:"Wrong password, please try again."}));e=Ti(e=Me(),{isLoading:!0,error:void 0,shouldResetOnClose:void 0}),Qo()&&(e=ci(e)),Ue(e),await ar(!0);const i=ut(e=Me(),e.currentAccountId),l=Xe(e),d=function(e){var t;return Object.keys((null===(t=Je(e,e.currentAccountId))||void 0===t?void 0:t.addressByChain)||{ton:!0})}(e),u=e.swapTokenInfo.bySlug[e.currentSwap.tokenInSlug],m=e.swapTokenInfo.bySlug[e.currentSwap.tokenOutSlug],p="ton"===u.chain,f=i&&"tron"===u.chain,h=p||f,g=i?d.includes(u.chain):"ton"===u.chain,v=l.addressByChain.ton,w=null!==(o=null==l?void 0:l.addressByChain[m.chain])&&void 0!==o?o:e.currentSwap.toAddress,y=rd(e),b={...(0,s.Up)(y,["from","fromAmount","to","swapFee","networkFee"]),fromAddress:v,toAddress:w},E=await(0,n.p)("swapCexCreateTransaction",e.currentAccountId,r,b);if(e=Me(),!E)return e=Ti(e,{isLoading:!1,shouldResetOnClose:!0}),Qo()&&(e=di(e)),nr(),Ue(e),void t.showError({error:Gn.QD.Unexpected});if(e=Ti(e,{isLoading:!1,state:g?nn.Complete:nn.WaitTokens,activityId:E.activity.id,payinAddress:E.swap.cex.payinAddress,payoutAddress:E.swap.cex.payoutAddress,payinExtraId:E.swap.cex.payinExtraId,shouldResetOnClose:!0}),Ue(e),ar(),h){const a={password:r,accountId:(e=Me()).currentAccountId,fee:(0,wt.UH)(E.swap.networkFee,u.decimals),amount:(0,wt.UH)(E.swap.fromAmount,u.decimals),toAddress:E.swap.cex.payinAddress,tokenAddress:i?u.tokenAddress:void 0};let o;var k;await(0,c.v7)(5e3),p?o=await(0,n.p)("swapCexSubmit","ton",a,E.swap.id):f&&(o=await(0,n.p)("swapCexSubmit","tron",a,E.swap.id)),(!o||"error"in o)&&(e=Ti(e=Me(),{shouldResetOnClose:!0}),Qo()&&(e=di(e)),Ue(e),nr(),t.showError({error:null===(k=o)||void 0===k?void 0:k.error}))}})),We("switchSwapTokens",(e=>{const{tokenInSlug:t,tokenOutSlug:n,amountIn:a,amountOut:o}=e.currentSwap;e=Ti(e,{isMaxAmount:!1,amountIn:o,amountOut:a,tokenInSlug:n,tokenOutSlug:t,inputSource:an.In}),Ue(e)})),We("setSwapTokenIn",((e,t,n)=>{let{tokenSlug:a}=n;const{amountIn:o,amountOut:r,tokenInSlug:i,tokenOutSlug:s}=e.currentSwap,l=e.swapTokenInfo.bySlug[a],c=o?(0,wt.QQ)(o,l.decimals):o,d=a===s?i:s,u=d?e.swapTokenInfo.bySlug[d]:void 0,m=r&&u?(0,wt.QQ)(r,u.decimals):r;e=Ti(e,{amountIn:"0"===c?void 0:c,amountOut:"0"===m?void 0:m,tokenInSlug:a,tokenOutSlug:d}),Ue(e)})),We("setSwapTokenOut",((e,t,n)=>{let{tokenSlug:a}=n;const{amountIn:o,amountOut:r,tokenInSlug:i,tokenOutSlug:s}=e.currentSwap,l=e.swapTokenInfo.bySlug[a],c=r?(0,wt.QQ)(r,l.decimals):r,d=a===i?s:i,u=d?e.swapTokenInfo.bySlug[d]:void 0,m=o&&u?(0,wt.QQ)(o,u.decimals):o;e=Ti(e,{amountOut:"0"===c?void 0:c,amountIn:"0"===m?void 0:m,tokenOutSlug:a,tokenInSlug:d}),Ue(e)})),We("setSwapAmountIn",((e,t,n)=>{let{amount:a,isMaxAmount:o=!1}=n;e=Ti(e,{amountIn:a,isMaxAmount:o,inputSource:an.In}),Ue(e)})),We("setSwapAmountOut",((e,t,n)=>{let{amount:a}=n;e=Ti(e,{amountOut:a,isMaxAmount:!1,inputSource:an.Out}),Ue(e)})),We("setSlippage",((e,t,n)=>{let{slippage:a}=n;return Ti(e,{slippage:a})})),We("estimateSwap",(async()=>{await async function(){const t=Me();if(!ki(t)&&!id)try{id=!0;const a=Ci.bind(void 0,t),o=await((t,a)=>{var o,r;if(!Ni(t))return Si(t);const i=null!==(o=null===(r=t.currentSwap.pairs)||void 0===r?void 0:r.bySlug)&&void 0!==o?o:{};return t.currentSwap.tokenOutSlug in i?Ln(t)===rn.OnChain?async function(t){var a,o;const r=t.swapTokenInfo.bySlug[t.currentSwap.tokenInSlug],i=t.swapTokenInfo.bySlug[t.currentSwap.tokenOutSlug],l=vn(Cn(r.slug)).nativeToken,c=r.slug===e.Tu9.slug?r.symbol:r.tokenAddress,d=i.slug===e.Tu9.slug?i.symbol:i.tokenAddress,{fromAmount:u,isFromAmountMax:m}=function(e){var t;const n=_n(e);let a=null!==(t=e.currentSwap.amountIn)&&void 0!==t?t:"0",o=!1;if(e.currentSwap.amountIn&&Ln(e)===rn.OnChain&&e.currentSwap.inputSource===an.In&&e.currentSwap.isMaxAmount){const t=Ct(e,n.slug);a=(0,wt.nI)(t,n.decimals),o=!0}return{fromAmount:a,isFromAmountMax:o}}(t),p=null!==(a=t.currentSwap.amountOut)&&void 0!==a?a:"0",f=Xe(t).addressByChain.ton,h=t.currentSwap.inputSource===an.In?{fromAmount:u}:{toAmount:p},g=Nt(t),v=g<(0,wt.UH)(null!==(o=t.currentSwap.networkFee)&&void 0!==o?o:"0",l.decimals),w=await(0,n.p)("swapEstimate",t.currentAccountId,{...h,from:c,to:d,slippage:t.currentSwap.slippage,fromAddress:f,shouldTryDiesel:v,isFromAmountMax:m,toncoinBalance:(0,wt.nI)(null!=g?g:0n,e.Tu9.decimals)});if(t=Me(),!w||"error"in w){var y;const e=null!==(y=od[null==w?void 0:w.error])&&void 0!==y?y:on.UnexpectedError;return{...Si(t),errorType:e}}const b="0"===w.toAmount&&v?on.NotEnoughForFee:void 0,E=function(e){var t;return[{...(0,s.Up)(e,["fromAmount","toAmount","toMinAmount","impact","dexLabel","networkFee","realNetworkFee","swapFee","swapFeePercent","ourFee","dieselFee","networkFee"])},...null!==(t=e.other)&&void 0!==t?t:[]].sort(((e,t)=>e.dexLabel.localeCompare(t.dexLabel)))}(w),k=function(e,t,n){var a,o;if(0===t.length)throw new Error("Unexpected empty `newEstimates` array");const{tokenInSlug:r,currentDexLabel:i,isDexLabelChanged:s}=e.currentSwap;if(i&&s){const e=t.find((e=>{let{dexLabel:t}=e;return t===i}));if(e)return e}const l=r?e.swapTokenInfo.bySlug[r]:void 0,c=r?Ct(e,r):void 0,d=r?null===(a=wn(Cn(r)))||void 0===a?void 0:a.nativeToken:void 0,u=d&&Ct(e,d.slug);let m=t.filter((e=>function(e){var t;if(!e.tokenIn||void 0===e.nativeTokenInBalance)return;const n=null===(t=wn(Cn(e.tokenIn.slug)))||void 0===t?void 0:t.nativeToken;if(!n)return;const a=(0,wt.UH)(e.variant.networkFee,n.decimals);if(e.nativeTokenInBalance>=a)return!0;if(e.variant.dieselFee){if(void 0===e.tokenInBalance)return;const t=(0,wt.UH)(e.variant.dieselFee,e.tokenIn.decimals);if(e.tokenInBalance>=t)return!0}return!1}({variant:e,tokenIn:l,tokenInBalance:c,nativeTokenInBalance:u})));return 0===m.length&&(m=t),null!==(o=m.find((e=>{let{dexLabel:t}=e;return t===n})))&&void 0!==o?o:m[0]}(t,E,w.dexLabel);return{...Si(t),...t.currentSwap.inputSource===an.In?{amountOut:k.toAmount}:{amountIn:k.fromAmount},...m?{amountIn:k.fromAmount}:void 0,bestRateDexLabel:w.dexLabel,amountOutMin:k.toMinAmount,priceImpact:k.impact,errorType:b,dieselStatus:w.dieselStatus,estimates:E,currentDexLabel:k.dexLabel,networkFee:k.networkFee,realNetworkFee:k.realNetworkFee,swapFee:k.swapFee,swapFeePercent:k.swapFeePercent,ourFee:k.ourFee,ourFeePercent:w.ourFeePercent,dieselFee:k.dieselFee}}(t):async function(t,a){var o,r;const i=t.swapTokenInfo.bySlug[t.currentSwap.tokenInSlug],s=t.swapTokenInfo.bySlug[t.currentSwap.tokenOutSlug],l=as(i),c=as(s),d=null!==(o=t.currentSwap.amountIn)&&void 0!==o?o:"0",u=Ln(t),m=await(0,n.p)("swapCexEstimate",{fromAmount:d,from:l,to:c});if(a())return;if(t=Me(),!m)return{...Si(t),errorType:window.navigator.onLine?on.InvalidPair:on.UnexpectedError};if("error"in m){const{error:e}=m;return e.includes("requests limit")?"rateLimited":{...Si(t),errorType:on.UnexpectedError}}const p=null===(r=t.accounts)||void 0===r?void 0:r.byId[t.currentAccountId];let f,h;if(u===rn.CrosschainFromWallet){if("ton"!==i.chain&&"tron"!==i.chain)throw new Error(`Unexpected chain ${i.chain}`);const a={ton:null==p?void 0:p.addressByChain.ton,tron:e.jt9}[i.chain],o=await(0,n.p)("checkTransactionDraft",i.chain,{accountId:t.currentAccountId,toAddress:a,tokenAddress:i.tokenAddress});o&&({networkFee:f,realNetworkFee:h}=function(e,t){const n=kn(t);let a,o;return void 0!==(null==e?void 0:e.fee)&&(a=(0,wt.nI)(e.fee,n.decimals)),void 0!==(null==e?void 0:e.realFee)&&(o=(0,wt.nI)(e.realFee,n.decimals)),{networkFee:a,realNetworkFee:o}}(o,i.chain))}return{...Si(t),amountOut:"0"===m.toAmount?void 0:m.toAmount,limits:{fromMin:m.fromMin,fromMax:m.fromMax},swapFee:m.swapFee,networkFee:f,realNetworkFee:h,ourFee:"0",ourFeePercent:0,dieselStatus:"not-available",amountOutMin:m.toAmount,errorType:(0,yt.z)(d).lt(m.fromMin)?on.ChangellyMinSwap:(0,yt.z)(d).gt(m.fromMax)?on.ChangellyMaxSwap:void 0}}(t,a):{...Si(t),errorType:on.InvalidPair}})(t,(()=>{const e=Me();return ki(e)||!a(e)})),r=Me();if(!a(r))return;if("rateLimited"===o)return;Ue(Ti(r,{isEstimating:!1,...ki(r)?void 0:o}))}finally{id=!1}}()})),We("setSwapScreen",((e,t,n)=>{let{state:a}=n;a===nn.Initial&&(e=Ti(e,{swapId:(0,ve.A)()})),e=Ti(e,{state:a}),Ue(e)})),We("clearSwapError",(e=>{e=Ti(e,{error:void 0}),Ue(e)})),We("loadSwapPairs",(async(t,a,o)=>{var r,i;let{tokenSlug:s,shouldForceUpdate:l}=o;const c=null===(r=t.swapTokenInfo)||void 0===r?void 0:r.bySlug[s];if(!c)return;const d=as(c),u=ad[s];if(u&&Date.now()-u.timestamp<=9e5&&!l)return;const m=await(0,n.p)("swapGetPairs",d);var p;if(t=Me(),!m)return t=Ti(t,{pairs:{bySlug:{...null===(p=t.currentSwap.pairs)||void 0===p?void 0:p.bySlug,[s]:{}}}}),void Ue(t);const f="ton"===c.chain,h=m.reduce(((t,n)=>{const a=En(n.slug,!0),o=Number(f)+(a?1:0),r=!(2===o||1===o&&[c.slug,n.slug].includes(e.Tu9.slug));return t[n.slug]={...r&&{isMultichain:r},...n.isReverseProhibited&&{isReverseProhibited:n.isReverseProhibited}},t}),{});ad[s]={data:m,timestamp:Date.now()},t=Ti(t,{pairs:{bySlug:{...null===(i=t.currentSwap.pairs)||void 0===i?void 0:i.bySlug,[s]:h}}}),Ue(t)})),We("setSwapCexAddress",((e,t,n)=>{let{toAddress:a}=n;e=Ti(e,{toAddress:a}),Ue(e)})),We("clearSwapPairsCache",(()=>{ad={}})),We("updatePendingSwaps",(async e=>{var t,a;const o=e.currentAccountId;if(!o)return;let{activities:r}=null!==(t=et(e,o))&&void 0!==t?t:{};if(!r)return;const i=Object.values(r.byId).filter((e=>Boolean("swap"===e.kind&&"pending"===e.status&&e.cex))).map((e=>{let{id:t}=e;return Wt(t).hash}));if(!i.length)return;const l=await(0,n.p)("fetchSwaps",o,i);if(null==l||!l.swaps.length)return;const{swaps:c,nonExistentIds:d}=l;if((e=Me()).currentAccountId!==o)return;({activities:r}=null!==(a=et(e,o))&&void 0!==a?a:{});for(const e of l.swaps)e.isCanceled&&(e.shouldHide=!0);const u={};for(const e of d)u[e]={...r.byId[e],status:"expired",shouldHide:!0};e=hi(e,o,{activities:{...r,byId:{...r.byId,...u,...(0,s.dU)(c,"id")}}}),Ue(e)})),We("setSwapDex",((e,t,n)=>{let{dexLabel:a}=n;const{estimates:o,bestRateDexLabel:r}=e.currentSwap,i=(o||[]).find((e=>e.dexLabel===a));i&&(e=Ti(e,{amountIn:i.fromAmount,amountOut:i.toAmount,amountOutMin:i.toMinAmount,networkFee:i.networkFee,realNetworkFee:i.realNetworkFee,swapFee:i.swapFee,swapFeePercent:i.swapFeePercent,ourFee:i.ourFee,dieselFee:i.dieselFee,priceImpact:i.impact,currentDexLabel:a,isDexLabelChanged:a!==r||void 0},!0),Ue(e))}));let id=!1;We("loadPriceHistory",(async(e,t,a)=>{const{slug:o,period:r,currency:i=e.settings.baseCurrency}=null!=a?a:{},s=await(0,n.p)("fetchPriceHistory",o,r,i);s&&(e=function(e,t,n){const{bySlug:a}=e.tokenPriceHistory;return{...e,tokenPriceHistory:{bySlug:{...a,[t]:{...a[t],...n}}}}}(e=Me(),o,{[r]:s}),Ue(e))})),We("submitTransferInitial",(async(e,a,o)=>{if(t.KI)return void ai("submitTransferInitial",o);const{tokenSlug:r,toAddress:i,comment:s,shouldEncrypt:l,nfts:c,withDiesel:d,stateInit:u,isGaslessWithStars:m,binPayload:p}=o;let{amount:f}=o;Ue(Di(e,!0));const h=Boolean(null==c?void 0:c.length);let g;if(h)f=0n,g=await(0,n.p)("checkNftTransferDraft",{accountId:e.currentAccountId,nfts:c,toAddress:i,comment:s});else{const{tokenAddress:t,chain:a}=Tt(e,r);g=await(0,n.p)("checkTransactionDraft",a,{accountId:e.currentAccountId,tokenAddress:t,toAddress:i,amount:f,data:null!=p?p:s,shouldEncrypt:l,stateInit:u,isBase64Data:Boolean(p),allowGasless:!0})}var v,w;e=Di(e=Me(),!1),g&&(e=Bi(e,g)),g&&!("error"in g)?Ue(_i(e,{state:tn.Confirm,error:void 0,toAddress:i,resolvedAddress:g.resolvedAddress,amount:f,comment:s,shouldEncrypt:l,tokenSlug:r,isToNewAddress:g.isToAddressNew,withDiesel:d,isGaslessWithStars:m})):(Ue(e),(null===(v=g)||void 0===v?void 0:v.error)!==Gn.KL.InsufficientBalance||h?a.showError({error:null===(w=g)||void 0===w?void 0:w.error}):a.showDialog({message:"The network fee has slightly changed, try sending again."}))})),We("fetchTransferFee",(async(e,t,a)=>{var o;e=_i(e,{isLoading:!0,error:void 0}),Ue(e);const{tokenSlug:r,toAddress:i,comment:s,shouldEncrypt:l,binPayload:c,stateInit:d}=a,{tokenAddress:u,chain:m}=Tt(e,r),p=await(0,n.p)("checkTransactionDraft",m,{accountId:e.currentAccountId,toAddress:i,data:null!=c?c:s,tokenAddress:u,shouldEncrypt:l,isBase64Data:Boolean(c),stateInit:d,allowGasless:!0});r!==(e=Me()).currentTransfer.tokenSlug||null!==(o=e.currentTransfer.nfts)&&void 0!==o&&o.length||(e=_i(e,{isLoading:!1}),p&&(e=Bi(e,p)),Ue(e),null!=p&&p.error&&p.error!==Gn.KL.InsufficientBalance&&t.showError({error:p.error}))})),We("fetchNftFee",(async(e,t,a)=>{var o;const{toAddress:r,nfts:i,comment:s}=a;e=_i(e,{isLoading:!0,error:void 0}),Ue(e);const l=await(0,n.p)("checkNftTransferDraft",{accountId:e.currentAccountId,nfts:i,toAddress:r,comment:s});null!==(o=(e=Me()).currentTransfer.nfts)&&void 0!==o&&o.length&&(e=_i(e,{isLoading:!1}),l&&(e=Bi(e,l)),Ue(e),null!=l&&l.error&&t.showError({error:(null==l?void 0:l.error)===Gn.KL.InsufficientBalance?"Insufficient TON for fee.":l.error}))})),We("submitTransferPassword",(async(t,a,o)=>{var r,i;let{password:s}=o;const{resolvedAddress:l,comment:c,amount:d,promiseId:u,tokenSlug:m,shouldEncrypt:p,binPayload:f,nfts:h,withDiesel:g,diesel:v,stateInit:w,isGaslessWithStars:y}=t.currentTransfer;if(!await(0,n.p)("verifyPassword",s))return void Ue(_i(Me(),{error:"Wrong password, please try again."}));if(t=Me(),t=_i(Me(),{isLoading:!0,error:void 0}),Qo()&&(t=ci(t)),Ue(t),await ar(!0),u)return Qo()&&(t=ci(t=Me()),Ue(t)),void(0,n.p)("confirmDappRequest",u,s);const b=On(t.currentTransfer),E=null===(r=b.fullFee)||void 0===r?void 0:r.nativeSum,k=null===(i=b.realFee)||void 0===i?void 0:i.nativeSum;let C;if(null!=h&&h.length){const a=[];for(let t=0;t<h.length;t+=e.gR8)a.push(h.slice(t,t+e.gR8));for(const e of a){const a=await(0,n.p)("submitNftTransfers",t.currentAccountId,s,e,l,c,k&&(0,Dn.fC)(k,h.length/e.length));t=_i(t=Me(),{sentNftsCount:(t.currentTransfer.sentNftsCount||0)+e.length}),Ue(t),C=a}}else{const{tokenAddress:e,chain:a}=Tt(t,m),o={accountId:t.currentAccountId,password:s,toAddress:l,amount:d,comment:null!=f?f:c,tokenAddress:e,fee:E,realFee:k,shouldEncrypt:p,isBase64Data:Boolean(f),withDiesel:g,dieselAmount:v&&Fn(v),stateInit:w,isGaslessWithStars:y};C=await(0,n.p)("submitTransfer",a,o)}var N;t=_i(t=Me(),{isLoading:!1}),Ue(t),!C||"error"in C?(Qo()&&(t=di(t=Me()),Ue(t)),nr(),a.showError({error:null===(N=C)||void 0===N?void 0:N.error})):ar()})),We("submitTransferHardware",(async(e,t)=>{var a;const{toAddress:o,resolvedAddress:r,comment:s,amount:l,promiseId:c,tokenSlug:d,rawPayload:u,parsedPayload:m,stateInit:p,nfts:f}=e.currentTransfer,h=e.currentAccountId;Ue(_i(Me(),{isLoading:!0,error:void 0,state:tn.ConfirmHardware}));const g=await Promise.all([i.e(494),i.e(612),i.e(776),i.e(432)]).then(i.bind(i,95683));if(c){const e={toAddress:o,amount:l,rawPayload:u,payload:m,stateInit:p};try{const t=await g.signLedgerTransactions(h,[e]);(0,n.p)("confirmDappRequest",c,t)}catch(e){e instanceof us.KB?Ue(_i(Me(),{isLoading:!1,error:"Canceled by the user"})):(0,n.p)("cancelDappRequest",c,"Unknown error.")}return}const v=null===(a=On(e.currentTransfer).realFee)||void 0===a?void 0:a.nativeSum;let w,y;if(null!=f&&f.length)for(const t of f){const n=await g.submitLedgerNftTransfer({accountId:e.currentAccountId,nftAddress:t.address,password:"",toAddress:r,comment:s,nft:t,realFee:v&&(0,Dn.fC)(v,f.length)});e=_i(e=Me(),{sentNftsCount:(e.currentTransfer.sentNftsCount||0)+1}),Ue(e),w=n}else{const t=At(e,d),n={accountId:e.currentAccountId,password:"",toAddress:r,amount:l,comment:s,tokenAddress:t,realFee:v};try{w=await g.submitLedgerTransfer(n,d)}catch(e){e instanceof us.bS&&(y="$hardware_blind_sign_not_enabled")}}y||void 0!==w?"object"==typeof w&&"error"in w&&t.showError({error:w.error}):y="Declined",Ue(_i(Me(),{isLoading:!1,error:y}))})),We("cancelTransfer",(function(e,t){let{shouldReset:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{promiseId:o,tokenSlug:r}=e.currentTransfer;if(a)return o&&(0,n.p)("cancelDappRequest",o,"Canceled by the user"),e=_i(e=xi(e),{tokenSlug:r}),void Ue(e);Qo()&&(e=di(e)),e=_i(e,{state:tn.None}),Ue(e)})),We("fetchTransferDieselState",(async(e,t,a)=>{let{tokenSlug:o}=a;const r=At(e,o);if(!r)return;const i=await(0,n.p)("fetchEstimateDiesel",e.currentAccountId,r);if(!i)return;const s=et(e=Me(),e.currentAccountId);e=Li(e,_i(e,{diesel:i})),null!=s&&s.isDieselAuthorizationStarted&&"not-authorized"!==i.status&&(e=hi(e,e.currentAccountId,{isDieselAuthorizationStarted:void 0})),Ue(e)}));const sd=t.KI?100:0;function ld(t,n){const{currentAccountId:a,currentMintCard:o}=t,{config:r}=et(t,a),{cardsInfo:i}=r,s=i[o.type];return{accountId:a,password:n,toAddress:e.lnc,amount:(0,wt.UH)(s.price,e.Tu9.decimals),comment:e.sml}}function cd(e,t,n){if(e=Ji(e,{isLoading:!1}),Ue(e),n)return Qo()&&(e=di(e=Me()),Ue(e)),nr(),void He().showError({error:n});ar(),e=hi(e=Ji(e=Me(),{state:mn.Done}),t,{isCardMinting:!0}),Ue(e)}We("burnNfts",((t,n,a)=>{let{nfts:o}=a;n.startTransfer({isPortrait:fo(),nfts:o});const r=o.some((t=>t.collectionAddress===e.KmP));setTimeout((()=>{n.submitTransferInitial({tokenSlug:e.Tu9.slug,amount:0n,toAddress:r?e.WVU[0]:e.pV9,nfts:o})}),sd)})),We("addNftsToBlacklist",((e,t,n)=>{let{addresses:a}=n,{blacklistedNftAddresses:o=[],whitelistedNftAddresses:r=[]}=Ze(e)||{};return o=(0,s.Hl)(o,a),r=(0,s.Hl)(r,a),fi(e,{blacklistedNftAddresses:[...o,...a],whitelistedNftAddresses:r})})),We("addNftsToWhitelist",((e,t,n)=>{let{addresses:a}=n,{blacklistedNftAddresses:o=[],whitelistedNftAddresses:r=[]}=Ze(e)||{};return o=(0,s.Hl)(o,a),r=(0,s.Hl)(r,a),fi(e,{blacklistedNftAddresses:o,whitelistedNftAddresses:[...r,...a]})})),We("removeNftSpecialStatus",((e,t,n)=>{let{address:a}=n,{blacklistedNftAddresses:o=[],whitelistedNftAddresses:r=[]}=Ze(e)||{};return o=o.filter((e=>e!==a)),r=r.filter((e=>e!==a)),fi(e,{blacklistedNftAddresses:o,whitelistedNftAddresses:r})})),We("openUnhideNftModal",((e,t,n)=>{let{address:a,name:o}=n;return fi(e,{isUnhideNftModalOpen:!0,selectedNftToUnhide:{address:a,name:o}})})),We("closeUnhideNftModal",(e=>fi(e,{isUnhideNftModalOpen:void 0,selectedNftToUnhide:void 0}))),We("openHideNftModal",((e,t,n)=>{let{addresses:a,isCollection:o}=n;return fi(e,{selectedNftsToHide:{addresses:a,isCollection:o}})})),We("closeHideNftModal",(e=>fi(e,{selectedNftsToHide:void 0}))),We("submitClaimingVesting",(async(a,o,r)=>{let{password:i}=r;const s=a.currentAccountId;if(!await(0,n.p)("verifyPassword",i))return void Ue(Xi(Me(),s,{error:"Wrong password, please try again."}));if(a=Me(),Qo()&&(a=ci(a)),a=Xi(a,s,{isLoading:!0,error:void 0}),Ue(a),await ar(!0),t.bA)return void ni("submitClaimingVesting",{password:i});const l=ct(a=Me(),s),c={accountId:a.currentAccountId,password:i,toAddress:e.OKZ,amount:e.aEZ,comment:e.ZYg},d=await(0,n.p)("submitTransfer","ton",c);if(a=Xi(a=Me(),s,{isLoading:!1}),Ue(a),!d||"error"in d)return Qo()&&(a=di(a=Me()),Ue(a)),nr(),void o.showError({error:null==d?void 0:d.error});ar(),a=Xi(a=Me(),s,{isConfirmRequested:void 0,unfreezeRequestedIds:l}),Ue(a),o.openVestingModal()})),We("submitClaimingVestingHardware",(async(t,n)=>{t=Xi(t,t.currentAccountId,{isLoading:!0,error:void 0,unfreezeState:dn.ConfirmHardware}),Ue(t);const a=await Promise.all([i.e(494),i.e(612),i.e(776),i.e(432)]).then(i.bind(i,95683)),o=(t=Me()).currentAccountId,r=ct(t,o),s={accountId:o,password:"",toAddress:e.OKZ,amount:e.aEZ,comment:e.ZYg},l=await a.submitLedgerTransfer(s,e.Tu9.slug);t=Xi(t=Me(),o,{isLoading:!1}),Ue(t),l?(t=Xi(t=Me(),o,{isConfirmRequested:void 0,unfreezeRequestedIds:r}),Ue(t),n.openVestingModal()):n.showError({error:Gn.QD.Unexpected})})),We("loadMycoin",((t,n)=>{const{isTestnet:a}=t.settings;n.importToken({address:a?e.GX2.minterAddress:e.oUU.minterAddress})})),We("submitMintCard",(async(e,t,a)=>{var o;let{password:r}=a;const i=e.currentAccountId;if(!await(0,n.p)("verifyPassword",r))return void Ue(Ji(Me(),{error:"Wrong password, please try again."}));e=Me(),Qo()&&(e=ci(e)),e=Ji(e,{isLoading:!0,error:void 0}),Ue(e),await ar(!0);const s=ld(Me(),r),l=await(0,n.p)("submitTransfer","ton",s),c=!l||"error"in l?null!==(o=null==l?void 0:l.error)&&void 0!==o?o:Gn.QD.Unexpected:void 0;cd(Me(),i,c)})),We("submitMintCardHardware",(async t=>{const n=t.currentAccountId;t=Ji(t,{isLoading:!0,error:void 0,state:mn.ConfirmHardware}),Ue(t);const a=await Promise.all([i.e(494),i.e(612),i.e(776),i.e(432)]).then(i.bind(i,95683)),o=ld(Me(),""),r=await a.submitLedgerTransfer(o,e.Tu9.slug)?void 0:Gn.QD.Unexpected;cd(Me(),n,r)})),We("checkCardNftOwnership",(e=>{if(t.bA)return;const{byAccountId:a}=e.settings;Object.entries(a).forEach((async e=>{var t,a;let[o,r]=e;const i=null===(t=r.cardBackgroundNft)||void 0===t?void 0:t.address,s=null===(a=r.accentColorNft)||void 0===a?void 0:a.address;if(!i&&!s)return;const l=[i?(0,n.p)("checkNftOwnership",o,i):void 0,s&&s!==i?(0,n.p)("checkNftOwnership",o,s):void 0],[c,d]=await Promise.all(l);let u=Me();i&&!1===c&&(u=wi(u,o,{cardBackgroundNft:void 0})),s&&(s===i&&!1===c||s!==i&&!1===d)&&(u=wi(u,o,{accentColorNft:void 0,accentColorIndex:void 0})),Ue(u)}))}));var dd=i(9705);function ud(e,t){let n=new dd.A;return function(){return n.resolve(e),n=new dd.A,Promise.race([t(...arguments),n.promise])}}function md(e,t){const n=e.pushNotifications.enabledAccounts,{[t]:a,...o}=n;return{...e,pushNotifications:{...e.pushNotifications,enabledAccounts:o}}}function pd(e){return{...e,pushNotifications:{...e.pushNotifications,enabledAccounts:{}}}}function fd(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a={...e.pushNotifications.enabledAccounts,[t]:n};return{...e,pushNotifications:{...e.pushNotifications,enabledAccounts:a}}}const hd=ud({aborted:!0},(e=>(0,n.p)("subscribeNotifications",e))),gd=ud({aborted:!0},(e=>(0,n.p)("unsubscribeNotifications",e)));We("registerNotifications",(async(t,a,o)=>{let{userToken:r,platform:i}=o;const{pushNotifications:s}=t;let l,c=Object.keys(s.enabledAccounts);const d=Object.keys(je(t)||{});if(!s.userToken&&d.length?(c=d.slice(0,e.vdF),l=await(0,n.p)("subscribeNotifications",{userToken:r,platform:i,addresses:Do(t,c)})):s.userToken!==r&&c.length&&([l]=await Promise.all([(0,n.p)("subscribeNotifications",{userToken:r,platform:i,addresses:Do(t,c)}),(0,n.p)("unsubscribeNotifications",{userToken:s.userToken,addresses:Do(t,c)})])),t=Me(),t={...t,pushNotifications:{...t.pushNotifications,userToken:r,platform:i}},!l||"error"in l)return void Ue(t);const u=c.reduce(((e,n)=>{var a,o;return null!==(a=t.accounts)&&void 0!==a&&a.byId[n].addressByChain.ton&&(e[n]=l.addressKeys[null===(o=t.accounts)||void 0===o?void 0:o.byId[n].addressByChain.ton]),e}),{});Ue({...t,pushNotifications:{...t.pushNotifications,enabledAccounts:u}})})),We("deleteNotificationAccount",(async(e,t,a)=>{let{accountId:o,withAbort:r}=a;const{userToken:i,enabledAccounts:s}=e.pushNotifications,l=s[o];if(!i)return;Ue(md(e,o));const c={userToken:i,addresses:Do(e,[o])},d=r?await gd(c):await(0,n.p)("unsubscribeNotifications",c);d&&"aborted"in d||(e=Me(),Ue(d&&"ok"in d?md(e,o):fd(e,o,l)))})),We("createNotificationAccount",(async(e,t,a)=>{let{accountId:o,withAbort:r}=a;const{userToken:i,platform:s}=e.pushNotifications;if(!i||!s)return;Ue(fd(e,o,{}));const l={userToken:i,platform:s,addresses:Do(e,[o])},c=r?await hd(l):await(0,n.p)("subscribeNotifications",l);c&&"aborted"in c||(e=Me(),Ue(c&&"ok"in c?function(e,t,n){const a=e.pushNotifications.enabledAccounts;return a[t]={...a[t],...n},{...e,pushNotifications:{...e.pushNotifications,enabledAccounts:a}}}(e,o,c.addressKeys[e.accounts.byId[o].addressByChain.ton]):md(e,o)))})),We("toggleNotifications",(async(t,n,a)=>{let{isEnabled:o}=a;const{enabledAccounts:r={},userToken:i="",platform:s,isAvailable:l}=t.pushNotifications;if(!l)return;let c;if(o){c=Object.keys(je(t)||{}).slice(0,e.vdF);for(const e of c)t=fd(t,e,{})}else c=Object.keys(r),t=pd(t);if(Ue(t),!c.length)return;const d={userToken:i,addresses:Do(t,c),platform:s},u=o?await hd(d):await gd(d);if(!u||!("aborted"in u))if(t=Me(),u&&"ok"in u){if(o&&"addressKeys"in u){const e=u.addressKeys;for(const n of c){const a=t.accounts.byId[n].addressByChain.ton;e[a]&&(t=fd(t,n,e[a]))}}Ue(t)}else{if(o)t=pd(t);else for(const e of c)t=fd(t,e,r[e]);Ue(t)}})),We("fetchActivityDetails",(async(e,t,a)=>{let{id:o}=a;const r=e.currentAccountId,i=et(e,r).activities.byId[o];if(!i.shouldLoadDetails)return;const s=await(0,n.p)("fetchTonActivityDetails",r,i);s&&(e=function(e,t,n){const{id:a}=n,{activities:o}=et(e,t)||{},{byId:r}=null!=o?o:{};return r&&a in r?hi(e,t,{activities:{...o,byId:{...r,[a]:n}}}):e}(Me(),r,s),Ue(e))})),We("apiUpdate",((n,a,o)=>{switch(o.type){case"updateBalances":n=function(t,n,a,o){var r,i,s,l;const c={...o},d=null!==(r=null===(i=et(t,n))||void 0===i||null===(i=i.balances)||void 0===i?void 0:i.bySlug)&&void 0!==r?r:{},u=null!==(s=null===(l=nt(t,n))||void 0===l?void 0:l.importedSlugs)&&void 0!==s?s:[];for(const[e,t]of Object.entries(d))Cn(e)!==a&&(c[e]=t);for(const t of[...u,e.rUK])t in c||(c[t]=0n);return hi(t,n,{balances:{bySlug:c}})}(n,o.accountId,o.chain,o.balances),Ue(n);break;case"updateStaking":{var r,i;const{accountId:t,states:a,common:l,totalProfit:c,shouldUseNominators:d}=o,u=(0,s.dU)(a,"id");n=Hi(n=function(e,t){return{...e,stakingInfo:t}}(n=function(e,t){return{...e,stakingDefault:t}}(n,{...u[e.USn.id],balance:0n,unstakeRequestAmount:0n,tokenBalance:0n,isUnstakeRequested:!1}),l),t,{stateById:u,shouldUseNominators:d,totalProfit:c});const{stakingId:m}=null!==(r=null===(i=et(n,t))||void 0===i?void 0:i.staking)&&void 0!==r?r:{};if(!m){const e=[...a].sort(((e,t)=>Number(t.balance-e.balance)))[0];e&&e.balance>0n?n=Hi(n,t,{stakingId:e.id}):d&&u.nominators&&(n=Hi(n,t,{stakingId:u.nominators.id}))}Ue(n);break}case"updateTokens":{const{tokens:t,baseCurrency:a}=o;n=vi(n=function(t,n){var a;let o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=null===(a=t.tokenInfo)||void 0===a?void 0:a.bySlug;return n[e.Tu9.slug].quote.price||(n=Object.values(n).reduce(((e,t)=>{var n,a;return e[t.slug]={...t,quote:null!==(n=null==r||null===(a=r[t.slug])||void 0===a?void 0:a.quote)&&void 0!==n?n:t.quote},e}),{})),o&&r&&ii(r,n)?t:{...t,tokenInfo:{...t.tokenInfo,bySlug:{...r,...n}}}}(n,t,!0),{baseCurrency:a}),Ue(n);break}case"updateSwapTokens":n=function(e,t){var n;const a=null===(n=e.swapTokenInfo)||void 0===n?void 0:n.bySlug;return{...e,swapTokenInfo:{...e.swapTokenInfo,bySlug:{...a,...t}}}}(n,o.tokens),Ue(n);break;case"updateNfts":{var l;const{accountId:t}=o,r=(0,s.dU)(o.nfts,"address"),i=null===(l=et(n=Me(),t))||void 0===l?void 0:l.nfts;n=hi(n,t,{nfts:{...i,byAddress:r,orderedAddresses:Object.keys(r)}}),e.TI6||o.nfts.forEach((t=>{t.collectionAddress===e.qL&&(n=Qi(n,t))})),Ue(n),a.checkCardNftOwnership();break}case"nftSent":{const{accountId:t,nftAddress:r,newOwnerAddress:i}=o,s=dt(n,t,r);n=function(e,t,n){var a,o,r;const i=et(e,t).nfts,s=(null!==(a=null==i?void 0:i.orderedAddresses)&&void 0!==a?a:[]).filter((e=>e!==n)),l=(null!==(o=null==i?void 0:i.selectedAddresses)&&void 0!==o?o:[]).filter((e=>e!==n)),{[n]:c,...d}=null!==(r=null==i?void 0:i.byAddress)&&void 0!==r?r:{};return hi(e,t,{nfts:{...i,byAddress:d,orderedAddresses:s,selectedAddresses:l}})}(n,t,r),(null==s?void 0:s.collectionAddress)===e.qL&&(s.ownerAddress=i,n=Qi(n,s)),Ue(n),a.checkCardNftOwnership();break}case"nftReceived":{const{accountId:t,nft:r}=o;n=Gi(n,t,r),Ue(n),e.TI6||(a.checkCardNftOwnership(),r.collectionAddress===e.qL&&(a.setCardBackgroundNft({nft:r}),a.installAccentColorFromNft({nft:r})));break}case"nftPutUpForSale":{const{accountId:e,nftAddress:t}=o;n=function(e,t,n){const a=et(e,t).nfts,o=null==a?void 0:a.byAddress[n];return a&&o?hi(e,t,{nfts:{...a,byAddress:{...a.byAddress,[n]:{...o,isOnSale:!0}}}}):e}(n,e,t),Ue(n);break}case"updateAccount":{const{accountId:e,partial:t}=o;n=mi(n,e,{addressByChain:{ton:t.address}}),Ue(n);break}case"updateConfig":{const{isLimited:a,isCopyStorageEnabled:r,supportAccountsCount:i,countryCode:s,isAppUpdateRequired:l}=o,c=t.ZH&&a||e.TI6;n=function(e,t){return{...e,restrictions:{...e.restrictions,...t}}}(n,{isLimitedRegion:a,isSwapDisabled:c,isOnRampDisabled:c,isNftBuyingDisabled:c,isCopyStorageEnabled:r,supportAccountsCount:i,countryCode:s}),n={...n,isAppUpdateRequired:e.TI6?void 0:l},Ue(n);break}case"updateWalletVersions":t.KI&&ai("apiUpdateWalletVersions",o),a.apiUpdateWalletVersions(o);break;case"openUrl":to(o.url,{isExternal:o.isExternal,title:o.title,subtitle:o.subtitle});break;case"requestReconnectApi":a.initApi();break;case"incorrectTime":n.isIncorrectTimeNotificationReceived||a.showIncorrectTimeError();break;case"updateVesting":{const{accountId:e,vestingInfo:t}=o,a=ct(n,e);n=function(e,t,n){return Xi(e,t,{info:n})}(n,e,t),ri(a,ct(n,e))||(n=Xi(n,e,{unfreezeRequestedIds:void 0})),Ue(n);break}case"updatingStatus":{const{kind:e,isUpdating:t}=o,a="balance"===e?"balanceUpdateStartedAt":"activitiesUpdateStartedAt";if(t&&n[a])break;Ue({...n,[a]:t?Date.now():void 0});break}case"migrateCoreApplication":{const{accountId:e,isTestnet:t,address:r,secondAddress:i,secondAccountId:s,isTonProxyEnabled:l,isTonMagicEnabled:c}=o;n=ui({global:n=vi(n,{isTestnet:t}),accountId:e,addressByChain:{ton:r}}),n=ui({global:n,accountId:s,addressByChain:{ton:i},network:t?"mainnet":"testnet"}),Ue(n),requestAnimationFrame((()=>{a.tryAddNotificationAccount({accountId:e}),a.switchAccount({accountId:e,newNetwork:t?"testnet":"mainnet"}),a.afterSignIn(),c&&a.toggleTonMagic({isEnabled:!0}),l&&a.toggleTonProxy({isEnabled:!0})}));break}case"updateAccountConfig":{const{accountConfig:e,accountId:t}=o;n=hi(n,t,{config:e}),Ue(n)}}}));const vd=(0,jn.F3)("NativeAudio",{web:()=>i.e(477).then(i.bind(i,4477)).then((e=>new e.NativeAudioWeb))}),wd=i.p+"incoming-transaction.4ddd93d8f1ec1c4e2651.mp3",yd=Xn.Z2,bd=new(window.AudioContext||window.webkitAudioContext);let Ed,kd=e.UMQ||"running"===bd.state;function Cd(){kd||bd.resume().then((()=>{kd=!0})).catch((e=>{(0,l.SJ)("appSounds:initializeSounds",e)}))}e.UMQ?vd.preload({assetId:"incomingTransactionSound",assetPath:"public/incoming-transaction.mp3",audioChannelNum:1,isUrl:!1}).catch((e=>{(0,l.SJ)("appSounds:loadSound",e)})):fetch(wd).then((e=>e.arrayBuffer())).then((e=>bd.decodeAudioData(e))).then((e=>{Ed=e})).catch((e=>{(0,l.SJ)("appSounds:loadSound",e)}));const Nd=(0,c.sg)((()=>{if(t.bA)return;if(!kd)return void(0,l.MD)("appSounds:playIncomingTransactionSound","sound is not initialized");if(e.UMQ)return void vd.play({assetId:"incomingTransactionSound"}).catch((e=>{(0,l.SJ)("appSounds:playIncomingTransactionSound",e)}));if(!Ed)return void(0,l.MD)("playIncomingTransactionSound","audioBuffer is not loaded");const n=bd.createBufferSource();n.buffer=Ed,n.connect(bd.destination),n.start(0)}),yd,!0,!1);function Sd(e,t){var n;if(null!==(n=e.extra)&&void 0!==n&&n.withW5Gasless){if("transaction"===e.kind&&"transaction"===t.kind)return!t.isIncoming&&e.normalizedAddress===t.normalizedAddress&&e.amount===t.amount&&e.slug===t.slug;if("swap"===e.kind&&"swap"===t.kind)return e.from===t.from&&e.to===t.to&&e.fromAmount===t.fromAmount}return e.externalMsgHash?e.externalMsgHash===t.externalMsgHash&&!t.shouldHide:Wt(e.id).hash===Wt(t.id).hash}We("apiUpdate",((n,a,o)=>{switch(o.type){case"initialActivities":{const{accountId:e,mainActivities:t,bySlug:a,chain:r}=o;n=function(e,t,n,a){var o;const r=[...n,...Object.values(a).flat()],{activities:i}=et(e,t)||{};let{byId:l,idsBySlug:c,idsMain:d,newestActivitiesBySlug:u}=i||{};l={...l,...(0,s.dU)(r,"id")},d=function(e,t,n){if(!e.length&&!t.length)return[];if(!e.length&&t.length)return t;if(!t.length&&e.length)return e;const a=Math.max(n[e[e.length-1]].timestamp,n[t[t.length-1]].timestamp);return(0,s.Am)([...e,...t]).filter((e=>n[e].timestamp>=a)).sort(((e,t)=>_t(n[e],n[t])))}((0,s.JY)(n,"id"),null!==(o=d)&&void 0!==o?o:[],l);const m=(0,s.LG)(a,(e=>(0,s.JY)(e,"id")));return c={...c,...m},u=Yi({byId:l,idsBySlug:c,newestActivitiesBySlug:u},Object.keys(m)),hi(e,t,{activities:{...i,idsMain:d,byId:l,idsBySlug:c,newestActivitiesBySlug:u}})}(n=Mi(n,e,!1),e,t,a),r&&(n=Ki(n,e,r)),Ue(n);break}case"newLocalActivity":{const{accountId:e,activity:t}=o;n=qi(n,e,[t]),"transaction"===t.kind&&-t.amount===n.currentTransfer.amount&&(n=_i(n,{txId:t.txId,state:tn.Complete,isLoading:!1}),Qo()&&(n=di(n)),En(t.slug)&&a.fetchTransferDieselState({tokenSlug:t.slug})),Ue(n);break}case"newActivities":{var r;t.KI&&!o.noForward&&ai("apiUpdate",{...o,noForward:!0}),t.bA&&!o.noForward&&ni("apiUpdate",{...o,noForward:!0});const{accountId:a,activities:i,chain:s}=o,l=null!==(r=function(e,t){var n,a;const o=null===(n=e.byAccountId)||void 0===n?void 0:n[t];return null==o||null===(a=o.activities)||void 0===a?void 0:a.localActivities}(n=Mi(n,a,!1),a))&&void 0!==r?r:[],{replacedLocalIds:c,newActivities:d}=function(e,t){const n=new Map,a=[];for(const o of t){let t=!1;for(const a of e)Sd(a,o)&&(n.set(a.id,o.id),t=!0);t||a.push(o)}return{replacedLocalIds:n,newActivities:a}}(l,i);n=function(e,t,n){const{currentActivityId:a}=et(e,t)||{},o=a&&n.get(a);return o&&(e=hi(e,t,{currentActivityId:o})),e}(n=function(e,t){const n=e.currentSwap.activityId&&t.get(e.currentSwap.activityId);return void 0!==n&&(e=Ti(e,{activityId:n})),e}(n=function(e,t){const n=e.currentTransfer.txId&&t.get(e.currentTransfer.txId);return void 0!==n&&(e=_i(e,{txId:n})),e}(n=qi(n=function(e,t,n){var a,o;const{activities:r}=et(e,t)||{};if(!r)return e;const i=new Set(n);if(0===i.size)return e;let{byId:s,idsBySlug:l,idsMain:c,newestActivitiesBySlug:d,localActivities:u}=r;const m=function(e,t){const n=new Set;for(const a of e){const e=t[a];if(e)for(const t of zt(e))n.add(t)}return n}(i,s);l={...l};for(const e of m)e in l&&(l[e]=l[e].filter((e=>!i.has(e))),l[e].length||delete l[e]);d=Yi({byId:s,idsBySlug:l,newestActivitiesBySlug:d},m),c=null===(a=c)||void 0===a?void 0:a.filter((e=>!i.has(e))),s={...s};for(const e of i)delete s[e];return u=null===(o=u)||void 0===o?void 0:o.filter((e=>!i.has(e.id))),hi(e,t,{activities:{...r,byId:s,idsBySlug:l,idsMain:c,newestActivitiesBySlug:d,localActivities:u}})}(n,a,c.keys()),a,i),c),c),a,c),function(e,t){t.some((t=>{var n;return"transaction"===t.kind&&t.isIncoming&&e.settings.canPlaySounds&&Date.now()-t.timestamp<6e4&&!(e.settings.areTinyTransfersHidden&&ns(t,null===(n=e.tokenInfo)||void 0===n?void 0:n.bySlug[t.slug]))&&!Ft(t)}))&&Nd()}(n,d),e.TI6||(n=function(t,n,a){const{isCardMinting:o}=et(t,n)||{},r=o?a.find((t=>{var n;return"transaction"===t.kind&&t.isIncoming&&(null==t||null===(n=t.nft)||void 0===n?void 0:n.collectionAddress)===e.qL})):void 0;if(r){const e=r.nft;t=Gi(t=hi(t,n,{isCardMinting:void 0}),n,e),He().setCardBackgroundNft({nft:e}),He().installAccentColorFromNft({nft:e})}return t}(n,a,i)),s&&(n=Ki(n,a,s)),Ue(n);break}}})),We("apiUpdate",((n,a,o)=>{switch(o.type){case"createTransaction":{const{promiseId:t,amount:a,toAddress:r,fee:i,realFee:s,comment:l,rawPayload:c,parsedPayload:d,stateInit:u}=o;n=_i(n=xi(n),{state:tn.Confirm,toAddress:r,amount:a,fee:i,realFee:s,comment:l,promiseId:t,tokenSlug:e.Tu9.slug,rawPayload:c,parsedPayload:d,stateInit:u}),Ue(n);break}case"createSignature":{const{promiseId:e,dataHex:t}=o;n=Pi(n=function(e){return{...e,currentSignature:void 0}}(n),{promiseId:e,dataHex:t}),Ue(n);break}case"showError":{const{error:e}=o;a.showError({error:e});break}case"dappConnect":t.KI&&ai("apiUpdateDappConnect",o),a.apiUpdateDappConnect(o);break;case"dappConnectComplete":n=$i(n),Ue(n);break;case"updateActiveDapp":{const{accountId:e,origin:t}=o;n=hi(n,e,{activeDappOrigin:t}),Ue(n);break}case"dappDisconnect":{const{accountId:e,origin:t}=o,a=et(n,e);(null==a?void 0:a.activeDappOrigin)===t&&(n=zi(n=hi(n,e,{activeDappOrigin:void 0})),Ue(n));break}case"dappLoading":t.KI&&ai("apiUpdateDappLoading",o),a.apiUpdateDappLoading(o);break;case"dappCloseLoading":t.KI&&ai("apiUpdateDappCloseLoading"),a.apiUpdateDappCloseLoading();break;case"dappSendTransactions":t.KI&&ai("apiUpdateDappSendTransaction",o),a.apiUpdateDappSendTransaction(o);break;case"updateDapps":t.KI&&ai("getDapps"),a.getDapps();break;case"prepareTransaction":{const{amount:t,toAddress:a,comment:r,binPayload:i}=o;n=_i(n=xi(n),{state:tn.Initial,toAddress:a,amount:null!=t?t:0n,comment:r,tokenSlug:e.Tu9.slug,binPayload:i}),Ue(n);break}case"processDeeplink":{const{url:e}=o;vo(e);break}}}));const Ad=[e.dnp,e.zHL,e.zP3];function Td(e){const t=`animation-level-${e}`;document.documentElement.classList.contains(t)||Ad.forEach((t=>{document.documentElement.classList.toggle(`animation-level-${t}`,t===e)}))}var Id,Bd,_d,xd;We("init",((n,a)=>{(0,k.RK)((()=>{const{documentElement:n}=document;t.pz?n.classList.add("is-ios","is-mobile"):t.Ni?(n.classList.add("is-android","is-mobile"),t.xy&&n.classList.add("is-android-app")):t.MP?n.classList.add("is-macos"):t.H8?n.classList.add("is-windows"):t.ig&&n.classList.add("is-linux"),t.Yw&&n.classList.add("is-safari"),t.By&&n.classList.add("is-opera"),e.hL1&&n.classList.add("is-extension"),t.cp&&n.classList.add("is-electron"),e.tKX&&n.classList.add("is-telegram-app"),(0,t.v3)()&&n.classList.add("is-mobile-telegram-app"),t.bA&&n.classList.add("is-native-bottom-sheet"),(0,t.Kc)(),a.afterInit()}))})),We("afterInit",(t=>{const{theme:n,animationLevel:a,langCode:o,authConfig:r}=t.settings;ml(n),Td(a),hl({forceDarkBackground:!1}),Dr(o),function(){const t=e.CV.replace(/\d+$/,""),n=Number((e.CV.match(/\d+$/)||[0])[0]);for(let e=0;e<n;e++)pr(`${t}${0===e?"":e}`)}(),e.UMQ?async function(e){const t=!!e&&"native-biometrics"===e.kind,n=await Yn.isAvailable({isWeakAuthenticatorAllowed:t,useFallback:!1});Wo=n.isAvailable,$o=n.biometryType===qn.FACE_ID,Vo=n.biometryType===qn.TOUCH_ID,async function(e){const t=jn.Ii.isPluginAvailable("PushNotifications");if(Ue({...e,pushNotifications:{...e.pushNotifications,isAvailable:t}}),!t)return;await Lo.addListener("pushNotificationActionPerformed",Ro),await Lo.addListener("registration",Mo),await Lo.addListener("registrationError",(e=>{(0,l.SJ)("Registration error: ",e.error)}));let n=await Lo.checkPermissions();"prompt-with-rationale"!==n.receive&&("prompt"===n.receive&&(n=await Lo.requestPermissions()),"granted"===n.receive&&await Lo.register())}(Me())}(r):(e.tKX&&function(e){e.isFullscreen&&ma.requestFullscreen(),ma.onEvent("fullscreenChanged",ka),ma.onEvent("fullscreenFailed",Ca)}(t),document.addEventListener("click",Cd,{once:!0}))})),We("afterSignIn",((e,t)=>{Ue({...e,appState:Jt.Main}),setTimeout((()=>{t.resetAuth(),go&&(vo(go),go=void 0)}),320)})),We("afterSignOut",((e,t,n)=>{var a;null!=n&&n.shouldReset&&("native-biometrics"===(null===(a=e.settings.authConfig)||void 0===a?void 0:a.kind)&&Ra(),t.resetApiSettings({areAllDisabled:!0})),t.clearSwapPairsCache()})),We("showDialog",((e,t,n)=>{const{message:a,title:o}=n,r=[...e.dialogs],i=r.findIndex((e=>e.message===a));return-1!==i&&r.splice(i,1),r.push({message:a,title:o}),{...e,dialogs:r}})),We("dismissDialog",(e=>{const t=[...e.dialogs];return t.pop(),{...e,dialogs:t}})),We("selectToken",(function(t,n){let{slug:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(a){const o=a===e.Tu9.slug,r=Bn(t);(o||null!=r&&r.some((e=>e.slug===a)))&&(o?n.setDefaultSwapParams({tokenInSlug:e.rKC,tokenOutSlug:a}):n.setDefaultSwapParams({tokenOutSlug:a}),n.changeTransferToken({tokenSlug:a}))}else{var o;const a=t.byAccountId[t.currentAccountId].currentTokenSlug,r=t.currentSwap.tokenOutSlug===e.Hfd&&t.currentSwap.tokenInSlug===e.rKC;t.currentSwap.tokenOutSlug===a&&(t.currentSwap.tokenInSlug===e.Hfd&&t.currentSwap.tokenOutSlug!==e.rKC||r)&&n.setDefaultSwapParams({tokenInSlug:void 0,tokenOutSlug:void 0,withResetAmount:!0}),t.currentTransfer.tokenSlug===a&&t.currentTransfer.tokenSlug!==e.ScF&&(null===(o=t.currentTransfer.nfts)||void 0===o||!o.length)&&n.changeTransferToken({tokenSlug:e.ScF,withResetAmount:!0})}return fi(t,{currentTokenSlug:a})})),We("showError",(function(e,n){let{error:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t.bA)ni("showError",{error:a});else switch(a){case Gn.KL.InvalidAmount:n.showDialog({message:"Invalid amount"});break;case Gn.KL.InvalidToAddress:n.showDialog({message:"Invalid address"});break;case Gn.KL.StateInitWithoutBin:n.showDialog({message:"$state_init_requires_bin"});break;case Gn.KL.InvalidStateInit:n.showDialog({message:"$state_init_invalid"});break;case Gn.KL.InsufficientBalance:n.showDialog({message:"Insufficient balance"});break;case Gn.KL.DomainNotResolved:n.showDialog({message:"Domain is not connected to a wallet"});break;case Gn.KL.WalletNotInitialized:n.showDialog({message:"Encryption is not possible. The recipient is not a wallet or has no outgoing transactions."});break;case Gn.KL.InvalidAddressFormat:n.showDialog({message:"Invalid address format. Only URL Safe Base64 format is allowed."});break;case Gn.jf.PartialTransactionFailure:n.showDialog({message:"Not all transactions were sent successfully"});break;case Gn.jf.IncorrectDeviceTime:n.showDialog({message:"The time on your device is incorrect, sync it and try again"});break;case Gn.jf.UnsuccesfulTransfer:n.showDialog({message:"Transfer was unsuccessful. Try again later."});break;case Gn.KL.InactiveContract:n.showDialog({message:"$transfer_inactive_contract_error"});break;case Gn.jf.NotSupportedHardwareOperation:n.showDialog({message:"$ledger_not_supported_operation"});break;case Gn.QD.ServerError:n.showDialog({message:window.navigator.onLine?"An error on the server side. Please try again.":"No internet connection. Please check your connection and try again."});break;case Gn.QD.DebugError:n.showDialog({message:"Unexpected error. Please let the support know."});break;case Gn.QD.Unexpected:case void 0:n.showDialog({message:"Unexpected"});break;default:n.showDialog({message:a})}})),We("showNotification",((e,n,a)=>{if(t.bA)return void ni("showNotification",a);const{message:o,icon:r}=a,i=[...e.notifications],s=i.findIndex((e=>e.message===o));return-1!==s&&i.splice(s,1),i.push({message:o,icon:r}),{...e,notifications:i}})),We("dismissNotification",(e=>{const t=[...e.notifications];return t.pop(),{...e,notifications:t}})),We("toggleTonProxy",((e,t,a)=>{let{isEnabled:o}=a;return(0,n.p)("doProxy",o),{...e,settings:{...e.settings,isTonProxyEnabled:o}}})),We("toggleTonMagic",((e,t,a)=>{let{isEnabled:o}=a;return(0,n.p)("doMagic",o),{...e,settings:{...e.settings,isTonMagicEnabled:o}}})),We("toggleDeeplinkHook",((e,a,o)=>{let{isEnabled:r}=o;var i;return t.cp?null===(i=window.electron)||void 0===i||i.toggleDeeplinkHandler(r):(0,n.p)("doDeeplinkHook",r),{...e,settings:{...e.settings,isDeeplinkHookEnabled:r}}})),We("signOut",(async(e,a,o)=>{var r;t.bA&&ni("signOut",o);const{level:i}=o,l=Qe(e),c=Ge(e),d=Object.keys(c),u="account"!==i,m="mainnet"===l?"testnet":"mainnet";let p=Object.keys(Ye(m,null===(r=e.accounts)||void 0===r?void 0:r.byId));if("all"===i&&p.length>0&&(await(0,n.p)("removeNetworkAccounts",m),p=[]),u||1===d.length)if(a.deleteAllNotificationAccounts({accountIds:d}),p.length){await(0,n.p)("removeNetworkAccounts",l),e=Me();const t=p[0],o=Object.entries(e.accounts.byId).reduce(((e,t)=>{let[n,a]=t;return(0,Ve.c)(n).network!==l&&(e[n]=a),e}),{}),r=Object.entries(e.byAccountId).reduce(((e,t)=>{let[n,a]=t;return(0,Ve.c)(n).network!==l&&(e[n]=a),e}),{}),i=Object.entries(e.settings.byAccountId).reduce(((e,t)=>{let[n,a]=t;return(0,Ve.c)(n).network!==l&&(e[n]=a),e}),{});e=Ei(e,t),e={...e,accounts:{...e.accounts,byId:o},byAccountId:r,settings:{...e.settings,byAccountId:i}},Ue(e),a.switchAccount({accountId:t,newNetwork:m}),a.closeSettings(),a.afterSignOut()}else await(0,n.p)("resetAccounts"),a.afterSignOut({shouldReset:!0}),a.init();else{const t=e.currentAccountId,o=d.find((e=>e!==t)),r=Xt(e,o);await(0,n.p)("removeAccount",t,o,r),a.deleteNotificationAccount({accountId:t}),e=Me();const i=(0,s.cJ)(e.accounts.byId,[t]),l=(0,s.cJ)(e.byAccountId,[t]),c=(0,s.cJ)(e.settings.byAccountId,[t]);e=Ei(e,o),e={...e,accounts:{...e.accounts,byId:i},byAccountId:l,settings:{...e.settings,byAccountId:c}},Ue(e),a.afterSignOut()}})),function(e){e.Aztec="AZTEC",e.Codabar="CODABAR",e.Code39="CODE_39",e.Code93="CODE_93",e.Code128="CODE_128",e.DataMatrix="DATA_MATRIX",e.Ean8="EAN_8",e.Ean13="EAN_13",e.Itf="ITF",e.Pdf417="PDF_417",e.QrCode="QR_CODE",e.UpcA="UPC_A",e.UpcE="UPC_E"}(Id||(Id={})),function(e){e.CalendarEvent="CALENDAR_EVENT",e.ContactInfo="CONTACT_INFO",e.DriversLicense="DRIVERS_LICENSE",e.Email="EMAIL",e.Geo="GEO",e.Isbn="ISBN",e.Phone="PHONE",e.Product="PRODUCT",e.Sms="SMS",e.Text="TEXT",e.Url="URL",e.Wifi="WIFI",e.Unknown="UNKNOWN"}(Bd||(Bd={})),function(e){e.Front="FRONT",e.Back="BACK"}(_d||(_d={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.PENDING=1]="PENDING",e[e.DOWNLOADING=2]="DOWNLOADING",e[e.CANCELED=3]="CANCELED",e[e.COMPLETED=4]="COMPLETED",e[e.FAILED=5]="FAILED",e[e.INSTALLING=6]="INSTALLING",e[e.DOWNLOAD_PAUSED=7]="DOWNLOAD_PAUSED"}(xd||(xd={}));const Ld=(0,jn.F3)("BarcodeScanner",{web:()=>i.e(215).then(i.bind(i,29215)).then((e=>new e.BarcodeScannerWeb))}),Dd=/^\d+\.\d+(\.\d+)?$/;let Od;const Pd=window.matchMedia("(prefers-color-scheme: dark)"),Fd=function(e){const[t,n]=ie("system"===e?Pd.matches?"dark":"light":e),a=$r((()=>{n((()=>"system"===e?Pd.matches?"dark":"light":e))}));return le((()=>{if("system"===e)return Pd.addEventListener("change",a),()=>{Pd.removeEventListener("change",a)}}),[e]),a(),t},Rd=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;const[n,a]=ie(e,t);return[n,ue((()=>{a(!0)}),[]),ue((()=>{a(!1)}),[])]};const Md=new Set(["INPUT","TEXTAREA","SELECT"]),Ud=v();function Hd(e){le((()=>{if(!e)return;const t=Object.entries(e);return Ud.addCallback((function(e){(function(e){return!(e.target instanceof HTMLElement)||!Md.has(e.target.tagName)})(e)&&t.forEach((t=>{let[n,a]=t;(function(e){return t=>function(e,t){const{alt:n,ctrl:a,meta:o,mod:r,shift:i,key:s}=e,{altKey:l,ctrlKey:c,metaKey:d,shiftKey:u,key:m}=t;if(n!==l)return!1;if(r){if(!c&&!d)return!1}else{if(a!==c)return!1;if(o!==d)return!1}return i===u&&Boolean(s&&(m.toLowerCase()===s.toLowerCase()||t.code.replace("Key","").toLowerCase()===s.toLowerCase()))}(function(e){const t=e.toLowerCase().split("+").map((e=>e.trim())),n={alt:t.includes("alt"),ctrl:t.includes("ctrl"),meta:t.includes("meta"),mod:t.includes("mod"),shift:t.includes("shift")},a=["alt","ctrl","meta","shift","mod"];return{...n,key:t.find((e=>!a.includes(e)))}}(e),t)})(n)(e)&&a(e)}))}))}),[e])}function Wd(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=ue(e,t);return de((()=>"number"==typeof n?(0,c.nF)(o,n,!a):(0,c.nb)(n,o)),[o,n,a])}document.documentElement.addEventListener("keydown",Ud.runCallbacks);const $d=new Set;function Vd(e){const t=Boolean(e),{transitionClassNames:n}=ws(t,void 0,t,"slow");return n}const zd=pe((function(e){let{url:t,alt:n,loading:a,className:o,imageClassName:r}=e;const i=me(null),[s,l]=Rd($d.has(t)),c=Vd(s);return he.createElement("div",{className:ps(c,o)},he.createElement("img",{ref:i,src:t,alt:n,loading:a,className:r,draggable:!1,referrerPolicy:"same-origin",onLoad:s?void 0:()=>{l(),$d.add(t)}}))})),qd=i.p+"add_dark.8aaf6cc3b06c8c29c0b8.tgs",Kd=i.p+"add_light.be170b963afd3d68fffa.tgs",jd=i.p+"clock_dark.67c2082b0ca3be15abf5.tgs",Yd=i.p+"clock_dark_blue.d3b0ddc95a2fff8a0fd2.tgs",Gd=i.p+"clock_dark_gray.2f8e5bd8283b1b6fbc8b.tgs",Qd=i.p+"clock_dark_green.30d56a71568b4a6c2265.tgs",Xd=i.p+"clock_dark_purple.44d7e54c80d7bfcdc066.tgs",Jd=i.p+"clock_dark_purple_white.b5df424559c900b23895.tgs",Zd=i.p+"clock_dark_red.67cef0a9056652cc9fc4.tgs",eu=i.p+"clock_light.0f820ef9df9307b005b3.tgs",tu=i.p+"clock_light_blue.f083ead22592adee851a.tgs",nu=i.p+"clock_light_gray.4826990b5758e7e75dc0.tgs",au=i.p+"clock_light_green.81cd8075f0eea6108c88.tgs",ou=i.p+"clock_light_purple.38ce19dce815fecda5d9.tgs",ru=i.p+"clock_light_purple_white.5f9e760bc1f22f84b046.tgs",iu=i.p+"clock_light_red.55b1cfeadab5652b419e.tgs",su=i.p+"clock_white.41dbe48bccd63e5f22a3.tgs",lu=i.p+"core_wallet_logo.2055ba52598574ce57c1.tgs",cu=i.p+"duck_bill.f055b12619440839e0be.tgs",du=i.p+"duck_forges.8b2d0ebddaa6d89f49f9.tgs",uu=i.p+"duck_guard.80ca79a0dd4e872c97de.tgs",mu=i.p+"duck_happy.341e288409ae85100bda.tgs",pu=i.p+"duck_hello.40447128d7d2e35c9513.tgs",fu=i.p+"duck_no-data.235bf383a43e5d277cc7.tgs",hu=i.p+"duck_run.4f00386469e72bd5f970.tgs",gu=i.p+"duck_snitch.1de91932b48b813238a6.tgs",vu=i.p+"duck_thumb.4ae249f4ed4f4a37176a.tgs",wu=i.p+"duck_ton.6583e2880c36d10daee2.tgs",yu=i.p+"duck_wait.94faee2d1128c376e8d9.tgs",bu=i.p+"duck_yeee.883032cf50944d474730.tgs",Eu=i.p+"earn_dark.cc3100d59f35656a0d80.tgs",ku=i.p+"earn_dark_purple.ef283884f712c29765f8.tgs",Cu=i.p+"earn_light.ba7d6daf7c43c22f37c5.tgs",Nu=i.p+"earn_light_purple.f5bf3ef47824c05e92a7.tgs",Su=i.p+"send_dark.a03d74d5dbf4d09aa6cd.tgs",Au=i.p+"send_light.5056ea189e9f728cbf1c.tgs",Tu=i.p+"swap_dark.0cca83400e60322ddc57.tgs",Iu=i.p+"swap_light.f484bcd0bc90ab8c5f43.tgs",Bu=i.p+"clock_dark.82ee95a865a9838d58e7.svg",_u=i.p+"clock_dark_blue.ad6be1bf6a3055f92995.svg",xu=i.p+"clock_dark_gray.1b1d9010ecebb08c3903.svg",Lu=i.p+"clock_dark_green.93f238675a9074c4fd47.svg",Du=i.p+"clock_dark_purple.e08f76411ffbefe55602.svg",Ou=i.p+"clock_dark_purple_white.fbc63a9cd9546cfb5f54.svg",Pu=i.p+"clock_dark_red.8510b2dd2f25c2a0dcf1.svg",Fu=i.p+"clock_light.ce57368517d1f91b344b.svg",Ru=i.p+"clock_light_blue.5282cd47826f9a86e7bf.svg",Mu=i.p+"clock_light_gray.ee7e9a2398565386ec7a.svg",Uu=i.p+"clock_light_green.71f692ac565e957d540a.svg",Hu=i.p+"clock_light_purple.171b47626b50eac4fe77.svg",Wu=i.p+"clock_light_purple_white.fc89347ebf34b9556bfc.svg",$u=i.p+"clock_light_red.04c3e975306f5ff8d73f.svg",Vu=i.p+"clock_white.43293689a529ef380b56.svg",zu=i.p+"core_wallet_logo.e5460356e39ce9c0ba0e.png",qu=i.p+"duck_bill.966ff858d718072aae75.png",Ku=i.p+"duck_forges.52c157bd0cc621f324e1.png",ju=i.p+"duck_guard.d4ebb8f84ebdd68f3da2.png",Yu=i.p+"duck_happy.b8afd923624d1ef9061d.png",Gu=i.p+"duck_hello.c865862ea6c03bf4088b.png",Qu=i.p+"duck_no-data.21cf5ad05a9a06aebcff.png",Xu=i.p+"duck_run.a70c5e12b26ee1d82b73.png",Ju={hello:pu,snitch:gu,bill:cu,thumbUp:vu,holdTon:wu,happy:mu,noData:fu,forge:du,wait:yu,run:hu,yeee:bu,guard:uu,helloPreview:Gu,snitchPreview:i.p+"duck_snitch.b567535e9c071b993b06.png",billPreview:qu,thumbUpPreview:i.p+"duck_thumb.8d21bd4f32485ac2c2a2.png",holdTonPreview:i.p+"duck_ton.c26fd7a7467b637009fe.png",happyPreview:Yu,noDataPreview:Qu,forgePreview:Ku,waitPreview:i.p+"duck_wait.b0fe6ec6993586b30e65.png",runPreview:Xu,yeeePreview:i.p+"duck_yeee.6a3e6f89a1e9cdb20fc7.png",guardPreview:ju,...e.TI6&&{coreWalletLogo:lu,coreWalletLogoPreview:zu},clockWhite:su,clockWhitePreview:Vu,light:{iconAdd:Kd,iconClock:eu,iconClockBlue:tu,iconClockGray:nu,iconClockGreen:au,iconClockPurple:ou,iconClockPurpleWhite:ru,iconClockRed:iu,iconEarn:Cu,iconEarnPurple:Nu,iconSend:Au,iconSwap:Iu,preview:{iconClock:Fu,iconClockBlue:Ru,iconClockGray:Mu,iconClockGreen:Uu,iconClockPurple:Hu,iconClockPurpleWhite:Wu,iconClockRed:$u}},dark:{iconAdd:qd,iconClock:jd,iconClockBlue:Yd,iconClockGray:Gd,iconClockGreen:Qd,iconClockPurple:Xd,iconClockPurpleWhite:Jd,iconClockRed:Zd,iconEarn:Eu,iconEarnPurple:ku,iconSend:Su,iconSwap:Tu,preview:{iconClock:Bu,iconClockBlue:_u,iconClockGray:xu,iconClockGreen:Lu,iconClockPurple:Du,iconClockPurpleWhite:Ou,iconClockRed:Pu}}};function Zu(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:400;le((()=>{t.TF||n||setTimeout((()=>{var t;null===(t=e.current)||void 0===t||t.focus()}),a)}),[e,a,n])}const em="A4iuMrwm",tm="lTI19L4Y",nm="Q6nK70OA",am="Hzc2OPCD",[om,rm]=E(0);function im(){const e=om();rm(Math.max(0,e-1))}function sm(){return om()>0}const lm=pe($e((e=>{var t;const{areSettingsOpen:n,isExploreOpen:a}=e,{activeContentTab:o}=null!==(t=Ze(e))&&void 0!==t?t:{};return{areSettingsOpen:n,areAssetsActive:o===fn.Assets,isExploreOpen:a}}))((function(t){let{areSettingsOpen:n,areAssetsActive:a,isExploreOpen:o}=t;const{openSettings:r,closeSettings:i,setActiveContentTab:s,closeSiteCategory:l,selectToken:c,openExplore:d,closeExplore:u}=He(),m=vs(),[p,f]=ie(sm()),h=!o&&!n;gs((()=>om.subscribe((()=>{f(sm())}))));const g=$r((()=>{u(void 0,{forceOnHeavyAnimation:!0}),i(void 0,{forceOnHeavyAnimation:!0}),!a&&h&&(c({slug:void 0},{forceOnHeavyAnimation:!0}),s({tab:fn.Assets},{forceOnHeavyAnimation:!0}))})),v=$r((()=>{o&&l(void 0,{forceOnHeavyAnimation:!0}),i(void 0,{forceOnHeavyAnimation:!0}),d(void 0,{forceOnHeavyAnimation:!0})})),w=$r((()=>{u(void 0,{forceOnHeavyAnimation:!0}),r(void 0,{forceOnHeavyAnimation:!0})}));return Ql({isActive:o,onBack:g}),he.createElement("div",{className:ps("QlVPgZym",p&&"YMl6tuqD")},he.createElement(ec,{isSimple:!0,className:ps(em,h&&tm),onClick:g},he.createElement("i",{className:ps(nm,"icon-wallet")}),he.createElement("span",{className:am},m("Wallet"))),!e.TI6&&he.createElement(ec,{isSimple:!0,className:ps(em,o&&tm),onClick:v},he.createElement("i",{className:ps(nm,"icon-explore")}),he.createElement("span",{className:am},m("Explore"))),he.createElement(ec,{isSimple:!0,className:ps(em,n&&tm),onClick:w},he.createElement("i",{className:ps(nm,"icon-settings")}),he.createElement("span",{className:am},m("Settings"))))})));function cm(e){le((()=>{if(e)return function(){const e=om();rm(e+1)}(),im}),[e])}function dm(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(";")}let um,mm;async function pm(){return um||(um=i.e(949).then(i.bind(i,70949)).then((e=>e.default)),mm=await um),um}function fm(){return mm}function hm(e){const t=e.replace("#","");return[parseInt(t.substring(0,2),16),parseInt(t.substring(2,4),16),parseInt(t.substring(4,6),16)]}function gm(e){let[t,n,a]=e.map((e=>e/255));[t,n,a]=[t,n,a].map((e=>e>.04045?((e+.055)/1.055)**2.4:e/12.92));let o=.4124*t+.3576*n+.1805*a,r=.2126*t+.7152*n+.0722*a,i=.0193*t+.1192*n+.9505*a;return[o,r,i]=[o/.95047,r,i/1.08883].map((e=>e>.008856?e**(1/3):7.787*e+16/116)),[116*r-16,500*(o-r),200*(r-i)]}setTimeout(pm,3e3);const vm=v(),wm=v();function ym(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a=$r(e),o=$r(t);le((()=>{if(!n)return B()&&a(),vm.addCallback(a),wm.addCallback(o),()=>{wm.removeCallback(o),vm.removeCallback(a)}}),[n,o,a])}B.subscribe((()=>{B()?vm.runCallbacks():wm.runCallbacks()}));const bm=v(),Em=v();const km=new Map,Cm=pe((e=>{let{ref:n,renderId:a,className:o,style:r,tgsUrl:i,play:s,playSegment:l,speed:c,noLoop:d,size:u,shouldStretch:m,quality:p,isLowPriority:f,color:h,forceOnHeavyAnimation:g,forceInBackground:w,sharedCanvas:y,sharedCanvasCoords:b,onClick:E,onLoad:C,onEnded:N,onLoop:S}=e,A=me(null);n&&(A=n);const T=we(),[I,B]=ie(),_=me(),x=me(!0),L=s||!1!==s&&l,D=Wr(s),O=Wr(l),P=me(),F=me(!1);le((()=>()=>{F.current=!0}),[]),_l((()=>{if(h){const[e,t,n]=hm(h);P.current=[e,t,n]}else P.current=void 0}),[h]);const R=$r((()=>{if(_.current||F.current||!i||y&&(!b||!y.offsetWidth||!y.offsetHeight))return;const e=A.current||y;if(!e)return;const t=fm().init(i,e,a||(0,ve.A)(),{size:u,shouldStretch:m,noLoop:d,quality:p,isLowPriority:f,coords:b},T,P.current,C,N,S);c&&t.setSpeed(c),B(t),_.current=t}));le((()=>{fm()?R():pm().then(R)}),[R,i,y,b]);const M=Wd(R,[R],150);!function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a=Wr(t);le((()=>{const t=e&&"current"in e?e.current:e;if(!t||n)return;const o=e=>{let[t]=e;t.target.offsetWidth&&t.target.offsetHeight&&a.current(t)};let[r,i]=km.get(t)||[void 0,void 0];return r||(i=v(),r=new IntersectionObserver(i.runCallbacks),km.set(t,[r,i]),r.observe(t)),i.addCallback(o),()=>{i.removeCallback(o),i.hasCallbacks()||(r.unobserve(t),r.disconnect(),km.delete(t))}}),[n,a,e])}(y,M),le((()=>{I&&I.setColor(P.current)}),[h,I]),le((()=>()=>{var e;null===(e=_.current)||void 0===e||e.removeView(T)}),[T]);const U=$r((function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];I&&(D.current||O.current)&&!Nm(g,w)&&(O.current?I.playSegment(O.current,e,T):I.play(e,T))})),H=$r((()=>{(0,k.YS)(U)})),W=$r((()=>{null!=I&&I.isPlaying()&&I.pause(T)}));if(vl((e=>{let[t]=e;void 0!==t&&d!==t&&(null==I||I.setNoLoop(d))}),[d,I]),vl((e=>{let[t]=e;void 0!==t&&b!==t&&(null==I||I.setSharedCanvasCoords(T,b))}),[b,T,I]),le((()=>{I&&(L?Nm(g,w)||U(d):W())}),[I,L,d,U,W,g,w]),le((()=>{I&&(x.current?x.current=!1:i&&(I.changeData(i),U(d)))}),[U,I,i,d]),ym(W,U,g||t.pz||!L),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a=$r(e),o=$r(t);le((()=>{if(!n)return bm.addCallback(a),Em.addCallback(o),()=>{Em.removeCallback(o),bm.removeCallback(a)}}),[n,a,o])}(W,U,!L),Yr(W,H,!L||w),!y)return he.createElement("div",{ref:A,className:o,style:dm(void 0!==u&&!m&&`width: ${u}px; height: ${u}px;`,E&&!t.cp&&"cursor: pointer",r),onClick:E})}));function Nm(){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!(arguments.length>0&&void 0!==arguments[0]&&arguments[0])&&!t.pz&&B()||!e&&Gr()}function Sm(){return Sm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Sm.apply(null,arguments)}const Am=pe((function(e){const{size:t,play:n=!0,noLoop:a=!0,className:o,noTransition:r,nonInteractive:i,onLoad:s,onClick:l,...c}=e,[d,u]=Rd(!1),m=Vd(r||d),p=$r((()=>{u(),null==s||s()})),[f,h]=ie(String(Math.random())),g=$r((()=>{!0===n&&h(String(Math.random())),null==l||l()}));return he.createElement(Cm,Sm({className:ps(o,m),size:t,play:!0===n?f:n,noLoop:a,onClick:i?void 0:g,onLoad:p},c))})),Tm="haM4SCte";function Im(){return Im=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Im.apply(null,arguments)}const Bm=new Set,_m=150,xm=pe($e((t=>({noAnimation:t.settings.animationLevel===e.dnp})))((function(e){const{size:t=_m,previewUrl:n,iconPreviewClass:a,thumbDataUri:o,className:r,noAnimation:i,noPreviewTransition:s,...l}=e,[c,d]=Rd(Boolean(a)||Boolean(o)||Bm.has(n)),u=Vd(c&&!s),[m,p,f]=Rd(!1);le((()=>{i&&f()}),[f,i]);const h=$r((()=>{d(),Bm.add(n)}));return he.createElement("div",{className:ps(r,"aNPdKxlh",!s&&u),style:dm(void 0!==t&&!l.shouldStretch&&`width: ${t}px; height: ${t}px;`),"data-preview-url":n},o&&!n&&!m&&he.createElement("img",{src:o,className:Tm}),n&&!m&&he.createElement("img",{src:n,className:Tm,onLoad:h}),a&&!m&&he.createElement("i",{className:ps(Tm,a),"aria-hidden":!0}),!i&&he.createElement(Am,Im({size:t},l,{onLoad:p,noTransition:!0})))}))),Lm="LCV_ofSL",Dm="O85V9ajV",Om="ijuURRdU",Pm="hhZYLQar",Fm="sAhrzaLV",Rm="Vvta_r3C",Mm="Q9N6yVvw",Um="dGKNlTrc",Hm="PFA7oH6u",Wm=pe((function(e){let{ref:t,id:n,label:a,placeholder:o,inputMode:r,isRequired:i,isDisabled:s,isMultiline:l,hasError:c,type:d="text",error:u,value:m="",maxLength:p,inputArg:f,className:h,wrapperClassName:g,autoComplete:v,autoCorrect:w,children:y,onInput:b,onKeyDown:E,onFocus:C,onBlur:N}=e;const S=vs(),[A,T]=ie(!1),I=e=>{b(e.currentTarget.value,f)},B="text"===d||A?"text":"password",_=ps(Dm,h,"password"===d&&"MawuFp3r",(c||u)&&Pm,s&&Fm),x=ps(Um,(c||u)&&Pm,(c||u)&&"password"===d&&"i9G7zfox");return he.createElement("div",{className:ps(Lm,g)},u&&!!a&&he.createElement("label",{className:ps(Um,Hm,Pm),htmlFor:n},u),!!a&&he.createElement("label",{className:x,htmlFor:n},a),l?he.createElement("textarea",{ref:t,id:n,className:_,value:m,disabled:s,maxLength:p,autoComplete:v,onInput:I,onChange:e=>{const{currentTarget:t}=e,{scrollHeight:n}=t;(0,k.RK)((()=>{t.style.height="0",t.style.height=`${n}px`}))},onKeyDown:E,onFocus:C,onBlur:N,tabIndex:0,required:i,placeholder:o}):he.createElement("input",{ref:t,id:n,className:_,type:B,value:m,disabled:s,inputMode:r,maxLength:p,autoComplete:v,autoCorrect:w,spellCheck:w,onInput:I,onKeyDown:E,onFocus:C,onBlur:N,tabIndex:0,required:i,placeholder:o}),"password"===d&&he.createElement("button",{className:ps("tXgxOPqo",a&&"uXlOxDsj"),type:"button",onClick:()=>{T(!A)},"aria-label":S("Change password visibility"),tabIndex:-1},he.createElement("i",{className:A?"icon-eye":"icon-eye-closed","aria-hidden":!0})),u&&!a&&he.createElement("label",{className:ps(Um,"fAnhlq4h",Pm),htmlFor:n},u),y)}));function $m(e,t,n,a){return Vm("animationend",e,t,n,a)}function Vm(e,t,n,a,o){let r=!1;function i(){t.removeEventListener(e,s)}function s(e){r||e.target!==e.currentTarget||a&&(e instanceof TransitionEvent&&e.propertyName===a||e instanceof AnimationEvent&&e.animationName===a)||(r=!0,i(),setTimeout((()=>{n()}),50))}return t.addEventListener(e,s),o&&setTimeout((()=>{r||(i(),n())}),o),i}const zm=d.qM.easeOutCubic,qm="swipe-disabled";let Km,jm,Ym,Gm,Qm=!1;function Xm(e,n){return js(e,{swipeThreshold:10,withNativeDrag:!0,excludedClosestSelector:`.${qm}`,onSwipe(e,a,o){if(a===$s.Left){var r;null===(r=n.onSwipeLeftStart)||void 0===r||r.call(n)}else{if(a!==$s.Right)return!1;var i;null===(i=n.onSwipeRightStart)||void 0===i||i.call(n)}return t.pz&&(Qm=!0,Km=o),!0},onDrag(e,t,n){var a;Qm&&(null===(a=jm)||void 0===a||a(n))},onRelease(){var e;Qm&&(Qm=!1,null===(e=Ym)||void 0===e||e(n.onCancel),jm=void 0,Ym=void 0)}})}function Jm(e,t){e.map((e=>e.getAnimations())).flat().forEach((e=>{e.currentTime=e.effect.getTiming().duration*t}))}function Zm(e){const t=e.match(/([XY])\((-?\d+)(%|px)\)/);if(t)return{axis:t[1],value:Number(t[2]),units:t[3]}}const ep="jLzZScDB",tp="oVsGIXA4",np=pe((function(e){let{value:t,children:n,className:a,isDisabled:o,onClick:r}=e;const[i,s]=ie(!1);return he.createElement("div",{onMouseDown:o?void 0:()=>{tr(),null==r||r(t),s(!0),setTimeout((()=>{s(!1)}),200)},className:ps("lnaBx8hc",i&&"qBoIeNzV",a),role:"button",tabIndex:0},t||n)})),ap=4,op=1500,rp=pe($e((e=>{const{isPinAccepted:t}=e;return{isPinAccepted:t}}),((e,t,n)=>{const{isPinAccepted:a}=e;return n(a)}))((function(e){let{isActive:n,title:a,type:o,value:r,resetStateDelayMs:i=op,length:s=ap,isPinAccepted:l,className:c,isMinified:d,onBiometricsClick:u,onChange:m,onClearError:p,onSubmit:f}=e;const{clearIsPinAccepted:h}=He(),g=Yo(),v=r.length>0,w="success"===o||l,y=Bl(l),b=w||r.length===s&&"error"!==o,E=ps("r4k7w6HQ","error"===o&&ep,w&&tp);le((()=>{y&&!l&&s===r.length&&m("")}),[l,s,m,y,r.length]),le((()=>()=>{h()}),[]),vl((e=>{let[a]=e;t.bA&&(n?ms.clearScrollPatch():a&&ms.applyScrollPatch())}),[n]),le((()=>{if("error"!==o)return;const e=window.setTimeout((()=>{r.length===s&&m(""),null==p||p()}),i);return nr(),()=>{window.clearTimeout(e)}}),[s,m,p,i,o,r.length]),le((()=>{if(n)return el(),()=>{tl()}}),[n]);const k=$r((e=>{if(r.length!==s&&0!==r.length||null==p||p(),r.length===s)return void m(e);const t=`${r}${e}`;m(t),t.length===s&&f(t)})),C=$r((()=>{null==p||p(),r.length&&m(r.slice(0,-1))}));return he.createElement("div",{className:ps("Lbq2gMzt",c,qm)},he.createElement("div",{className:E},a),function(){const e=ps("__vkSP7q","error"===o&&"LI_tisFH",w&&"HnSSbC5N");return he.createElement("div",{className:e,"aria-hidden":!0},Array.from({length:s},((e,t)=>he.createElement("div",{key:t,className:ps("CH4h9HQz",t<r.length&&"r_kAZ0Dm","error"===o&&ep,w&&tp)}))))}(),he.createElement("div",{className:ps("CUQ0KIAI",d&&"MGnO4hqt")},he.createElement(np,{value:"1",onClick:k,isDisabled:b}),he.createElement(np,{value:"2",onClick:k,isDisabled:b}),he.createElement(np,{value:"3",onClick:k,isDisabled:b}),he.createElement(np,{value:"4",onClick:k,isDisabled:b}),he.createElement(np,{value:"5",onClick:k,isDisabled:b}),he.createElement(np,{value:"6",onClick:k,isDisabled:b}),he.createElement(np,{value:"7",onClick:k,isDisabled:b}),he.createElement(np,{value:"8",onClick:k,isDisabled:b}),he.createElement(np,{value:"9",onClick:k,isDisabled:b}),u?he.createElement(np,{onClick:u,isDisabled:w},he.createElement("i",{className:ps("icon",g?"icon-face-id":"icon-touch-id"),"aria-hidden":!0})):he.createElement("span",null),he.createElement(np,{value:"0",onClick:k,isDisabled:b}),he.createElement(np,{className:!v&&"c_i4rWyo",isDisabled:!v||w,onClick:C},he.createElement("i",{className:"icon icon-backspace","aria-hidden":!0}))))}))),ip=180,sp=pe($e((e=>{const{isPasswordNumeric:t,authConfig:n}=e.settings;return{isPasswordNumeric:t,isBiometricAuthEnabled:mt(e),isNativeBiometricAuthEnabled:pt(e),authConfig:n}}))((function(n){let{isActive:a,isLoading:o,operationType:r,isPasswordNumeric:i,isBiometricAuthEnabled:s,isNativeBiometricAuthEnabled:l,authConfig:d,cancelLabel:u,submitLabel:m,stickerSize:p=ip,placeholder:f="Enter your password",error:h,help:g,resetStateDelayMs:v,containerClassName:w,children:y,withCloseButton:b,noAnimatedIcon:E,inputWrapperClassName:k,forceBiometricsInMain:C,onUpdate:N,onCancel:S,onSubmit:A}=n;const{openSettings:T}=He(),I=vs(),B=me(null),[_,x]=ie(""),[L,D]=ie(""),[O,P]=ie(0),[F,R,M]=Rd(!1),{isSmallHeight:U,isPortrait:H}=po(),W=!_.length,$=Qo();le((()=>{a&&(D(""),x(""),P(0))}),[a]),cm(Boolean(a));const V=$r((async()=>{try{const e=await Ma(d);e?A(e):(P(O+1),D("Biometric confirmation failed"),t.xy&&O>2&&R())}catch(e){D(e.message||I("Something went wrong."))}}));le((()=>{(!t.KI||C)&&a&&s&&(0,c.v7)(300).then(V)}),[C,V,a,s]),Zu(B,!a||s);const z=$r((()=>{D(""),N()})),q=$r((()=>{M(),null==S||S(),T()})),K=$r((e=>{x(e),h&&N()})),j=$r((()=>{A(_)}));if(le((()=>W||o?void 0:Qs({onEnter:j})),[j,o,W]),$){const t=Boolean(L||h),n=function(){switch(r){case"unfreeze":return"Confirm Unfreezing";case"passcode":return"Confirm Passcode";case"transfer":case"sending":return"Confirm Sending";case"staking":return"Confirm Staking";case"unstaking":return"Confirm Unstaking";case"swap":return"Confirm Swap";case"unlock":return;case"claim":return"Confirm Rewards Claim";default:return"Confirm Action"}}(),o=I(l?Yo()?"Enter code or use Face ID":Go()?"Enter code or use Touch ID":"Enter code or use biometrics":"Enter code");return he.createElement(he.Fragment,null,b&&he.createElement(ec,{isRound:!0,className:ps(Vc.closeButton,"twjZlrDJ"),ariaLabel:I("Close"),onClick:S},he.createElement("i",{className:ps(Vc.closeIcon,"icon-close"),"aria-hidden":!0})),he.createElement("div",{className:"sftOkqxr"},H&&!E&&he.createElement(xm,{play:a,tgsUrl:Ju.guard,previewUrl:Ju.guardPreview,noLoop:!1,nonInteractive:!0}),!U&&n&&he.createElement("div",{className:"kC9WGOYP"},I(n)),y),he.createElement(rp,{isActive:a,title:I(t?L||h:U&&n?n:o),type:t?"error":void 0,length:e.NEx,resetStateDelayMs:v,value:_,onBiometricsClick:l?V:void 0,onChange:x,onClearError:z,onSubmit:A}))}const Y="unlock"===r,G=ps(Vc.footerButtons,Y&&Vc.footerButtonFullWidth);return he.createElement("div",{className:ps(Vc.transitionContent,w)},!E&&he.createElement(xm,{tgsUrl:Ju.holdTon,previewUrl:Ju.holdTonPreview,play:a,size:p,nonInteractive:!0,noLoop:!1,className:"ifHfFY2u"}),y,s?function(){const e=L||h;return e?he.createElement("div",{className:"ZokzPDAj"},I(e)):he.createElement("div",{className:"SDEJGboy"},I("transfer"===r?"Please confirm transaction using biometrics":"Please confirm operation using biometrics"))}():he.createElement(he.Fragment,null,he.createElement(Wm,{ref:B,type:"password",isRequired:!0,id:"first-password",wrapperClassName:k,inputMode:i?"numeric":void 0,error:h?I(h):L,placeholder:I(f),value:_,onInput:K,maxLength:i?e.NEx:void 0}),L&&he.createElement("div",{className:"q8niLQND"},I(L)),g&&!h&&he.createElement("div",{className:"C3jlHNpF"},g)),he.createElement("div",{className:G},S&&he.createElement(ec,{isLoading:o&&s,isDisabled:o&&!s,className:Vc.buttonHalfWidth,onClick:S},u||I("Cancel")),s&&Boolean(L)&&he.createElement(ec,{isPrimary:!0,isLoading:o,isDisabled:o,className:Vc.buttonHalfWidth,onClick:o?void 0:V},I("Try Again")),!s&&he.createElement(ec,{isPrimary:!0,isLoading:o,isDisabled:W,className:Y?Vc.buttonFullWidth:Vc.buttonHalfWidth,onClick:o?void 0:j},m||I("Send"))),he.createElement(Yc,{isOpen:F,isCompact:!0,title:I("Biometric authentication failed"),onClose:M},he.createElement("p",{className:Vc.text},I("Reinstall biometrics in your device's system settings, or use a passcode.")),he.createElement("div",{className:Vc.buttons},he.createElement(ec,{className:Vc.button,onClick:M},I("Close")),he.createElement(ec,{isPrimary:!0,className:Vc.button,onClick:q},I("Settings")))))})));function lp(e){e.offsetWidth}const cp=Xn.Z2,dp="Transition_slide-active",up="Transition_slide-from",mp="Transition_slide-to",pp="Transition_slide-inactive",fp=dp,hp=mp,gp=function(t){let{ref:n,activeKey:a,nextKey:o,prevKey:r,name:i,direction:s="auto",renderCount:l,shouldRestoreHeight:c,shouldCleanup:u,cleanupExceptionKey:m,shouldWrap:p,wrapExceptionKey:f,id:h,className:g,slideClassName:v,withSwipeControl:w,onStart:y,onStop:b,onContainerClick:E,children:C}=t;const N=me(),{animationLevel:S}=Me().settings,A=S===e.dnp;let T=me(null);n&&(T=n);const I=me({}),B=Bl(a),x=ge(),L=me(!1),D=me(!1),O=void 0!==B&&a!==B;!l&&O&&(I.current={[B]:I.current[B]}),I.current[a]=C,r&&(I.current[r]=C),o&&(I.current[o]=C);const P=-1===s||"auto"===s&&B>a||"inverse"===s&&B<a;ce((()=>{function e(){if(!u)return;const e=void 0!==m?I.current[m]:void 0;I.current=e?{[m]:e}:{},x()}const t="slideOptimized"===i||"slideOptimizedRtl"===i,n=T.current,o=Object.keys(I.current).map(Number),r=l?B:o.indexOf(B),s=l?a:o.indexOf(a),p=Array.from(n.childNodes);if(!p.length)return;const f=Array.from(n.children);if(f.forEach((e=>{Fc(e,"Transition_slide"),v&&v.split(/\s+/).forEach((t=>{Fc(e,t)}))})),!O){if(L.current)return;return void f.forEach((e=>{e===p[s]?(Fc(e,dp),t&&Uc(e,{transition:"none",transform:"translate3d(0, 0, 0)"})):t||Fc(e,pp)}))}if(N.current=a,t){if(!p[s])return;return void function(e,t,n,a,o,r,i,s,l,c,d,u,m){if(e)return Mc(s,`Transition-${t}`,!n),Mc(s,`Transition-${t}Backwards`,n),c instanceof HTMLElement&&(Rc(c,dp),Uc(c,{transition:"none",transform:""})),l instanceof HTMLElement&&(Fc(l,dp),Uc(l,{transition:"none",transform:"translate3d(0, 0, 0)"})),void a();"slideOptimizedRtl"===t&&(n=!n),i.current=!0;const p=_();null==u||u(),Mc(s,`Transition-${t}`,!n),Mc(s,`Transition-${t}Backwards`,n),c instanceof HTMLElement&&Uc(c,{transition:"none",transform:"translate3d(0, 0, 0)"}),l instanceof HTMLElement&&Uc(l,{transition:"none",transform:`translate3d(${n?"-":""}100%, 0, 0)`}),(0,k.gm)((()=>(l instanceof HTMLElement&&lp(l),()=>{c instanceof HTMLElement&&(Rc(c,dp),Uc(c,{transition:"",transform:`translate3d(${n?"":"-"}100%, 0, 0)`})),l instanceof HTMLElement&&(Fc(l,dp),Uc(l,{transition:"",transform:"translate3d(0, 0, 0)"}))}))),Vm("transitionend",l,(()=>{const e=l instanceof HTMLElement?l.clientHeight:void 0;(0,k.RK)((()=>{o===r.current?(c instanceof HTMLElement&&Uc(c,{transition:"none",transform:""}),d&&e&&l instanceof HTMLElement&&(Uc(l,{height:"auto"}),Uc(s,{height:`${e}px`})),null==m||m(),p(),i.current=!1,a()):p()}))}),undefined,undefined)}(A,i,P,e,a,N,L,n,p[s],p[r],c,y,b)}if("none"===i||A||D.current)return D.current&&(D.current=!1),p.forEach(((e,t)=>{e instanceof HTMLElement&&(Rc(e,up),Rc(e,mp),Mc(e,dp,t===s),Mc(e,pp,t!==s))})),void e();p.forEach(((e,t)=>{e instanceof HTMLElement&&(Rc(e,dp),Mc(e,up,t===r),Mc(e,mp,t===s),Mc(e,pp,t!==r&&t!==s))})),L.current=!0;const h=_();function g(){const t=n.querySelector(`.${dp}`),{clientHeight:o}=t||{};(0,k.RK)((()=>{a===N.current?(Rc(n,`Transition-${i}`),Rc(n,`Transition-${i}Backwards`),p.forEach(((e,t)=>{e instanceof HTMLElement&&(Rc(e,up),Rc(e,mp),Mc(e,dp,t===s),Mc(e,pp,t!==s))})),c&&t&&(Uc(t,{height:"auto"}),Uc(n,{height:`${o}px`})),null==b||b(),h(),L.current=!1,e()):h()}))}null==y||y(),Mc(n,`Transition-${i}`,!P),Mc(n,`Transition-${i}Backwards`,P);const E="reveal"!==i&&"slideFadeAndroid"!==i||!P?p[s]:p[r];if(E)if(w&&p[r]){const e=$m(E,g);!function(e,t,n){var a;if(null===(a=Gm)||void 0===a||a(),!Qm)return;const o=function(e){for(const t of e.getAnimations())if(t.effect instanceof KeyframeEffect)for(const e of t.effect.getKeyframes()){if(1!==e.offset||!e.transform)continue;const t=Zm(e.transform);if(t)return t}}(e);if(!o)return;let r;e.getAnimations().forEach((e=>e.pause())),t.getAnimations().forEach((e=>e.pause())),e.style.animationTimingFunction="linear",t.style.animationTimingFunction="linear",(0,k.YS)((()=>{const a=(i=getComputedStyle(e).transform,s=o.axis,i.slice(7,-1).split(",").map(Number)["X"===s?4:5]);var i,s;const l=("px"===o.units?o.value:o.value/100*("X"===o.axis?e.offsetWidth:e.offsetHeight))-a;let c=0;jm=n=>{let{dragOffsetX:a,dragOffsetY:i}=n;const s="X"===o.axis?a-Km.dragOffsetX:i-Km.dragOffsetY,d=Us(s/l,0,1);r=d>c?1:-1,c=d,Jm([e,t],c)},Ym=a=>{const o=-1===r;function i(){e.getAnimations().forEach((e=>e.cancel())),t.getAnimations().forEach((e=>e.cancel())),(0,k.RK)((()=>{e.style.animationTimingFunction="",t.style.animationTimingFunction=""}))}o||$m(e,i),Gm=(0,d.Hd)({from:c,to:o?0:1,duration:300,timing:zm,onUpdate(n){Jm([e,t],n)},onEnd(){Gm=void 0,(arguments.length>0&&void 0!==arguments[0]&&arguments[0]||o)&&(i(),n(),a())}})}}))}(p[r],p[s],(()=>{e(),D.current=!0,null==b||b(),h(),L.current=!1}))}else $m(E,g,void 0,cp);else g()}),[a,o,B,O,P,i,y,b,l,c,u,v,m,A,x,w]),le((()=>{if(!c)return;const e=T.current,t=e.querySelector(`.${dp}`)||e.querySelector(`.${up}`);if(!t)return;const{clientHeight:n}=t||{};n&&(0,k.RK)((()=>{Uc(t,{height:"auto"}),Uc(e,{height:`${n}px`,flexBasis:`${n}px`})}))}),[c,C]);const F=!l,R=I.current,M=Object.keys(l?new Array(l).fill(void 0):R).map(Number).map((e=>{const t=R[e];if(!t)return;const n="function"==typeof t?t(e===a,e===B,e,a):t;return p&&e!==f||F?he.createElement("div",{key:e,teactOrderKey:e},n):n}));return he.createElement("div",{ref:T,onClick:E,id:h,className:ps("Transition",g),teactFastList:F},M)},vp="BTI1cF2x",wp="Ut7tq0ls",yp=i.p+"logoCoreWallet.7209423c2390840b4a91.svg",bp=i.p+"logoDark.db78fa7a76eea19a30e7.svg",Ep=i.p+"logoLight.c9797ad4583a416a16c9.svg",kp=["focus","mousemove","touch","wheel","keydown"],Cp={capture:!0};var Np=function(e){return e[e.button=0]="button",e[e.passwordForm=1]="passwordForm",e}(Np||{});const[Sp,Ap]=E(Date.now()),Tp=pe($e((t=>{const{autolockValue:n,isAppLockEnabled:a}=t.settings,o=ot(t),r=mt(t),i=pt(t);return{isNonNativeBiometricAuthEnabled:r&&(!i||e.tKX),autolockValue:a?n:void 0,isAppLockEnabled:a,theme:t.settings.theme,isHardwareAccount:o,isManualLockActive:t.isManualLockActive,shouldHideBiometrics:t.appLockHideBiometrics}}))((function(a){let{isNonNativeBiometricAuthEnabled:o,autolockValue:r="never",theme:i,isHardwareAccount:s,isManualLockActive:l,isAppLockEnabled:c,shouldHideBiometrics:d}=a;const{setIsPinAccepted:u,clearIsPinAccepted:m,submitAppLockActivityEvent:p,setIsManualLockActive:f}=He(),h=vs(),g=Fd(i),v=e.TI6?yp:"light"===g?Ep:bp,[w,y,b]=Rd(("never"!==r||l)&&!s),[E,k,C]=Rd(w),N=me(Date.now()),[S,A]=ie(Gr()?Np.button:Np.passwordForm),[T,I]=ie(""),B=$r((()=>{t.bA?p():N.current=Date.now()})),_=Wd(B,[B],5e3),x=$r((()=>{var e;C(),A(Np.button),null===(e=_s())||void 0===e||e.show(),m(),B(),f({isActive:void 0,shouldHideBiometrics:void 0}),t.KI&&ms.show()})),L=de((()=>e.zTb.find((e=>e.value===r)).period),[r]),{transitionClassNames:D}=ws(w,x,!0,"slow"),O=$r((()=>{var e;y(),k(),t.KI&&ms.hide(),null===(e=_s())||void 0===e||e.hide(),A(Np.button)})),P=$r((()=>{"never"===r&&!l||s||O()}));e.Oig&&(window.lock=P),!l||w||E||P();const F=$r((()=>{A(Np.passwordForm)})),R=$r((async e=>{await(0,n.p)("verifyPassword",e)?(Qo()&&(u(),await ar(!0)),b()):I("Wrong password, please try again.")})),M=$r((()=>I("")));gs((()=>{for(const e of kp)window.addEventListener(e,_,Cp);return()=>{for(const e of kp)window.removeEventListener(e,_,Cp)}})),gs((()=>{if(!t.bA)return Sp.subscribe(_)}));const U=$r((e=>{fs(e),f({isActive:!0,shouldHideBiometrics:!0})}));function H(){return he.createElement("div",{className:wp},he.createElement(zd,{className:wp,imageClassName:wp,url:v,alt:"Logo"}))}Hd(de((()=>c&&!w?{"Ctrl+Shift+L":U,"Alt+Shift+L":U,"Meta+Shift+L":U,...t.cp&&{"Mod+L":U}}:void 0),[c,w])),le((()=>{if(t.bA)return;const e=setInterval((()=>{c&&!w&&Date.now()-N.current>L&&P()}),5e3);return()=>clearInterval(e)}),[w,L,P,c]),Yr(void 0,F);const W=Number(S===Np.passwordForm)+2*Number(E);if(!t.bA)return he.createElement(gp,{name:o&&e.tKX?"slideFade":"semiFade",onContainerClick:o?F:void 0,activeKey:W,className:ps(D,"mbuGFcLr"),shouldCleanup:!0},E?function(t){const n=o&&S===Np.button;return he.createElement("div",{className:ps("ra8fobWi",o&&"v6O5aP3y")},n?he.createElement(he.Fragment,null,H(),he.createElement("span",{className:ps(vp,"rounded-font")},e.C39),he.createElement(ec,{isPrimary:!0,className:t?void 0:"YltinIdz",onClick:F},h("Unlock"))):he.createElement(sp,{isActive:!jo()||!d,noAnimatedIcon:!0,forceBiometricsInMain:!0,error:T,resetStateDelayMs:300,operationType:"unlock",containerClassName:"gUfrKRnP",inputWrapperClassName:"WLrzziXQ",submitLabel:h("Unlock"),onSubmit:R,onUpdate:M},H(),he.createElement("span",{className:ps(vp,"rounded-font")},e.C39)))}:void 0)}))),Ip=t.xy?`${e.p8S?e.yq6:e.DvZ}/version.txt`:"version.txt";async function Bp(){const t=await Promise.all([i.e(494),i.e(612),i.e(776),i.e(432)]).then(i.bind(i,95683));let n;return n=!e.UMQ&&await t.connectLedger()||!e.hL1?ln.Connect:ln.WaitingForBrowser,n}let _p;We("showActivityInfo",((e,n,a)=>{let{id:o}=a;if(!t.bA)return fi(e,{currentActivityId:o});ni("showActivityInfo",{id:o})})),We("showAnyAccountTx",(async(e,n,a)=>{let{txId:o,accountId:r,network:i}=a;t.bA?ni("showAnyAccountTx",{txId:o,accountId:r,network:i}):(await Promise.all([xs(),Zi(e,r,i)]),n.showActivityInfo({id:o}))})),We("showAnyAccountTokenActivity",(async(e,n,a)=>{let{slug:o,accountId:r,network:i}=a;t.bA?ni("showAnyAccountTokenActivity",{slug:o,accountId:r,network:i}):(await Promise.all([xs(),Zi(e,r,i)]),n.showTokenActivity({slug:o}))})),We("closeActivityInfo",((e,t,n)=>{var a;let{id:o}=n;if((null===(a=Ze(e))||void 0===a?void 0:a.currentActivityId)===o)return fi(e,{currentActivityId:void 0})})),We("addSavedAddress",((e,t,n)=>{let{address:a,name:o,chain:r}=n;const{savedAddresses:i=[]}=Ze(e)||{};return fi(e,{savedAddresses:[...i,{address:a,name:o,chain:r}]})})),We("removeFromSavedAddress",((e,t,n)=>{let{address:a,chain:o}=n;const{savedAddresses:r=[]}=Ze(e)||{};return fi(e,{savedAddresses:r.filter((e=>!(e.address===a&&e.chain===o)))})})),We("toggleTinyTransfersHidden",(function(e,t){let{isEnabled:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{...e,settings:{...e.settings,areTinyTransfersHidden:n}}})),We("setCurrentTokenPeriod",((e,t,n)=>{let{period:a}=n;return fi(e,{currentTokenPeriod:a})})),We("addAccount",(async(e,a,o)=>{let{method:r,password:i,isAuthFlow:s}=o;const l=tt(e),c="importMnemonic"===r;if(l){if(!await(0,n.p)("verifyPassword",i))return e=Me(),e=s?si(e,{isLoading:void 0,error:"Wrong password, please try again."}):li(Me(),{isLoading:void 0,error:"Wrong password, please try again."}),void Ue(e);Qo()&&(e=ci(Me()),Ue(e)),await ar(!0)}e=Me(),e=c||!l?{...e,isAddAccountModalOpen:void 0}:li(e,{isLoading:!0}),Ue(e),t.bA?ni("addAccount2",{method:r,password:i}):a.addAccount2({method:r,password:i})})),We("addAccount2",((e,n,a)=>{let{method:o,password:r}=a;const i="importMnemonic"===o,s=tt(e),l=s?i?Zt.importWallet:void 0:Qo()?Zt.createPin:t.uh?Zt.createBiometrics:Zt.createPassword;!i&&s||(e={...e,appState:Jt.Auth}),e=Ii(e=xi(e=si(e,{password:r,state:l}))),Ue(e),i?n.startImportingWallet():n.startCreatingWallet()})),We("renameAccount",((e,t,n)=>{let{accountId:a,title:o}=n;e={...e,shouldForceAccountEdit:!1},Ue(function(e,t,n){return mi(e,t,{title:n})}(e,a,o)),t.renameNotificationAccount({accountId:a})})),We("clearAccountError",(e=>li(e,{error:void 0}))),We("openAddAccountModal",((e,n,a)=>{!t.bA||e.areSettingsOpen?(e={...e,isAddAccountModalOpen:!0},Ue(e)):ni("openAddAccountModal",a)})),We("closeAddAccountModal",(e=>(Qo()&&(e=di(e)),{...e,isAddAccountModalOpen:void 0}))),We("changeNetwork",((e,t,n)=>{let{network:a}=n;return{...e,settings:{...e.settings,isTestnet:"testnet"===a}}})),We("openSettings",(e=>(e=vi(e,{state:un.Initial}),{...e,areSettingsOpen:!0}))),We("openSettingsWithState",((e,n,a)=>{let{state:o}=a;!t.bA||e.areSettingsOpen?(e=vi(e,{state:o}),Ue({...e,areSettingsOpen:!0})):ni("openSettingsWithState",{state:o})})),We("setSettingsState",((e,t,n)=>{let{state:a}=n;e=vi(e,{state:a}),Ue(e)})),We("closeSettings",(e=>e.currentAccountId?{...e,areSettingsOpen:!1}:e)),We("openBackupWalletModal",(e=>{if(!t.bA)return{...e,isBackupWalletModalOpen:!0};ni("openBackupWalletModal")})),We("closeBackupWalletModal",(e=>({...e,isBackupWalletModalOpen:void 0}))),We("initializeHardwareWalletModal",(async(e,t)=>{const n=await Promise.all([i.e(494),i.e(612),i.e(776),i.e(432)]).then(i.bind(i,95683)),{isBluetoothAvailable:a,isUsbAvailable:o}=await n.detectAvailableTransports(),r=[];o&&r.push("usb"),a&&r.push("bluetooth"),0===r.length?t.showNotification({message:"Ledger is not supported on this device."}):1===r.length?t.initializeHardwareWalletConnection({transport:r[0]}):(e=gi(Me(),{availableTransports:r}),Ue(e))})),We("initializeHardwareWalletConnection",(async(n,a,o)=>{if(t.KI&&o.shouldDelegateToNative)return void ai("initializeHardwareWalletConnection",{transport:o.transport});const r=()=>{n=Me(),n=gi(Me(),{hardwareState:ln.Connecting}),Ue(n)};r();const s=await Promise.all([i.e(494),i.e(612),i.e(776),i.e(432)]).then(i.bind(i,95683));if(await s.connectLedger(o.transport))return void a.connectHardwareWallet({transport:o.transport});if(!e.hL1)return n=gi(n=Me(),{isLedgerConnected:!1,hardwareState:ln.Failed}),void Ue(n);n=gi(Me(),{hardwareState:ln.WaitingForBrowser}),Ue(n),await(0,c.v7)(500);const l=await async function(){const e=await chrome.tabs.create({url:"index.html#detached",active:!0});return await chrome.windows.update(e.windowId,{focused:!0}),Od=e.id,Od}(),d=await chrome.windows.getCurrent();!function(e){chrome.tabs.onRemoved.addListener((t=>{t===e&&(Od=void 0,(async()=>{await chrome.windows.update(d.id,{focused:!0}),await s.connectLedger(o.transport)?(r(),a.connectHardwareWallet({transport:o.transport})):a.closeHardwareWalletModal()})())}))}(l)})),We("openHardwareWalletModal",(async e=>{const t=await Bp();e=gi(Me(),{hardwareState:t}),Ue({...e,isHardwareModalOpen:!0})})),We("openSettingsHardwareWallet",(async e=>{const t=await Bp();e=vi(e=gi(Me(),{hardwareState:t}),{state:un.LedgerConnectHardware}),Ue(e)})),We("closeHardwareWalletModal",(e=>{Ue({...e,isHardwareModalOpen:!1})})),We("toggleInvestorView",(function(e,t){let{isEnabled:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{...e,settings:{...e.settings,isInvestorViewEnabled:n}}})),We("changeLanguage",((e,t,n)=>{let{langCode:a}=n;return{...e,settings:{...e.settings,langCode:a}}})),We("toggleCanPlaySounds",(function(e,t){let{isEnabled:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{...e,settings:{...e.settings,canPlaySounds:n}}})),We("setLandscapeActionsActiveTabIndex",((e,t,n)=>{let{index:a}=n;return fi(e,{landscapeActionsActiveTabIndex:a})})),We("closeSecurityWarning",(e=>({...e,settings:{...e.settings,isSecurityWarningHidden:!0}}))),We("toggleTokensWithNoCost",((e,t,n)=>{let{isEnabled:a}=n;return vi(e,{areTokensWithNoCostHidden:a})})),We("toggleSortByValue",((e,t,n)=>{let{isEnabled:a}=n;return vi(e,{isSortByValueEnabled:a})})),We("updateOrderedSlugs",((e,t,n)=>{let{orderedSlugs:a}=n;return yi(e,{...at(e),orderedSlugs:a})})),We("toggleTokenVisibility",((e,t,n)=>{var a;let{slug:o,shouldShow:r}=n;const i=null!==(a=at(e))&&void 0!==a?a:{},{alwaysShownSlugs:s=[],alwaysHiddenSlugs:l=[]}=i,c=new Set(s),d=new Set(l);return r?(d.delete(o),c.add(o)):(c.delete(o),d.add(o)),yi(e,{...i,alwaysHiddenSlugs:Array.from(d),alwaysShownSlugs:Array.from(c)})})),We("deleteToken",((e,t,n)=>{var a,o,r,i,s,l;let{slug:c}=n;const d=null!==(a=at(e))&&void 0!==a?a:{};return yi(e,{...d,orderedSlugs:null===(o=d.orderedSlugs)||void 0===o?void 0:o.filter((e=>e!==c)),alwaysHiddenSlugs:null===(r=d.alwaysHiddenSlugs)||void 0===r?void 0:r.filter((e=>e!==c)),alwaysShownSlugs:null===(i=d.alwaysShownSlugs)||void 0===i?void 0:i.filter((e=>e!==c)),deletedSlugs:[...null!==(s=d.deletedSlugs)&&void 0!==s?s:[],c],importedSlugs:null===(l=d.importedSlugs)||void 0===l?void 0:l.filter((e=>e!==c))})})),We("checkAppVersion",(t=>{fetch(`${Ip}?${Date.now()}`).then((e=>e.text())).then((n=>{(function(e,t){const n=e.trim();return!!Dd.test(n)&&n!==t})(n=n.trim(),e.hl5)&&(t=Me(),t={...t,isAppUpdateAvailable:!0,latestAppVersion:n.trim()},Ue(t))})).catch((t=>{e.Oig&&console.error("[checkAppVersion failed] ",t)}))})),We("requestConfetti",(t=>t.settings.animationLevel===e.dnp?t:{...t,confettiRequestedAt:Date.now()})),We("requestOpenQrScanner",(async(e,n)=>{if((0,t.v3)()){const e=ya();return void(null==e||e.showScanQrPopup({},(t=>{ar(),e.closeScanQrPopup(),n.handleQrCode({data:t})})))}if(t.bA)return void ni("requestOpenQrScanner");let a;e.currentTransfer.state===tn.Initial?a={currentTransfer:e.currentTransfer}:e.currentSwap.state===nn.Blockchain&&(a={currentSwap:e.currentSwap});const{camera:o}=await Ld.requestPermissions();"granted"===o||"limited"===o?(e=Me(),e={...e,isQrScannerOpen:!0,currentQrScan:a},Ue(e)):n.showNotification({message:Lr("Permission denied. Please grant camera permission to use the QR code scanner.")})})),We("closeQrScanner",(e=>(t.bA&&ni("closeQrScanner"),{...e,isQrScannerOpen:void 0,currentQrScan:void 0}))),We("handleQrCode",(async(e,n,a)=>{let{data:o}=a;if(t.bA)return void ni("handleQrCode",{data:o});const{currentTransfer:r,currentSwap:i}=e.currentQrScan||{};if(r){const t=Co(o,e);return void(t?("error"in t&&n.showError({error:t.error}),Ue(_i(e,{...r,...(0,s.cJ)(t,["error"])}))):Ue(Oi(_i(e,r),o)))}if(i){var l;const t=Co(o,e),n=null!==(l=null==t?void 0:t.toAddress)&&void 0!==l?l:o;return void Ue(Ti(e,{...i,toAddress:n}))}if(await vo(o))return;const c=function(e,t){var n,a;const o=function(e,t){for(const n of Object.keys(t))if(Mn(e,n))return n}(t,null!==(n=null===(a=Xe(e))||void 0===a?void 0:a.addressByChain)&&void 0!==n?n:{});if(!o)return;const r=e.currentTransfer.tokenSlug;return{toAddress:t,tokenSlug:o!==Cn(r)?kn(o).slug:r}}(e=Me(),o);c?n.startTransfer({...c,isPortrait:fo()}):n.showDialog({title:"This QR Code is not supported",message:""})})),We("changeBaseCurrency",(async(e,a,o)=>{let{currency:r}=o;t.bA&&ni("changeBaseCurrency",{currency:r}),await(0,n.p)("setBaseCurrency",r),await(0,n.p)("tryUpdatePrices"),await Promise.all([(0,n.p)("tryUpdateTokens"),(0,n.p)("tryUpdateSwapTokens")])})),We("setIsPinAccepted",(e=>ci(e))),We("clearIsPinAccepted",(e=>di(e))),We("openOnRampWidgetModal",((e,n,a)=>{let{chain:o}=a;t.bA?ni("openOnRampWidgetModal",{chain:o}):Ue({...e,chainForOnRampWidgetModal:o})})),We("closeOnRampWidgetModal",(e=>{Ue({...e,chainForOnRampWidgetModal:void 0})})),We("openMediaViewer",((e,t,n)=>{let{mediaId:a,mediaType:o,txId:r,hiddenNfts:i,noGhostAnimation:s}=n;const l=Ze(e),{byAddress:c}=(null==l?void 0:l.nfts)||{};if(null==c?void 0:c[a])return{...e,mediaViewer:{mediaId:a,mediaType:o,txId:r,hiddenNfts:i,noGhostAnimation:s}}})),We("closeMediaViewer",(e=>({...e,mediaViewer:{mediaId:void 0,mediaType:void 0}}))),We("openReceiveModal",(e=>{t.bA?ni("openReceiveModal"):Ue({...e,isReceiveModalOpen:!0})})),We("closeReceiveModal",(e=>{Ue({...e,isReceiveModalOpen:void 0})})),We("openInvoiceModal",(e=>{t.bA?ni("openInvoiceModal"):Ue({...e,isInvoiceModalOpen:!0})})),We("closeInvoiceModal",(e=>{Ue({...e,isInvoiceModalOpen:void 0})})),We("showIncorrectTimeError",((e,t)=>(t.showDialog({message:Lr("Time synchronization issue. Please ensure your device's time settings are correct.")}),{...e,isIncorrectTimeNotificationReceived:!0}))),We("initLedgerPage",(e=>{e=gi(e,{isRemoteTab:!0}),Ue({...e,appState:Jt.Ledger})})),We("openLoadingOverlay",(e=>{Ue({...e,isLoadingOverlayOpen:!0})})),We("closeLoadingOverlay",(e=>{Ue({...e,isLoadingOverlayOpen:void 0})})),We("clearAccountLoading",(e=>{Ue(li(e,{isLoading:void 0}))})),We("authorizeDiesel",(t=>{const n=Xe(t).addressByChain.ton;Ue(fi(t,{isDieselAuthorizationStarted:!0})),to(`https://t.me/${e.B9l}?start=auth-${n}`)})),We("submitAppLockActivityEvent",(()=>{t.bA?ni("submitAppLockActivityEvent"):Ap(Date.now())})),We("closeAnyModal",(()=>{t.bA?ni("closeAnyModal"):jc(Date.now())})),We("openExplore",(e=>({...e,isExploreOpen:!0}))),We("closeExplore",(e=>({...e,isExploreOpen:void 0}))),We("openFullscreen",(e=>{Ue({...e,isFullscreen:!0})})),We("closeFullscreen",(e=>{Ue({...e,isFullscreen:void 0})})),We("setIsSensitiveDataHidden",((e,t,n)=>{let{isHidden:a}=n;Ue(vi(e,{isSensitiveDataHidden:!!a||void 0}))})),We("clearDappConnectRequestError",(e=>{e=function(e){return{...e,dappConnectRequest:{...e.dappConnectRequest,error:void 0}}}(e),Ue(e)})),We("showDappTransfer",((e,t,n)=>{const{transactionIdx:a}=n;e=Vi(e,{state:tn.Confirm,viewTransactionOnIdx:a}),Ue(e)})),We("setDappTransferScreen",((e,t,n)=>{const{state:a}=n;e=Vi(e,{state:a}),Ue(e)})),We("submitDappTransferConfirm",((e,t)=>{Je(e,e.currentAccountId).isHardware?(t.resetHardwareWalletConnect(),e=Vi(Me(),{state:tn.ConnectHardware})):e=Vi(e,{state:tn.Password}),Ue(e)})),We("clearDappTransferError",(e=>{e=Vi(e,{error:void 0}),Ue(e)})),We("openBrowser",((e,t,n)=>{let{url:a,title:o,subtitle:r}=n;e={...e,currentBrowserOptions:{url:a,title:o,subtitle:r}},Ue(e)})),We("closeBrowser",(e=>{e={...e,currentBrowserOptions:void 0},Ue(e)})),We("addSiteToBrowserHistory",((t,n,a)=>{let{url:o}=a;const r=Ze(t);t=fi(t,{browserHistory:(0,s.Am)([o,...(null==r?void 0:r.browserHistory)||[]]).slice(0,e.uSm)}),Ue(t)})),We("removeSiteFromBrowserHistory",((e,t,n)=>{var a;let{url:o}=n;const r=Ze(e),i=null==r||null===(a=r.browserHistory)||void 0===a?void 0:a.filter((e=>e!==o));e=fi(e,{browserHistory:null!=i&&i.length?i:void 0}),Ue(e)})),We("updateDappLastOpenedAt",((e,t,n)=>{let{origin:a}=n;const{dappLastOpenedDatesByOrigin:o}=Ze(e);e=fi(e,{dappLastOpenedDatesByOrigin:{...o,[a]:Date.now()}}),Ue(e)})),We("openSiteCategory",((e,t,n)=>{let{id:a}=n;return fi(e,{currentSiteCategoryId:a})})),We("closeSiteCategory",(e=>fi(e,{currentSiteCategoryId:void 0}))),We("switchAccountAndOpenUrl",(async(e,n,a)=>{t.bA?ni("switchAccountAndOpenUrl",a):(await Promise.all([xs(),a.accountId&&Zi(e,a.accountId,a.network)]),await to(a.url,a))})),Pe((e=>{if(!_p)return void(_p=e);const{settings:t}=_p,{settings:n}=e;n.theme!==t.theme&&ml(n.theme),n.langCode!==t.langCode&&Dr(n.langCode),_p=e})),We("setAppLockValue",((e,t,n)=>{let{value:a,isEnabled:o}=n;return{...e,settings:{...e.settings,autolockValue:a,isAppLockEnabled:o}}})),We("setIsManualLockActive",((e,t,n)=>{let{isActive:a,shouldHideBiometrics:o}=n;return{...e,isManualLockActive:a,appLockHideBiometrics:o}})),We("openNftCollection",((e,t,n)=>{let{address:a}=n;const o=e.currentAccountId;return hi(e,o,{nfts:{...et(e,o).nfts,currentCollectionAddress:a}})})),We("closeNftCollection",(e=>fi(e,{nfts:{...Ze(e).nfts,currentCollectionAddress:void 0},selectedNftsToHide:void 0}))),We("selectNfts",((e,t,n)=>{let{addresses:a}=n;e=function(e,t,n){var a;const o=et(e,t).nfts,r=[...null!==(a=null==o?void 0:o.selectedAddresses)&&void 0!==a?a:[],...n];return hi(e,t,{nfts:{...o,selectedAddresses:r}})}(e,e.currentAccountId,a),Ue(e)})),We("selectAllNfts",((e,t,n)=>{let{collectionAddress:a}=n;const o=e.currentAccountId,{blacklistedNftAddresses:r,whitelistedNftAddresses:i}=et(e,o)||{},s=new Set(i),l=new Set(r),{nfts:c}=et(e,o),d=Object.values(c.byAddress).filter((e=>(!e.isHidden||s.has(e.address))&&!l.has(e.address)&&(void 0===a||void 0!==a&&e.collectionAddress===a)));e=hi(e,o,{nfts:{...c,selectedAddresses:d.map((e=>{let{address:t}=e;return t}))}}),Ue(e)})),We("clearNftSelection",((e,t,n)=>{let{address:a}=n;e=function(e,t,n){var a;const o=et(e,t).nfts,r=(null!==(a=null==o?void 0:o.selectedAddresses)&&void 0!==a?a:[]).filter((e=>e!==n));return hi(e,t,{nfts:{...o,selectedAddresses:r.length?r:void 0}})}(e,e.currentAccountId,a),Ue(e)})),We("clearNftsSelection",(e=>{const t=e.currentAccountId;e=hi(e,t,{nfts:{...et(e,t).nfts,selectedAddresses:[]}}),Ue(e)})),We("openVestingModal",(e=>{Ue({...e,isVestingModalOpen:!0})})),We("closeVestingModal",(e=>{Ue({...e,isVestingModalOpen:void 0})})),We("startClaimingVesting",(e=>{if(t.bA)return void ni("startClaimingVesting");const n=e.currentAccountId,{isHardware:a}=Je(e,n);e=Xi(e={...e,isVestingModalOpen:void 0},n,{isConfirmRequested:!0,unfreezeState:a?dn.ConnectHardware:dn.Password}),Ue(e)})),We("cancelClaimingVesting",(e=>{e=Xi(e,e.currentAccountId,{isConfirmRequested:void 0}),Ue(e)})),We("clearVestingError",(e=>{e=Xi(e,e.currentAccountId,{error:void 0}),Ue(e)})),We("rebuildOrderedSlugs",(e=>{var t,n;const a=null!==(t=at(e))&&void 0!==t?t:{},{orderedSlugs:o=[]}=a,r=(null!==(n=kt(e))&&void 0!==n?n:[]).map((e=>{let{slug:t}=e;return t})),i=(0,s.Am)([...o,...r]);return(0,s.k)(o,i)?e:yi(e,{...a,orderedSlugs:i})})),We("showTokenActivity",((e,t,n)=>{let{slug:a}=n;t.selectToken({slug:a},{forceOnHeavyAnimation:!0}),t.setActiveContentTab({tab:fn.Activity})})),We("startTransfer",((e,n,a)=>{var o,r;const i=e.currentTransfer.state!==tn.None;if(t.bA&&!i)return void ni("startTransfer",a);const{isPortrait:s,...l}=null!=a?a:{},c=Symbol("nft"),d=null!==(o=e.currentTransfer.nfts)&&void 0!==o&&o.length?c:e.currentTransfer.tokenSlug,u=null!=a&&null!==(r=a.nfts)&&void 0!==r&&r.length?c:null==a?void 0:a.tokenSlug,m=u&&u!==d;Ue(_i(e,{state:s?tn.Initial:tn.None,error:void 0,...m?{fee:void 0,realFee:void 0,diesel:void 0}:{},...l})),s||n.setLandscapeActionsActiveTabIndex({index:pn.Transfer})})),We("changeTransferToken",((e,t,n)=>{let{tokenSlug:a,withResetAmount:o}=n;const{amount:r,tokenSlug:i,nfts:s}=e.currentTransfer;if(!(null!=s&&s.length||a!==i||o))return;const l=i?e.tokenInfo.bySlug[i]:void 0,c=e.tokenInfo.bySlug[a];o?e=_i(e,{amount:void 0}):r&&(null==l?void 0:l.decimals)!==(null==c?void 0:c.decimals)&&(e=_i(e,{amount:(0,wt.UH)((0,wt.nI)(r,null==l?void 0:l.decimals),null==c?void 0:c.decimals)})),Ue(_i(e,{tokenSlug:a,fee:void 0,realFee:void 0,diesel:void 0,nfts:void 0}))})),We("setTransferScreen",((e,t,n)=>{const{state:a}=n;return _i(e,{state:a})})),We("setTransferAmount",((e,t,n)=>{let{amount:a}=n;return _i(e,{amount:a})})),We("setTransferToAddress",((e,t,n)=>{let{toAddress:a}=n;return Oi(e,a)})),We("setTransferComment",((e,t,n)=>{let{comment:a}=n;return _i(e,{comment:a})})),We("setTransferShouldEncrypt",((e,t,n)=>{let{shouldEncrypt:a}=n;return _i(e,{shouldEncrypt:a})})),We("submitTransferConfirm",((e,t)=>{Je(e,e.currentAccountId).isHardware?(t.resetHardwareWalletConnect(),e=_i(Me(),{state:tn.ConnectHardware})):e=_i(e,{state:tn.Password}),Ue(e)})),We("clearTransferError",(e=>{Ue(_i(e,{error:void 0}))})),We("setTheme",((e,t,n)=>{let{theme:a}=n;return{...e,settings:{...e.settings,theme:a}}})),We("setAnimationLevel",((e,t,n)=>{let{level:a}=n;return{...e,settings:{...e.settings,animationLevel:a}}})),We("tryAddNotificationAccount",((t,n,a)=>{let{accountId:o}=a;t.pushNotifications.isAvailable&&Object.keys(je(t)||{}).length<=e.vdF&&n.createNotificationAccount({accountId:o})})),We("renameNotificationAccount",((e,t,n)=>{let{accountId:a}=n;const{enabledAccounts:o,isAvailable:r}=e.pushNotifications;r&&null!=o&&o[a]&&t.createNotificationAccount({accountId:a})})),We("toggleNotificationAccount",((t,n,a)=>{let{accountId:o}=a;const{enabledAccounts:r,userToken:i,platform:s}=t.pushNotifications;if(!i||!s)return;const l=r&&r[o];!l&&Object.keys(r||{}).length>=e.vdF||(l?n.deleteNotificationAccount({accountId:o,withAbort:!0}):n.createNotificationAccount({accountId:o,withAbort:!0}))})),We("deleteAllNotificationAccounts",(async(e,t,a)=>{const{enabledAccounts:o,userToken:r}=e.pushNotifications;if(!o||!r)return;const i=(null==a?void 0:a.accountIds)||Object.keys(o);await(0,n.p)("unsubscribeNotifications",{userToken:r,addresses:Do(e,i)}),e=Me(),Ue(pd(e))}));var xp=i(41074);const Lp={light:["#31AFC7","#35C759","#FF9500","#FF2C55","#AF52DE","#5856D7","#73AAED","#FFB07A","#B76C78","#9689D1","#E572CC","#6BA07A","#338FCC","#1FC863","#929395","#E4B102","#000000"],dark:["#3AB5CC","#32D74B","#FF9F0B","#FF325A","#BF5AF2","#7977FF","#73AAED","#FFB07A","#B76C78","#9689D1","#E572CC","#6BA07A","#338FCC","#2CD36F","#C3C5C6","#DDBA00","#FFFFFF"]};function Dp(e,t,n){const a=n?Lp[t][n]:void 0;ce((()=>{const t="body"===e?document.body:e.current;t&&Uc(t,{"--color-accent":a||"inherit","--color-accent-10o":a?`${a}1A`:"inherit","--color-accent-button-background":a||"inherit","--color-accent-button-background-hover":a?`${a}CC`:"inherit","--color-accent-button-text":"#FFFFFF"===a?"#000000":"inherit","--color-accent-button-text-hover":"#FFFFFF"===a?"#000000":"inherit"})}),[e,a])}async function Op(e){const{mtwCardType:t,mtwCardBorderShineType:n}=e.metadata;if("radioactive"===n)return 13;if("silver"===t)return 14;if("gold"===t)return 15;if("platinum"===t||"black"===t)return 16;const a=eo(e);if(a)try{return await(0,xp.M1)({name:"offscreen-canvas:processNftImage",args:[a,1,2]},Math.round(e.index)%xp.bP)}catch(e){return void(0,l.SJ)("getAccentColorIndexFromNft",e)}}We("openMintCardModal",(e=>Ji(e,{state:mn.Initial}))),We("closeMintCardModal",(e=>({...e,currentMintCard:void 0}))),We("startCardMinting",((e,t,n)=>{let{type:a}=n;const o=e.currentAccountId,{isHardware:r}=Je(e,o);return Ji(e,{type:a,state:r?mn.ConnectHardware:mn.Password})})),We("clearMintCardError",(e=>Ji(e,{error:void 0}))),We("setCardBackgroundNft",((e,n,a)=>{let{nft:o}=a;t.bA?ni("setCardBackgroundNft",{nft:o}):(e=yi(e,{cardBackgroundNft:o}),Ue(e))})),We("clearCardBackgroundNft",(e=>{t.bA?ni("clearCardBackgroundNft"):(e=yi(e,{cardBackgroundNft:void 0}),Ue(e))})),We("installAccentColorFromNft",(async(e,t,n)=>{let{nft:a}=n;const o=await Op(a);e=yi(e=Me(),{accentColorNft:a,accentColorIndex:o}),Ue(e)})),We("clearAccentColorFromNft",(e=>yi(e,{accentColorNft:void 0,accentColorIndex:void 0})));const Pp=e.UMQ?500:5e3,Fp=(0,c.nF)((()=>x((()=>$p()))),Pp,!1),Rp=()=>$p(!0);let Mp,Up,Hp=!1;function Wp(){var e;Hp&&(window.removeEventListener("blur",Rp),null===(e=Mp)||void 0===e||e(),function(e){const t=Se.indexOf(e);-1!==t&&Se.splice(t,1)}(Fp),Hp=!1)}function $p(t){var n;if(e.UuV||!Hp||!t&&B())return;const a=Me(),o={...oi,...(0,s.Up)(a,["tokenInfo","settings","currentAccountId","stateVersion","restrictions","pushNotifications","isFullscreen","isManualLockActive","stakingDefault"]),accounts:{byId:(null===(n=a.accounts)||void 0===n?void 0:n.byId)||{}},byAccountId:Vp(a)},r=JSON.stringify(o);localStorage.setItem(e.pge,r)}function Vp(t){return Object.entries(t.byAccountId).reduce(((n,a)=>{let[o,r]=a;n[o]=(0,s.Up)(r,["balances","isBackupRequired","currentTokenSlug","currentTokenPeriod","savedAddresses","staking","stakingHistory","activeContentTab","landscapeActionsActiveTabIndex","browserHistory","blacklistedNftAddresses","whitelistedNftAddresses","dappLastOpenedDatesByOrigin","dapps"]);const i=St(t,o);return n[o].activities=function(t,n){const{idsBySlug:a,newestActivitiesBySlug:o,byId:r,idsMain:i}=t||{};if(!(n&&a&&r&&i))return;const l=n.slice(0,30).map((e=>{let{slug:t}=e;return t}));l.includes(e.Tu9.slug)||l.push(e.Tu9.slug);const c=zp(i,r),d=(0,s.LG)((0,s._E)(a,l),(e=>zp(e,r))),u=o?(0,s.Up)(o,l):void 0,m=Object.values(d).concat(c).flat();return{byId:(0,s.Up)(r,m),idsMain:c,idsBySlug:d,newestActivitiesBySlug:u}}(r.activities,i),n[o].staking=function(e){let{stakingId:t,stateById:n}=null!=e?e:{};var a;n&&!sr(n)&&(n=(0,s.lk)(n,Rs),t&&t in n||(t=null===(a=Object.values(n)[0])||void 0===a?void 0:a.id));return{...e,stateById:n,stakingId:t}}(r.staking),n}),{})}function zp(e,t){const n=[];let a=0;return e.filter((e=>!$t(e)&&Boolean(t[e]))).forEach((e=>{20!==a&&(t[e].shouldHide||(a+=1),n.push(e))})),n}t.bA||e.UuV||(We("afterSignIn",(function(){Hp||(Hp=!0,Pe(Fp),Mp=(0,c.yu)(Rp,!0),window.addEventListener("blur",Rp),Rp())})),We("afterSignOut",((t,n,a)=>{Rt(),null!=a&&a.shouldReset&&(Up=(0,s.Up)(t,["swapTokenInfo","tokenInfo","restrictions"]),Wp(),localStorage.removeItem(e.pge))})),We("cancelCaching",Wp)),We("init",((n,a)=>{const o=(0,s.mg)(oi),r=function(n){if(e.UuV)return n;e.Oig&&console.time("global-state-cache-read");const a=localStorage.getItem(e.pge);let o=a?JSON.parse(a,Dn.bk):void 0;if(e.Oig&&console.timeEnd("global-state-cache-read"),o)try{!function(n,a){if(n.settings={...a.settings,...n.settings},36!==n.stateVersion){var o;if(n.byAccountId||(n.accounts={byId:{[e.Kih]:{address:n.addresses.byAccountId[e.Kih],title:"Main Account"}}},delete n.addresses,n.byAccountId={},n.byAccountId[e.Kih]={isBackupRequired:Boolean(n.isBackupRequired),currentTokenSlug:n.currentTokenSlug,currentTokenPeriod:n.currentTokenPeriod},"balances"in n&&(n.byAccountId[e.Kih].balances=n.balances.byAccountId[e.Kih],delete n.balances),"transactions"in n&&(n.byAccountId[e.Kih].transactions=n.transactions,delete n.transactions),"nfts"in n&&(n.byAccountId[e.Kih].nfts=n.nfts,delete n.nfts),"savedAddresses"in n&&(n.byAccountId[e.Kih].savedAddresses=n.savedAddresses,delete n.savedAddresses),"backupWallet"in n&&delete n.backupWallet),n.currentAccountId&&n.byAccountId[n.currentAccountId]||!Object.keys(n.byAccountId).length||(n.currentAccountId=Object.keys(n.byAccountId)[0]),!n.stateVersion&&n.accounts&&Object.keys(n.accounts).length>0&&(n.stateVersion=1),1===n.stateVersion&&(n.stateVersion=2,null!==(o=n.tokenInfo)&&void 0!==o&&o.bySlug&&(n.tokenInfo.bySlug={toncoin:{...n.tokenInfo.bySlug.toncoin,decimals:e.Tu9.decimals}}),n.byAccountId&&Object.values(n.byAccountId).forEach((e=>{var t;null!==(t=e.balances)&&void 0!==t&&t.bySlug&&(e.balances.bySlug=(0,s.Up)(e.balances.bySlug,["toncoin"])),e.transactions&&delete e.transactions}))),2===n.stateVersion){n.stateVersion=3;const t="0",a=e.Kih;if(n.accounts&&t in n.accounts.byId&&(n.currentAccountId===t&&(n.currentAccountId=a),n.accounts.byId[a]=n.accounts.byId[t],delete n.accounts.byId[t],n.byAccountId[a]=n.byAccountId[t],delete n.byAccountId[t]),n.accounts)for(const e of Object.keys(n.accounts.byId)){const t=(0,Ve.z)({...(0,Ve.c)(e),network:"testnet"});n.accounts.byId[t]=(0,s.mg)(n.accounts.byId[e]),n.byAccountId[t]={}}}if(3===n.stateVersion&&(n.stateVersion=4,n.byAccountId))for(const e of Object.keys(n.byAccountId))delete n.byAccountId[e].transactions;if(4===n.stateVersion&&(n.stateVersion=5,n.staking={state:cn.None}),5===n.stateVersion&&(n.stateVersion=6,n.byAccountId))for(const e of Object.keys(n.byAccountId))delete n.byAccountId[e].transactions;if(6===n.stateVersion&&(n.stateVersion=7,n.byAccountId))for(const e of Object.keys(n.byAccountId))delete n.byAccountId[e].transactions;if(7===n.stateVersion){if(n.byAccountId)for(const e of Object.keys(n.byAccountId))delete n.byAccountId[e].backupWallet;n.stateVersion=8}if(8===n.stateVersion&&(n.settings&&t.cp&&(n.settings.isDeeplinkHookEnabled=!0),n.stateVersion=9),9===n.stateVersion&&(r(),n.stateVersion=10),10===n.stateVersion&&(void 0===n.settings.areTokensWithNoBalanceHidden&&(n.settings.areTokensWithNoBalanceHidden=!0),n.stateVersion=11),11===n.stateVersion&&(r(),n.stateVersion=12),12===n.stateVersion){if(n.byAccountId)for(const e of Object.keys(n.byAccountId)){delete n.byAccountId[e].activities;const{balances:t}=n.byAccountId[e];t&&(t.bySlug=Object.entries(t.bySlug).reduce(((e,t)=>{let[n,a]=t;return e[n]=BigInt(a),e}),{}))}n.stateVersion=13}if(13===n.stateVersion){const{areTokensWithNoPriceHidden:e,areTokensWithNoBalanceHidden:t}=n.settings;n.settings.areTokensWithNoCostHidden=Boolean(e||t),n.stateVersion=14}if(14===n.stateVersion&&(r(),n.stateVersion=15),15===n.stateVersion&&(r(),n.stateVersion=16),16===n.stateVersion&&(r(),n.stateVersion=17),17===n.stateVersion&&(r(),n.stateVersion=18),18===n.stateVersion||19===n.stateVersion){for(const e of Object.keys(n.byAccountId))n.byAccountId[e].currentTokenPeriod="1D";n.stateVersion=20}if(20===n.stateVersion&&(r(),n.stateVersion=21),21===n.stateVersion&&(r(),n.stateVersion=22),22===n.stateVersion&&(r(),n.stateVersion=23),23===n.stateVersion&&("isSortByValueEnabled"in n.settings||(n.settings.isSortByValueEnabled=a.settings.isSortByValueEnabled),n.stateVersion=24),24===n.stateVersion){if(n.accounts){r();for(const e of Object.values(n.accounts.byId))e.addressByChain={ton:e.address},delete e.address}n.stateVersion=25}if(25===n.stateVersion){if(n.byAccountId)for(const e of Object.keys(n.byAccountId)){const t=n.byAccountId[e].savedAddresses;t&&!("length"in t)&&(n.byAccountId[e].savedAddresses=Object.keys(t).map((e=>({name:t[e],address:e,chain:"ton"}))))}n.stateVersion=26}if(26===n.stateVersion&&(r(),n.stateVersion=27),27===n.stateVersion&&(delete n.settings.dapps,n.stateVersion=28),28===n.stateVersion){const e=Object.keys(n.settings.byAccountId);for(const t of e){const e=n.settings.byAccountId[t].exceptionSlugs;n.settings.areTokensWithNoCostHidden?n.settings.byAccountId[t].alwaysShownSlugs=e:n.settings.byAccountId[t].alwaysHiddenSlugs=e}n.stateVersion=29}29===n.stateVersion&&(n.currentTransfer.tokenSlug=e.Tu9.slug,n.stateVersion=30),30===n.stateVersion&&(r(),n.stateVersion=31),31===n.stateVersion&&(n.settings.autolockValue&&"never"!==n.settings.autolockValue&&(n.settings.isAppLockEnabled=!0),n.stateVersion=32),32===n.stateVersion&&(r(),n.stateVersion=33),33===n.stateVersion&&(r(),n.stateVersion=34),34===n.stateVersion&&(r(),n.stateVersion=35),35===n.stateVersion&&(r(),n.stateVersion=36)}function r(){if(n.byAccountId)for(const e of Object.keys(n.byAccountId))delete n.byAccountId[e].activities}}(o,n),function(e){if(!e.currentAccountId)return;const{byId:t,newestActivitiesBySlug:n}=e.byAccountId[e.currentAccountId].activities||{};t&&Object.values(t).forEach((e=>{"transaction"===e.kind&&e.isIncoming&&Pt(e)})),n&&Object.values(n).forEach((e=>{"transaction"===e.kind&&e.isIncoming&&Pt(e)}))}(o)}catch(e){console.error(e),o=void 0}return{...n,...Up,...o}}(o);return t.bA?{...o,settings:{...o.settings,theme:r.settings.theme}}:t.Fe?(a.initLedgerPage(),{...o,settings:{...o.settings,theme:r.settings.theme}}):(function(e){return Boolean(e.currentAccountId)}(r)&&a.afterSignIn(),r)})),BigInt.prototype.toJSON=function(){return`${Dn.tH}${this}`};var qp=i(75357);let Kp=!1;async function jp(){await new Promise((e=>{const t=[];let n=performance.now();(0,d.i0)((()=>{const a=performance.now();if(t.push(a-n),n=a,10===t.length){const n=t.sort()[Math.floor(t.length/2)];return e(Math.round(1e3/n)),!1}return!0}),c.IJ)}))<=35&&function(){Kp=!0;const e=document.createElement("div");e.style.cssText="position: absolute; top: 0; left: 0; width: 0; height: 100%; overflow: hidden;";const t=document.createElement("div"),n=1.5*window.screen.height;t.style.cssText=`width: 0; height: ${n}px; transform: translateX(100%); transition: transform 100ms;`,t.innerHTML="&nbsp;",e.appendChild(t),document.body.appendChild(e),requestAnimationFrame((()=>{t.addEventListener("transitionend",(()=>{e.remove()})),t.style.transform=""}))}()}let Yp=function(e){return e.DEEPLINK="deeplink",e.UPDATE_ERROR="update-error",e.UPDATE_DOWNLOADED="update-downloaded",e}({});const Gp=function(){let e,n=!1;const a=function(t){var a;n=!0,null===(a=e)||void 0===a||a.call(this,{...t,preventScroll:!0})},o=()=>{Qp(t.Ni&&n),n=!1};return{install(){e||(e=HTMLElement.prototype.focus,HTMLElement.prototype.focus=a,window.addEventListener("focusin",o))},uninstall(){e&&(HTMLElement.prototype.focus=e,e=void 0,window.removeEventListener("focusin",o))}}}();function Qp(e){var t;const n=document.activeElement;if(!n)return;const a=null!==(t=n.dataset.focusScrollPosition)&&void 0!==t?t:"nearest";(0,k.YS)((()=>{n.scrollIntoView({block:a,behavior:e?"instant":"auto"})}))}const Xp=t.Fe||t.bA||t.cp||e.tKX,Jp=String(Date.now()+Math.random());let Zp;Xp||localStorage.setItem(e.tOu,Jp);const ef=window.setInterval((()=>{!Xp&&Zp&&localStorage.getItem(e.tOu)!==Jp&&(Zp(),clearInterval(ef))}),2e3);function tf(e,t){const n=me(!0);n.current&&(n.current=!1,null==t||t.forEach((t=>{y(t)&&t.subscribe(e)}))),gs((()=>()=>{!function(e){var t;null===(t=b.get(e))||void 0===t||t.forEach((e=>{e()})),b.delete(e)}(e)}))}const nf=function(e,t){var n;let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const o=t?e:()=>e();null!==(n=t)&&void 0!==n||(t=[e]);const r=me(),i=ge(),s=Wr(o);function l(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=s.current;if(a)t((e=>{r.current!==e&&(r.current=e,i())}));else{const n=t();r.current!==n&&(r.current=n,e||i())}}return _l((()=>{l(!0)}),t),tf(l,t),r.current};function af(e,t){let{rootRef:n,throttleMs:a,throttleScheduler:o,debounceMs:r,shouldSkipFirst:i,margin:s,threshold:l,isDisabled:d}=e;const u=me(),m=me(),p=me(0),f=me();m.current=t;const h=$r((()=>{p.current++})),g=$r((()=>{p.current&&(p.current--,!p.current&&f.current&&(f.current(),f.current=void 0))}));ym(h,g),le((()=>{if(!d)return()=>{u.current&&(u.current.observer.disconnect(),u.current.callbacks.clear(),u.current=void 0)}}),[d]);const v=$r(((e,t)=>{u.current||function(){const e=new Map,t=new Map;let d;function h(){if(p.current)return void(f.current=d);const n=Array.from(t.values());n.forEach((t=>{const a=e.get(t.target);a&&a(t,n)})),m.current&&m.current(n),t.clear()}d="function"==typeof o?(0,c.nb)(o,h):a?(0,c.nF)(h,a,!i):r?(0,c.sg)(h,r,!i):h;const g=new IntersectionObserver((e=>{e.forEach((e=>{t.set(e.target,e)})),p.current?f.current=d:d()}),{root:null==n?void 0:n.current,rootMargin:s?`${s}px`:void 0,threshold:l});u.current={observer:g,callbacks:e}}();const d=u.current;return d.observer.observe(e),t&&d.callbacks.set(e,t),()=>{t&&d.callbacks.delete(e),d.observer.unobserve(e)}}));return{observe:v,freeze:h,unfreeze:g}}function of(e,t,n){const[a,o]=function(e){var t;const n=me();return null!==(t=n.current)&&void 0!==t||(n.current=E(e)),n.current}(!t);return function(e,t,n){const a=$r(n);le((()=>t?t(e.current,a):void 0),[a,t,e])}(e,t,(e=>{o(e.isIntersecting),n&&n(e)})),a}let rf;const sf=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a=$r(e);le((()=>{if(void 0===t)return;const e=setInterval(a,t);return n||a(),()=>clearInterval(e)}),[t,a,n])},lf=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const a=$r(e);le((()=>{if("number"!=typeof t)return;const e=setTimeout((()=>a()),t);return()=>clearTimeout(e)}),[t,a,...n])},cf="T1ztMNGQ",df=i.p+"app-inactive.e835efd0bf0191aaa6ab.png",uf=i.p+"app-inactive.70579bd9a710cd418aff.webp",mf=function(){const t=vs(),n=$r((()=>{window.location.reload()}));return he.createElement("div",{className:"cFGCnqcA"},he.createElement("div",{className:"sRTywfr2"},he.createElement("picture",{className:cf},he.createElement("source",{src:uf}),he.createElement("img",{src:df,alt:"",className:cf})),he.createElement("h3",{className:"UervEVFY"},t("Such error, many tabs")),he.createElement("div",{className:"rO8yQetD"},dr(t("$many_tabs_error_description",{app_name:e.C39}))),he.createElement("div",{className:"u6bKEBnR"},he.createElement(ec,{isText:!0,className:"eymlW7_B",onClick:n},t("Reload App")))))};function pf(e){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=Bl(e,arguments.length>1&&void 0!==arguments[1]&&arguments[1]);return t||null!=e?e:n}function ff(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const[t,n]=ie(!0),[a,o]=ie(!0);return{isAtBeginning:t,isAtEnd:a,isScrolled:!t,handleScroll:$r((t=>{const{scrollHeight:a,scrollTop:r,clientHeight:i}=t.target;n(r<e),o(a-r-i<e)}))}}const hf={root:"YO7I0Ma0"},gf={"🥷":"1f977","🦄":"1f984","⚠️":"26a0"},vf=new Set,wf=pe((function(e){let{from:t}=e;const n=t in gf?gf[t]:t,a=`./emoji/${n}.png`,[o,r]=Rd(vf.has(a)),i=Vd(o),s=$r((()=>{r(),vf.add(a)}));return he.createElement("img",{src:a,alt:t,className:ps(hf.root,hf[`key-${n}`],i),onLoad:s})})),yf=pe((function(e){let{title:t,className:n,withNotch:a,closeClassName:o,onClose:r,onBackButtonClick:i}=e;const s=vs();return he.createElement("div",{className:ps(Vc.header,"with-notch-on-scroll",a&&"is-scrolled",!i&&Vc.header_wideContent,n)},i&&he.createElement(ec,{isSimple:!0,isText:!0,onClick:i,className:Vc.header_back},he.createElement("i",{className:ps(Vc.header_backIcon,"icon-chevron-left"),"aria-hidden":!0}),he.createElement("span",null,s("Back"))),void 0!==t&&he.createElement("div",{className:ps(Vc.title,Vc.singleTitle)},t),r&&he.createElement(ec,{isRound:!0,className:ps(Vc.closeButton,o),ariaLabel:s("Close"),onClick:r},he.createElement("i",{className:ps(Vc.closeIcon,"icon-close"),"aria-hidden":!0})))})),bf={wrapper:"T7fZ5IMk",slide:"syDfunZP",header:"aDfdss28",withTopSpace:"dtjdV8GY",nestedTransition:"jX5Ya3FK",transitionContainer:"yVzk5dwl",developerTitle:"r6WClabQ",developerCloseButton:"yn74reot",onlyTextHeader:"CgjtBlIK",headerInsideModal:"eFeOVzRI",languageHeader:"ZrejUKsI",headerBack:"ehDj7x2p",isInsideModal:"Wccw6pgw",hidden:"yTnK4aVo",iconChevron:"Qea3kUMy",headerBackInContent:"zvnNb8eo",headerTitle:"aZVKC5O6",modalHeader:"vwHnpdwF",content:"rgMxxE39",content_noScroll:"lh0I5gIh",contentNoScroll:"lh0I5gIh",withBottomSpace:"cjfvEx15",contentFullSize:"BpFwAWae",blockTitle:"dBOj5NnG",menuIcon:"M1WSmGuc",themeWrapper:"cfK5v5m1",blockAbout:"yuZIbS8n",theme:"N5nUfRHH",theme_active:"eTa03cXj",themeActive:"eTa03cXj",themeIcon:"tZRnZj9J",themeIcon_active:"eEiBESrS",themeIconActive:"eEiBESrS",themeImg:"H_nvpBU5",colorList:"ftMWz1de",colorButton:"OaFvanYP",colorButtonCurrent:"GthJhaus",iconLock:"n1s4Ycb6",iconLockInverted:"r9kXSmsP",subBlockAsButton:"ImElqofC",block:"wJjymc4L",text:"sU0zQDmb",settingsBlockWithDescription:"xosGoD5d",settingsBlock:"_0TWKZFz4",iconChevronRight:"RHurCQ9b",item:"o1nQhJ_F",draggable:"k2juknci",item_red:"yYJCYbbd",itemRed:"yYJCYbbd",item_small:"cC1nd9dM",itemSmall:"cC1nd9dM",item_lang:"kIWs2Jxk",itemLang:"kIWs2Jxk",item_wallet_version:"tTZZHEdN",itemWalletVersion:"tTZZHEdN",item_token:"LMTs4OeN",itemToken:"LMTs4OeN",itemInfo:"S5Kk31wp",small:"gq4usdgr",version:"oGJ2X15D",languageMain:"cIO_6vYD",languageNative:"NGS7pE5c",iconQuestion:"CLKLBCVt",blockWithTooltip:"eqWsA9Ak",tooltip:"DCWmLsBA",tooltip_wide:"ESFWFyav",tooltipWide:"ESFWFyav",disconnectButton:"Wu3RiwSF",dapps:"eyE78PWW",changePasswordButton:"xBpPU4Jb",passwordFormContent:"KQuDNpn5",passwordFormContentInModal:"OzmF3O5t",sticker:"aMwtPBfB",blockDescription:"HuH8igQi",emptyList:"ThoQya6m",emptyListTitle:"lek7Y5aS",dapp:"xc0VaBDP",backButton:"QlOjly_V",logo:"LQ5MMcSf",stickerNativeBiometric:"nLxfZG3p",pinPadHeader:"tnqhb1Qi",pinPadHeaderMinified:"K1fiksuZ",pinPadTitle:"MxOcmI0_",title:"sDP2AWSj",titleLink:"r7iIIH6q",heading:"Sh2kuIH2",github:"dBqNllGm",telegram:"sggkOqTT",tokenSortIcon:"V7Nh7XEi",tokenTitle:"wkk1b7Dc",tokenDescription:"cv6gw8az",tokenAmount:"BekK0Dwp",dot:"Zfi1H_we",dotLarge:"LIr9yHMx",contentRelative:"EiFz4WrA",sortableContainer:"zmQzVO7l",modalDialog:"xRqyv_rX",modalDialogWeb:"E67Qdj_t",modalContent:"mjHzkDZB",deleteText:"d8sxNodF",languageInfo:"AXAMGE3T",tokenInfo:"ll1f03qi",stickerAndTitle:"upR_yI1c",sideTitle:"atPnEcVz",aboutFooterWrapper:"EYMlspWb",aboutFooterContent:"U1sbe5pk",blockWalletVersionText:"poUctQOF",walletVersionInfo:"spNULnGc",walletVersionInfoRight:"Ez0t7GFF",walletVersionTitle:"DbBBKMBg",walletVersionTokens:"DUzHgWKY",walletVersionAddress:"xPrZcrFZ",walletVersionAmount:"nvPRmXTF",blockWalletVersionReadMore:"g3U3zj6y",nftPrimaryCell:"zpLwMrPQ",nftName:"JHu8TtpB",nftCollection:"mbtZbU1u",nftImage:"pifBd9KV",nftButtonUnhide:"_o8QIssq",account:"TXe6O6ZF",accountDisabled:"vf82b5zy"},Ef=pe((function(t){let{isActive:n,handleBackClick:a,isInsideModal:o,theme:r}=t;const i=vs();Ql({isActive:n,onBack:a});const{handleScroll:s,isScrolled:l}=ff(),c="light"===Fd(r)?Ep:bp,d=i("$about_extension_link_text",{app_name:e.C39});return he.createElement("div",{className:bf.slide},o?he.createElement(yf,{title:i("About %app_name%",{app_name:e.C39}),withNotch:l,onBackButtonClick:a,className:bf.modalHeader}):he.createElement("div",{className:ps(bf.header,"with-notch-on-scroll",l&&"is-scrolled")},he.createElement(ec,{isSimple:!0,isText:!0,onClick:a,className:bf.headerBack},he.createElement("i",{className:ps(bf.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),he.createElement("span",null,i("Back"))),he.createElement("span",{className:bf.headerTitle},i("About %app_name%",{app_name:e.C39}))),he.createElement("div",{className:ps(bf.content,o&&"custom-scroll",!o&&bf.content_noScroll),onScroll:o?s:void 0},he.createElement("img",{src:c,alt:i("Logo"),className:bf.logo}),he.createElement("h2",{className:bf.title},e.C39," ",e.hl5," ",e.vOV,!e.TI6&&he.createElement("a",{href:"https://mytonwallet.io/",target:"_blank",className:bf.titleLink,rel:"noreferrer"},"mytonwallet.io")),he.createElement("div",{className:ps(bf.blockAbout,!o&&"custom-scroll")},he.createElement("p",{className:bf.text},dr(i("$about_description1"))),he.createElement("p",{className:bf.text},dr(i("$about_description2"))),e.hL1?he.createElement(he.Fragment,null,he.createElement("h3",{className:ps(bf.text,bf.heading)},he.createElement(wf,{from:"🥷"})," ",i("What is TON Proxy?")),he.createElement("p",{className:bf.text},dr(i("$about_extension_description1"))," ",he.createElement("a",{href:"https://telegra.ph/TON-Sites-TON-WWW-and-TON-Proxy-09-29-2",target:"_blank",rel:"noopener noreferrer"},i("More info and demo."))),he.createElement("h3",{className:ps(bf.text,bf.heading)},he.createElement(wf,{from:"🦄"})," ",i("What is TON Magic?")),he.createElement("p",{className:bf.text},dr(i("$about_extension_description2"))),he.createElement("p",{className:bf.text},i("$about_extension_description3")," ",he.createElement("a",{href:"https://telegra.ph/Telegram--TON-11-10",target:"_blank",rel:"noopener noreferrer"},i("More info and demo.")))):he.createElement(he.Fragment,null,he.createElement("h3",{className:ps(bf.text,bf.heading)},i("$about_proxy_magic_title",{ninja:he.createElement(wf,{from:"🥷"}),unicorn:he.createElement(wf,{from:"🦄"})})),he.createElement("p",{className:bf.text},i("$about_proxy_magic_description",{extension_link:he.createElement("a",{href:"https://mytonwallet.io/",target:"_blank",rel:"noreferrer"},dr(d))}))),he.createElement("h3",{className:ps(bf.text,bf.heading)},he.createElement("i",{className:ps(bf.github,"icon-github"),"aria-hidden":!0})," ",i("Is it open source?")),he.createElement("p",{className:bf.text},i("$about_wallet_github",{github_link:he.createElement("a",{href:e.V3_,target:"_blank",rel:"noreferrer"},dr(i("$about_github_link_text")))})),he.createElement("h3",{className:bf.heading},he.createElement("i",{className:ps(bf.telegram,"icon-telegram"),"aria-hidden":!0})," ",i("Is there a community?")),he.createElement("p",{className:bf.text},i("$about_wallet_community",{community_link:he.createElement("a",{href:"ru"===i.code?"https://t.me/MyTonWalletRu":"https://t.me/MyTonWalletEn",target:"_blank",rel:"noreferrer"},dr(i("$about_community_link_text")))}))),he.createElement("div",{className:bf.aboutFooterWrapper},he.createElement("div",{className:bf.aboutFooterContent},he.createElement("a",{href:"https://mytonwallet.io/terms-of-use",target:"_blank",rel:"noreferrer",onClick:no},i("Terms of Use")),he.createElement("i",{className:bf.dotLarge,"aria-hidden":!0}),he.createElement("a",{href:"https://mytonwallet.io/privacy-policy",target:"_blank",rel:"noreferrer",onClick:no},i("Privacy Policy"))))))})),kf={wrapper:"ULZ34zm7",transitionContainer:"IpdZLqJd",transitionSlide:"XE9A_oIT",container:"PaAMLiEx",container_scrollable:"Kl8WYoh1",containerScrollable:"Kl8WYoh1",container_password:"UbkFqyhU",containerPassword:"UbkFqyhU",containerAlignTop:"kjX3jz7x",containerFullSize:"TyvpW2dz",logo:"ehC1Upu8",appName:"IDG3Q9do",title:"GWv6k9kV",title_afterSmallSticker:"A9um3wzK",titleAfterSmallSticker:"A9um3wzK",titleSmallMargin:"XUVoSlvz",infoBlock:"PxIcz2Ce",text:"ehvMomrX",informationCheckbox:"EnuqqZk3",informationCheckboxContent:"GFpWMNm5",info:"WrpQj6v4",info_push:"I7MJaI4h",infoPush:"I7MJaI4h",info__space:"D8smEaJr",infoSpace:"D8smEaJr",infoPull:"NnW2gTZ2",infoSmallFont:"NNleMmCd",counter:"BMrG2A2B",counterTitle:"IFpNJ6G4",counterDigit:"FvuWBVMK",small:"I1fhFmAn",sticker:"hkc_A2ok",stickerAndTitle:"I_XB4JzC",backupNotice:"jSFFHbPH",backupNoticeButtons:"kUt_RfrB",modalSticker:"oxNcdksx",form:"VKREIrDv",formWidgets:"Vj7_u12z",passwordForm:"Stc9sPH6",errors:"vozeQrSV",passwordRules:"usE91GiK",passwordRule:"zwUB1a_J",valid:"tAmeBNo9",error:"B8vH7CYQ",buttons:"ODle5ROH",buttons__inner:"oNN6ymiQ",buttonsInner:"oNN6ymiQ",footerButton:"sarw89g5",btn:"SWvNin2D",btn_push:"W1k0H_HF",btnPush:"W1k0H_HF",btn_text:"qoCa264k",btnText:"qoCa264k",btn_about:"hc6SmKii",btnAbout:"hc6SmKii",btn_wide:"nfn0Ol3p",btnWide:"nfn0Ol3p",btn_mini:"Q2imCrap",btnMini:"Q2imCrap",btn_single:"uEEAE1sZ",btnSingle:"uEEAE1sZ",btnHalfWidth:"X7zz6SZl",modalDialog:"fGexmyHI",privateKey:"q7ZIxYSc",importingContent:"NH8rGjmE",footerError:"BZGziOTc",importButtonsBlock:"NM17kdjV",importText:"MHwkgrIZ",importButtons:"dYD_CpfV",biometricsStep:"t3qgjBKg",warning:"bs9tLaLO",biometricsError:"Es3mlsbs",stepTransition:"POUbGjea",passwordFormContainer:"t9A5nUYe",header:"iowmPhKV",headerTitle:"x58Cmt9r",pinPadHeader:"yHcMeGVS",headerBack:"ZzxVO58v",headerBackBlock:"NVF8z8CV",iconChevron:"vP8i059j",biometricsIcon:"ss3uFaAC",biometricsTitle:"VTH_ATCk",biometricsSubtitle:"C3vZhdz7",disclaimerBackupDialog:"ZjhuaYXI"},Cf=pe((function(e){let{isActive:t,isLoading:n,error:a,method:o}=e;const{resetAuth:r,cleanAuthError:i,addAccount:s}=He(),l=vs(),c="createAccount"!==o,d=$r((e=>{s({method:c?"importMnemonic":"createAccount",password:e,isAuthFlow:!0})}));return he.createElement("div",{className:ps(kf.container,kf.container_scrollable,"custom-scroll")},he.createElement(sp,{isActive:t,isLoading:n,error:a,containerClassName:kf.passwordForm,submitLabel:l("Send"),cancelLabel:l("Back"),onSubmit:d,onCancel:r,onUpdate:i},he.createElement("div",{className:kf.title},l("Enter your password"))))})),Nf={suggestions:"wSbrkEKB",bottom:"YGdWEJ33",top:"jKY8_1nT",suggestion:"MtG_CWxm",active:"kdLCV21p"},Sf=pe((function(e){let{position:t="bottom",suggestions:n,activeIndex:a,isInModal:o,onSelect:r}=e;const i=vs(),s=e=>{e.preventDefault();const t=e.target.innerText.trim();r(t)};return n.length?he.createElement("ul",{className:ps(Nf.suggestions,Nf[t],o&&Nf.embedded)},n.map(((e,t)=>he.createElement("li",{key:e,role:"button",tabIndex:0,className:ps(Nf.suggestion,t===a&&Nf.active),onMouseDown:s},e)))):he.createElement("div",{className:Nf.suggestions},he.createElement("li",{className:Nf.suggestion},i("No suggestions, you're on your own!")))})),Af={wrapper:"fZW_3WXP",wrapper_focus:"sqh1ynr8",wrapperFocus:"sqh1ynr8",wrapper_error:"z4J8kfq3",wrapperError:"z4J8kfq3",input:"L1vlW70a",label:"Qg48sdUG"},Tf=pe((function(t){let{id:a,nextId:o,labelText:r,className:i,value:s="",isInModal:l,suggestionsPosition:c,inputArg:d,onInput:u,onEnter:m}=t;const[p,f,h]=Rd(),[g,v]=ie(!1),[w,y]=ie([]),[b,E]=ie(0),[C,N]=ie(!1),[S,A]=ie([]),T=C&&s&&w.length>0;le((()=>{(0,n.p)("getMnemonicWordList").then((e=>A(null!=e?e:[])))}),[]),le((()=>{const t=!s||C&&w.length>0||function(t,n){return t.length===e.PcM||n.includes(t)}(s,S);v(!t)}),[C,w.length,s,S]);const I=e=>{const t=S.filter((t=>t.toLowerCase().startsWith(e.toLowerCase()))).slice(0,7);u(e,d),y(t),E(0),N(!0)},B=$r((e=>{if(!s)return;m&&!C&&m();const t=w[b];t&&(u(t,d),y([t]),E(0),N(!1),C&&e.preventDefault(),o&&(0,k.YS)((()=>{(0,k.YS)((()=>{const e=document.getElementById(o);null==e||e.focus(),null==e||e.select()}))})))}));le((()=>p?Qs({onEnter:B,onTab:e=>{e.shiftKey||e.ctrlKey||e.altKey||e.metaKey||B(e)},onUp:()=>{b>0&&E(b-1)},onDown:()=>{b<w.length-1&&E(b+1)}}):void 0));const _=$r((e=>{u(e,d),N(!1),E(0),y([]),o&&(0,k.YS)((()=>{(0,k.YS)((()=>{const e=document.getElementById(o);null==e||e.focus(),null==e||e.select()}))}))}));return he.createElement("div",{className:ps(Af.wrapper,i,p&&Af.wrapper_focus,g&&Af.wrapper_error)},T&&he.createElement(Sf,{suggestions:w,activeIndex:b,position:c,isInModal:l,onSelect:_}),he.createElement("label",{className:Af.label,htmlFor:a},r,"."),he.createElement("input",{id:a,className:ps(Af.input,""!==s&&Af.touched),type:"text",autoCapitalize:"none",autoComplete:"off",autoCorrect:!1,spellCheck:!1,onChange:e=>{const t=e.target.value;I(t)},onFocus:e=>{I(e.target.value),f()},onBlur:e=>{e.target.blur(),h(),requestAnimationFrame((()=>{N(!1),y([])}))},onPaste:e=>{const t=e.clipboardData.getData("text");t&&I(t)},value:s,tabIndex:0,"data-focus-scroll-position":"top"===c?"end":"start"}))})),If="L6u18JBd",Bf="NvN6uNIF",_f="u7rnL9q6",xf="o4FCVeIa",Lf="jCCt2XRK",Df="pfd8fIrT",Of=pe((function(t){var n;let{isActive:a,isInModal:o,checkIndexes:r,mnemonic:i,descriptionClassName:l,formClassName:c,errorClassName:d,onSubmit:u}=t;const m=vs(),[p,f]=ie({}),[h,g]=ie(!1),v=$r((e=>{e.preventDefault();const t=i&&(null==r?void 0:r.map((e=>i[e])));t&&(0,s.k)(t,Object.values(p))?u():g(!0)}));le((()=>{a&&(f({}),g(!1))}),[a]);const w=$r(((e,t)=>{f({...p,[t]:null==e?void 0:e.toLowerCase()})}));return he.createElement(he.Fragment,null,he.createElement("p",{className:l},dr(m("$mnemonic_check_words_list",null==r||null===(n=r.map((e=>e+1)))||void 0===n?void 0:n.join(", ")))),he.createElement("form",{className:c,onSubmit:v,id:"check_mnemonic_form"},r.map(((t,n)=>he.createElement(Tf,{key:t,id:`check-mnemonic-${n}`,nextId:n+1<e.ow1?`check-mnemonic-${n+1}`:void 0,labelText:`${t+1}`,value:p[t],isInModal:o,suggestionsPosition:n<=1?"bottom":"top",inputArg:t,className:"_YK5KiZw",onInput:w})))),h&&he.createElement("div",{className:d},dr(m("$mnemonic_check_error"))))})),Pf=pe((function(t){let{isActive:n,checkIndexes:a,mnemonic:o}=t;const{closeCheckWordsPage:r}=He(),i=$r((()=>{r({isBackupCreated:!0})})),s=vs();return he.createElement(he.Fragment,null,he.createElement(xm,{tgsUrl:Ju.bill,previewUrl:Ju.billPreview,size:e.lWW,play:n,nonInteractive:!0,noLoop:!1,className:If}),he.createElement("p",{className:ps(xf,Df)},dr(s("$check_words_description"))),he.createElement(Of,{descriptionClassName:ps(xf,Df),formClassName:"ftYLMV0R",isActive:n,mnemonic:o,checkIndexes:a,errorClassName:"WeqRS7VQ",onSubmit:i}),he.createElement("div",{className:Bf},he.createElement(ec,{isPrimary:!0,forFormId:"check_mnemonic_form",className:_f},s("Continue"))))})),Ff=pe((e=>{let{isActive:t,mnemonic:n,checkIndexes:a}=e;const{openMnemonicPage:o}=He(),r=vs();return Ql({isActive:t,onBack:o}),he.createElement("div",{className:kf.wrapper},he.createElement("div",{className:ps(kf.container,"custom-scroll")},he.createElement("div",{className:kf.header},he.createElement(ec,{isSimple:!0,isText:!0,onClick:o,className:kf.headerBackBlock},he.createElement("i",{className:ps(kf.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),he.createElement("span",null,r("Back"))),he.createElement("span",{className:kf.headerTitle},r("Let's Check!"))),he.createElement(Pf,{isActive:t,mnemonic:n,checkIndexes:a})))})),Rf=Xn.Z2,Mf=pe((function(e){let{isActive:t,biometricsStep:n,error:a,isLoading:o}=e;const{afterCreateBiometrics:r,resetAuth:i,cancelCreateBiometrics:s}=He();lf(r,t?Rf:void 0,[t]);const l=vs(),c=Boolean(n),d=Boolean(a&&!c),u=pf(a,!0);return Ql({isActive:t,onBack:i}),he.createElement("div",{className:ps(kf.container,kf.container_scrollable,"custom-scroll")},he.createElement(xm,{play:t,tgsUrl:Ju.guard,previewUrl:Ju.guardPreview,noLoop:!1,nonInteractive:!0,className:kf.sticker}),he.createElement("div",{className:kf.title},l("Turn On Biometrics")),c&&he.createElement("div",{className:kf.biometricsStep},l(1===n?"Step 1 of 2. Registration":"Step 2 of 2. Verification")),d&&he.createElement("div",{className:ps(kf.biometricsError)},he.createElement("div",null,l(u||"Unknown error")),he.createElement("div",null,l("Please try to confirm your biometrics again"))),he.createElement("div",{className:kf.buttons},he.createElement("div",{className:kf.buttons__inner},he.createElement(ec,{isDisabled:Boolean(n)||o,className:ps(kf.btn,kf.btnHalfWidth),onClick:s},l("Cancel")),d&&he.createElement(ec,{isPrimary:!0,className:ps(kf.btn,kf.btnHalfWidth),isDisabled:Boolean(n)||o,onClick:r},l("Try Again")))))})),Uf=pe($e((e=>({pin:e.auth.password})))((t=>{let{isActive:n,method:a,pin:o}=t;const{confirmPin:r,cancelConfirmPin:i}=He(),s=vs(),[l,d]=ie(""),[u,m]=ie(""),[p,f]=ie(!1),h="createAccount"!==a,g=$r((()=>{i({isImporting:h})}));Ql({isActive:n,onBack:g}),le((()=>{n&&(d(""),m(""),f(!1))}),[n]);const v=$r((e=>{d(e),m("")})),w=$r((async e=>{e===o?(f(!0),await(0,c.v7)(1500),r({isImporting:h})):m(s("Codes don't match"))}));return he.createElement("div",{className:ps(kf.container,kf.containerFullSize)},he.createElement(ec,{isSimple:!0,isText:!0,onClick:g,className:kf.headerBack},he.createElement("i",{className:ps(kf.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),he.createElement("span",null,s("Back"))),he.createElement("div",{className:kf.pinPadHeader},he.createElement(xm,{play:n,tgsUrl:Ju.guard,previewUrl:Ju.guardPreview,noLoop:!1,nonInteractive:!0}),he.createElement("div",{className:kf.title},s(h?"Wallet is imported!":"Wallet is ready!"))),he.createElement(rp,{isActive:n,title:p?s("Code set successfully"):u||s("Enter your code again"),type:p?"success":u?"error":void 0,length:e.NEx,value:l,onChange:v,onSubmit:w}))}))),Hf=pe((function(t){let{isActive:n}=t;const{skipCheckMnemonic:a,openAuthBackupWalletModal:o,resetAuth:r}=He(),i=vs();Ql({isActive:n,onBack:r});const s=!e.p8S;return he.createElement("div",{className:kf.wrapper},he.createElement("div",{className:ps(kf.container,"custom-scroll")},he.createElement("div",{className:kf.header},he.createElement(ec,{isSimple:!0,isText:!0,onClick:r,className:kf.headerBackBlock},he.createElement("i",{className:ps(kf.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),he.createElement("span",null,i("Back"))),he.createElement("span",{className:kf.headerTitle}," ")),he.createElement(xm,{play:n,tgsUrl:Ju.snitch,previewUrl:Ju.snitchPreview,noLoop:!1,nonInteractive:!0,className:kf.sticker}),he.createElement("div",{className:kf.title},i("Create Backup")),he.createElement("div",{className:kf.info},he.createElement("p",{className:kf.info__space},dr(i("$auth_backup_description1"))),he.createElement("p",null,dr(i("$auth_backup_description2"))),he.createElement("p",null,dr(i("$auth_backup_description3")))),he.createElement("div",{className:kf.buttons},he.createElement(ec,{isPrimary:!0,className:ps(kf.btn,kf.btn_wide,!s&&kf.btn_single),onClick:o},i("$back_up_auth")),s&&he.createElement(ec,{isDestructive:!0,isText:!0,className:ps(kf.btn,kf.btn_push),onClick:a},i("Later")))))})),Wf=pe((e=>{let{isActive:t,method:n}=e;const{startCreatingBiometrics:a,resetAuth:o,skipCreateBiometrics:r}=He(),i=vs(),s="createAccount"!==n;return Ql({isActive:t,onBack:o}),he.createElement("div",{className:ps(kf.container,kf.container_scrollable,"custom-scroll")},he.createElement(xm,{play:t,tgsUrl:Ju.happy,previewUrl:Ju.happyPreview,noLoop:!1,nonInteractive:!0,className:kf.sticker}),he.createElement("div",{className:kf.title},i("Congratulations!")),he.createElement("p",{className:kf.info},he.createElement("b",null,i(s?"The wallet is imported":"The wallet is ready"),".")),he.createElement("p",{className:kf.info},i("Create a password or use biometric authentication to protect it.")),he.createElement("div",{className:kf.buttons},he.createElement(ec,{isPrimary:!0,className:kf.btn,onClick:a},i("Connect Biometrics")),he.createElement(ec,{isText:!0,className:ps(kf.btn,kf.btn_text),onClick:r},i("Use Password"))))})),$f=i.p+"settings_biometrics.507638446829e8e0d552.svg",Vf=i.p+"settings_face-id.9114cd96723fdb063bc4.svg",zf=pe((e=>{let{isActive:t,isLoading:n}=e;const{afterCreateNativeBiometrics:a,skipCreateNativeBiometrics:o,resetAuth:r}=He(),i=vs(),s=Yo(),l=Go();return Ql({isActive:t,onBack:r}),he.createElement("div",{className:kf.container},he.createElement(ec,{isSimple:!0,isText:!0,onClick:r,className:kf.headerBack},he.createElement("i",{className:ps(kf.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),he.createElement("span",null,i("Back"))),he.createElement("img",{src:s?Vf:$f,alt:"",className:kf.biometricsIcon}),he.createElement("div",{className:kf.biometricsTitle},i(s?"Use Face ID":l?"Use Touch ID":"Use Biometrics")),he.createElement("div",{className:kf.biometricsSubtitle},i("You can connect your biometric data for more convenience")),he.createElement("div",{className:kf.buttons},he.createElement(ec,{isPrimary:!0,className:kf.btn,isLoading:n,onClick:n?void 0:a},i(s?"Connect Face ID":l?"Connect Touch ID":"Connect Biometrics")),he.createElement(ec,{isText:!0,isDisabled:n,className:ps(kf.btn,kf.btn_text),onClick:o},i("Not Now"))))})),qf=/[`!@#$%^&*()_+\-=\]{};':"\\|,.<>?~]/,Kf=pe((function(n){let{isActive:a,isLoading:o,formId:r,onCancel:i,onSubmit:s,containerClassName:l}=n;const c=vs(),d=t.pz||t.Ni,u=me(null),[m,p]=ie(!1),[f,h]=ie(""),[g,v]=ie(""),[w,y,b]=Rd(!1),[E,k,C]=Rd(!1),[N,S]=ie(!1),[A,T]=ie(!1),[I,B,_]=Rd(!1),x=a&&f.length>0&&g.length>0&&!N,L=N&&!w,D=(e=>{let{firstPassword:t="",secondPassword:n="",requiredMinLength:a=8,requiredLength:o,isOnlyNumbers:r}=e;const[i,s]=ie(!1),[l,c]=ie(!1),[d,u]=ie(!1),[m,p]=ie(!1),[f,h]=ie(!1),[g,v]=ie(!1);return le((()=>{const e=Boolean(!o&&t.length<a||o&&t.length!==o);s(e),u(!r&&t.toLowerCase()===t),p(!r&&t.toUpperCase()===t),c(!/\d/.test(t)),v(Boolean(t&&t!==n)),h(!r&&!qf.test(t))}),[t,n,a,r,o]),{invalidLength:i,noNumber:l,noUpperCase:d,noLowerCase:m,noEqual:g,noSpecialChar:f}})({firstPassword:f,secondPassword:g,isOnlyNumbers:d,requiredLength:d?e.NEx:void 0});Zu(u,!a),cm(Boolean(a)),le((()=>{if(T(!1),""===f||!a||w)return void S(!1);const{noEqual:e,invalidLength:t}=D;I&&!m||!e||""===g?(!e||""===g||I&&!m)&&S(!1):(S(!0),T(!0)),d&&t&&!m&&S(!0)}),[a,f,g,D,I,w,m,d]);const O=$r((e=>{h(e),m&&p(!1)})),P=$r((e=>{v(e),m&&p(!1)})),F=$r((e=>{if(fs(e),!x)return;if(f!==g)return p(!0),S(!0),void T(!0);const t=Object.values(D).find((e=>e));d||!t||E?(E&&C(),s(f,d)):k()}));return he.createElement(he.Fragment,null,he.createElement("form",{id:r,className:ps(kf.form,l),onSubmit:F},he.createElement("div",{className:kf.formWidgets},he.createElement(Wm,{ref:u,type:"password",isRequired:!0,id:"first-password",inputMode:d?"numeric":void 0,hasError:L,placeholder:c("Enter your password..."),value:f,autoComplete:"new-password",onInput:O,onFocus:y,onBlur:b,className:kf.input,maxLength:d?e.NEx:void 0}),he.createElement(Wm,{type:"password",isRequired:!0,id:"second-password",inputMode:d?"numeric":void 0,placeholder:c("...and repeat it"),hasError:A,value:g,autoComplete:"new-password",onInput:P,onFocus:B,onBlur:_,className:kf.input,maxLength:d?e.NEx:void 0})),function(){if(A)return he.createElement("div",{className:ps(kf.errors,kf.error)},c("Passwords must be equal."));const{invalidLength:t,noUpperCase:n,noLowerCase:a,noNumber:o,noSpecialChar:r}=D;return d?he.createElement("div",{className:kf.passwordRules},he.createElement("span",{className:jf(L,t||o)},c("Password must contain %length% digits.",{length:e.NEx}))):he.createElement("div",{className:kf.passwordRules},c("To protect your wallet as much as possible, use a password with"),he.createElement("span",{className:jf(L,t)}," ",c("$auth_password_rule_8chars"),","),he.createElement("span",{className:jf(L,a)}," ",c("$auth_password_rule_one_small_char"),","),he.createElement("span",{className:jf(L,n)}," ",c("$auth_password_rule_one_capital_char"),","),he.createElement("span",{className:jf(L,o)}," ",c("$auth_password_rule_one_digit"),","),he.createElement("span",{className:jf(L,r)}," ",c("$auth_password_rule_one_special_char")),".")}(),he.createElement("div",{className:Vc.buttons},he.createElement(ec,{onClick:i,className:Vc.button,isDisabled:o},c("Cancel")),he.createElement(ec,{isSubmit:!0,isPrimary:!0,isDisabled:A||""===f,isLoading:o,className:Vc.button},c("Continue")))),he.createElement(Yc,{isOpen:E,isCompact:!0,onClose:C,title:c("Insecure Password")},he.createElement("p",{className:Vc.text},c("Your have entered an insecure password, which can be easily guessed by scammers.")),he.createElement("p",{className:Vc.text},c("Continue or change password to something more secure?")),he.createElement("div",{className:ps(Vc.buttons,Vc.buttonsNoExtraSpace)},he.createElement(ec,{isPrimary:!0,onClick:C,className:Vc.button},c("Change")),he.createElement(ec,{forFormId:r,isSubmit:!0,isDestructive:!0,className:Vc.button},c("Continue")))))}));function jf(e,t){return ps(kf.passwordRule,t?e?kf.invalid:void 0:kf.valid)}const Yf=pe((e=>{let{isActive:n,method:a,isLoading:o}=e;const{afterCreatePassword:r,resetAuth:i}=He(),s=vs(),l="createAccount"!==a,c=function(e){switch(e){case"createAccount":return"auth_create_password";case"importMnemonic":return"auth_import_mnemonic_password";case"importHardwareWallet":return"auth_import_hardware_password"}}(a),d=!(t.uh||jo());Ql({isActive:n,onBack:i});const u=$r(((e,t)=>{r({password:e,isPasswordNumeric:t})}));return he.createElement("div",{className:ps(kf.container,kf.container_scrollable,"custom-scroll")},he.createElement(xm,{play:n,tgsUrl:Ju.guard,previewUrl:Ju.guardPreview,noLoop:!1,nonInteractive:!0,className:kf.sticker}),he.createElement("div",{className:ps(kf.title,!d&&kf.titleSmallMargin)},s(d?"Congratulations!":"Create Password")),d&&he.createElement(he.Fragment,null,he.createElement("p",{className:kf.info},he.createElement("b",null,s(l?"The wallet is imported":"The wallet is ready"),".")),he.createElement("p",{className:kf.info},s("Create a password to protect it."))),he.createElement(Kf,{isActive:n,isLoading:o,formId:c,onCancel:i,onSubmit:u}))})),Gf=pe((t=>{let{isActive:n,method:a}=t;const{createPin:o,resetAuth:r}=He(),i=vs(),[s,l]=ie(""),d="createAccount"!==a;le((()=>{n&&l("")}),[n]),Ql({isActive:n,onBack:r});const u=$r((async e=>{await(0,c.v7)(750),o({pin:e,isImporting:d})}));return he.createElement("div",{className:ps(kf.container,kf.containerFullSize)},he.createElement(ec,{isSimple:!0,isText:!0,onClick:r,className:kf.headerBack},he.createElement("i",{className:ps(kf.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),he.createElement("span",null,i("Back"))),he.createElement("div",{className:kf.pinPadHeader},he.createElement(xm,{play:n,tgsUrl:Ju.guard,previewUrl:Ju.guardPreview,noLoop:!1,nonInteractive:!0}),he.createElement("div",{className:kf.title},i(d?"Wallet is imported!":"Wallet is ready!"))),he.createElement(rp,{isActive:n,title:i("Create a code to protect it"),length:e.NEx,value:s,onChange:l,onSubmit:u}))})),Qf=Xn.Z2,Xf=pe((e=>{let{isActive:t}=e;const n=vs(),[a,o]=Rd(),[r,i]=Rd(),[s,l]=Rd();lf(o,t?700:void 0),lf(i,t?700+Qf:void 0),lf(l,t?700+2*Qf:void 0);const c=Vd(a),d=Vd(r),u=Vd(s);return he.createElement("div",{className:ps(kf.container,"custom-scroll")},he.createElement(xm,{play:t,tgsUrl:Ju.hello,previewUrl:Ju.helloPreview,nonInteractive:!0,noLoop:!1}),he.createElement("div",{className:kf.title},n("Creating Wallet...")),he.createElement("div",{className:kf.counter},he.createElement("p",{className:kf.counterTitle},n("On the count of three...")),he.createElement("b",{className:ps(kf.counterDigit,"rounded-font",c)},"1"),he.createElement("b",{className:ps(kf.counterDigit,"rounded-font",d)},"2"),he.createElement("b",{className:ps(kf.counterDigit,"rounded-font",u)},"3")))})),Jf=pe((function(e){let{id:t,className:n,contentClassName:a,children:o,checked:r,isDisabled:i,onChange:s}=e;const l=$r((e=>{e.preventDefault(),s(e.currentTarget.checked)}));return he.createElement("label",{className:ps("ydGmLQB9",n)},he.createElement("input",{id:t,type:"checkbox",className:"aOFCdA5h",checked:r,disabled:i,tabIndex:0,onChange:i?void 0:l}),he.createElement("div",{className:ps("ZEXtFSPZ",a)},o))})),Zf=pe((function(t){let{isOpen:n,onSkip:a,onClose:o}=t;const{openAuthBackupWalletModal:r}=He(),i=$r((()=>{o(),r()})),s=vs(),l=!e.p8S;return he.createElement(Yc,{isOpen:n,onClose:o,forceBottomSheet:!0,nativeBottomSheetKey:"backup-warning",dialogClassName:kf.disclaimerBackupDialog},he.createElement("p",{className:kf.backupNotice},dr(s("$auth_backup_warning_notice"))),he.createElement("div",{className:kf.backupNoticeButtons},he.createElement(ec,{isPrimary:!0,className:ps(kf.btn,kf.btn_wide,!l&&kf.btn_single),onClick:i},s("Back Up Now")),l&&he.createElement(ec,{isDestructive:!0,className:ps(kf.btn,kf.btn_mini),onClick:a},s("Later"))))})),eh=pe((t=>{let{isActive:n,isImport:a}=t;const{skipCheckMnemonic:o,confirmDisclaimer:r,cancelDisclaimer:i}=He(),s=vs(),[l,c,d]=Rd(!1);Ql({isActive:n,onBack:i});const u=$r((e=>{e?(c(),a&&window.setTimeout(r,350)):d()}));Nl("backup-warning",c);const m=$r((()=>{u(!1)})),p=$r((()=>{o(),m()}));return he.createElement("div",{className:kf.wrapper},he.createElement("div",{className:ps(kf.container,kf.container_scrollable,"custom-scroll")},he.createElement("div",{className:kf.stickerAndTitle},he.createElement(xm,{play:n,tgsUrl:Ju.snitch,previewUrl:Ju.snitchPreview,noLoop:!1,nonInteractive:!0,size:e.lWW,className:kf.sticker}),he.createElement("div",{className:kf.title},s("Use Responsibly"))),he.createElement("div",{className:kf.infoBlock},he.createElement("p",{className:kf.text},dr(s("$auth_responsibly_description1",{app_name:e.C39}))),he.createElement("p",{className:kf.text},dr(s("$auth_responsibly_description2"))),he.createElement("p",{className:kf.text},dr(s("$auth_responsibly_description3",{app_name:e.C39}))),he.createElement("p",{className:kf.text},dr(s("$auth_responsibly_description4")))),he.createElement(Jf,{id:"information-confirmed",checked:l,isDisabled:a&&l,className:kf.informationCheckbox,contentClassName:kf.informationCheckboxContent,onChange:u},s("I have read and accept this information")),!a&&he.createElement(Zf,{isOpen:l,onClose:m,onSkip:p})))})),th=[...Array(e.xA_)].map(((e,t)=>({id:t,label:`${t+1}`}))),nh=e.PcM,ah=pe($e((e=>({error:e.auth.error,isLoading:e.auth.isLoading})))((t=>{let{isActive:a,isLoading:o,error:r}=t;const{afterImportMnemonic:i,resetAuth:l,cleanAuthError:c}=He(),d=vs(),[u,m]=ie({}),{isPortrait:p}=po(),f=$r((t=>{var n;(e.Yyb.includes(t.length)||lr(t))&&(requestAnimationFrame((()=>{m(t)})),null!==(n=document.activeElement)&&void 0!==n&&n.id.startsWith("import-mnemonic-")&&document.activeElement.blur())})),h=$r((e=>{var t;const n=oh(e);if(1===n.length&&null!==(t=document.activeElement)&&void 0!==t&&t.id.startsWith("import-mnemonic-")){document.activeElement.value=n[0];const e=new Event("input");document.activeElement.dispatchEvent(e)}else f(n)}));((e,t)=>{le((()=>{if(e)return document.addEventListener("paste",n,!1),()=>{document.removeEventListener("paste",n,!1)};function n(e){if(!e.clipboardData)return;const n=e.clipboardData.getData("text").substring(0,4096);n&&(e.preventDefault(),t(n))}}),[e,t])})(Boolean(a),h);const g=de((()=>{const t=(0,s.oE)(Object.values(u));return!e.Yyb.includes(t.length)&&!lr(t)||!!r}),[u,r]),v=$r(((t,n)=>{c();const a=oh(t);e.Yyb.includes(a.length)?f(a):m({...u,[n]:a[0].toLowerCase()})})),w=$r((()=>{setTimeout((()=>{l()}),250)})),y=$r((async()=>{if(g)return;const e=(0,s.oE)(Object.values(u));(12!==e.length||await(0,n.p)("validateMnemonic",e))&&i({mnemonic:e})}));return Ql({isActive:a,onBack:w}),le((()=>g||o?void 0:Qs({onEnter:{handler:y,noStopPropagation:!0}})),[y,o,g,u]),he.createElement("div",{className:ps(kf.container,kf.container_scrollable,"custom-scroll")},he.createElement(xm,{play:a,size:e.jzp,tgsUrl:Ju.snitch,previewUrl:Ju.snitchPreview,nonInteractive:!0,noLoop:!1,className:kf.sticker}),he.createElement("div",{className:ps(kf.title,kf.title_afterSmallSticker)},d("Enter Secret Words")),he.createElement("div",{className:ps(kf.info,kf.infoSmallFont,kf.infoPull)},dr(d(e.iAh?"$auth_import_mnemonic_description":"$auth_import_24_mnemonic_description"))),he.createElement("div",{className:kf.importingContent},th.map(((t,n)=>{let{id:a,label:o}=t;return he.createElement(Tf,{key:a,id:`import-mnemonic-${a}`,nextId:a+1<e.xA_?`import-mnemonic-${a+1}`:void 0,labelText:o,value:u[a],suggestionsPosition:rh(a,p),inputArg:a,onInput:v,onEnter:n===e.xA_-1?y:void 0})}))),he.createElement("div",{className:kf.buttons},r&&he.createElement("div",{className:kf.footerError},d(r)),he.createElement("div",{className:kf.buttons__inner},he.createElement(ec,{onClick:w,className:kf.footerButton},d("Cancel")),he.createElement(ec,{isPrimary:!0,isDisabled:g,isLoading:o,className:kf.footerButton,onClick:y},d("Continue")))))})));function oh(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(/(?:\r\n)+|[\r\n\s;,\t]+/g," ").trim().split(" ").map((e=>e.slice(0,nh)))}function rh(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||e>5&&e<8||e>13&&e<16||e>21?"top":void 0}const ih=pe((function(t){let{customStickerClassName:n,customButtonWrapperClassName:a,isFullSizeButton:o,isActive:r,isFirstCheckboxSelected:i,isSecondCheckboxSelected:s,isThirdCheckboxSelected:l,textFirst:c,textSecond:d,textThird:u,onFirstCheckboxClick:m,onSecondCheckboxClick:p,onThirdCheckboxClick:f,onSubmit:h}=t;const g=vs(),v=i&&s&&l,w=$r((()=>{v&&h()}));return he.createElement(he.Fragment,null,he.createElement(xm,{tgsUrl:Ju.bill,previewUrl:Ju.billPreview,size:e.lWW,play:r,nonInteractive:!0,noLoop:!1,className:n||If}),he.createElement(Jf,{checked:i,onChange:m},dr(c)),he.createElement(Jf,{checked:s,onChange:p},dr(d)),he.createElement(Jf,{checked:l,onChange:f},dr(u)),he.createElement("div",{className:a||Bf},he.createElement(ec,{isPrimary:!0,isDisabled:!v,className:o?_f:void 0,onClick:w},g("Understood"))))})),sh=pe((e=>{let{isActive:t}=e;const{openCreateBackUpPage:n,openMnemonicPage:a}=He(),[o,r]=ie(!1),[i,s]=ie(!1),[l,c]=ie(!1);Ql({isActive:t,onBack:n});const d=vs();return he.createElement("div",{className:kf.wrapper},he.createElement("div",{className:ps(kf.container,"custom-scroll")},he.createElement("div",{className:kf.header},he.createElement(ec,{isSimple:!0,isText:!0,onClick:n,className:kf.headerBackBlock},he.createElement("i",{className:ps(kf.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),he.createElement("span",null,d("Back"))),he.createElement("span",{className:kf.headerTitle},d("Safety Rules"))),he.createElement(ih,{isActive:t,isFullSizeButton:!0,textFirst:d("$safety_rules_one"),textSecond:d("$safety_rules_two"),textThird:d("$safety_rules_three"),isFirstCheckboxSelected:o,onFirstCheckboxClick:r,isSecondCheckboxSelected:i,onSecondCheckboxClick:s,isThirdCheckboxSelected:l,onThirdCheckboxClick:c,onSubmit:a})))})),lh=pe((function(e){let{mnemonic:t}=e;const n=vs();return he.createElement(he.Fragment,null,he.createElement("p",{className:ps(xf,Df)},dr(n("$mnemonic_list_description"))),he.createElement("p",{className:ps(Lf)},dr(n("$mnemonic_warning"))),he.createElement("ol",{className:"Yaqcau6G"},null==t?void 0:t.map(((e,t)=>he.createElement("li",{key:t,className:"qdW2OhFc"},e)))))})),ch=pe((function(t){let{isActive:n,mnemonic:a,onSubmit:o,buttonText:r}=t;return he.createElement(he.Fragment,null,he.createElement(xm,{tgsUrl:Ju.bill,previewUrl:Ju.billPreview,size:e.lWW,play:n,nonInteractive:!0,noLoop:!1,className:If}),he.createElement(lh,{mnemonic:a}),he.createElement("div",{className:Bf},he.createElement(ec,{isPrimary:!0,onClick:o,className:_f},r)))})),dh=pe((e=>{let{isActive:t,mnemonic:n}=e;const{openAuthBackupWalletModal:a,openCheckWordsPage:o}=He(),r=vs();Ql({isActive:t,onBack:a});const i=(null==n?void 0:n.length)||0;return he.createElement("div",{className:kf.wrapper},he.createElement("div",{className:ps(kf.container,kf.containerAlignTop,"custom-scroll")},he.createElement("div",{className:kf.header},he.createElement(ec,{isSimple:!0,isText:!0,onClick:a,className:kf.headerBackBlock},he.createElement("i",{className:ps(kf.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),he.createElement("span",null,r("Back"))),he.createElement("span",{className:kf.headerTitle},r("%1$d Secret Words",i))),he.createElement(ch,{isActive:t,mnemonic:n,onSubmit:o,buttonText:r("Let's Check")})))})),uh=pe($e((e=>({hasAccounts:Boolean(e.currentAccountId),isLoading:e.auth.isLoading,theme:e.settings.theme})))((function(n){let{isActive:a,hasAccounts:o,isLoading:r,theme:i}=n;const{startCreatingWallet:s,startImportingWallet:l,openAbout:c,openHardwareWalletModal:d,resetAuth:u}=He(),m=vs(),p="light"===Fd(i)?Ep:bp,[f,h]=Rd(),{transitionClassNames:g}=ws(f,void 0,void 0,"slow");return he.createElement("div",{className:ps(kf.container,"custom-scroll")},o&&he.createElement(ec,{isSimple:!0,isText:!0,onClick:u,className:kf.headerBack},he.createElement("i",{className:ps(kf.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),he.createElement("span",null,m("Back"))),e.TI6?he.createElement(xm,{play:a,tgsUrl:Ju.coreWalletLogo,previewUrl:Ju.coreWalletLogoPreview,noLoop:!1,nonInteractive:!0}):he.createElement("img",{src:p,alt:e.C39,className:ps(kf.logo,g),onLoad:h}),he.createElement("div",{className:ps(kf.appName,"rounded-font")},e.C39),he.createElement("div",{className:kf.info},dr(m("$auth_intro"))),!e.TI6&&he.createElement(ec,{isText:!0,className:ps(kf.btn,kf.btn_about),onClick:c},m("More about %app_name%",{app_name:e.C39}),he.createElement("i",{className:"icon-chevron-right","aria-hidden":!0})),he.createElement("div",{className:kf.importButtonsBlock},he.createElement(ec,{isPrimary:!0,className:kf.btn,isLoading:r,onClick:r?void 0:s},m("Create Wallet")),he.createElement("span",{className:kf.importText},m("or import from")),he.createElement("div",{className:kf.importButtons},he.createElement(ec,{className:ps(kf.btn,!t.sC&&kf.btn_single),onClick:r?void 0:l},m("Secret Words")),t.sC&&he.createElement(ec,{className:ps(kf.btn,kf.btn_mini),onClick:r?void 0:d},m("Ledger")))))}))),mh=Object.keys(Zt).length/2,ph=pe($e((e=>({...(0,s.Up)(e.auth,["state","biometricsStep","error","mnemonic","mnemonicCheckIndexes","isLoading","method","isBackupModalOpen"]),theme:e.settings.theme})))((e=>{var n;let{state:a,biometricsStep:o,error:r,isLoading:i,mnemonic:s,mnemonicCheckIndexes:l,method:c,theme:d}=e;const{closeAbout:u}=He(),{isPortrait:m}=po(),p=null!==(n=pf(a===Zt.ready?void 0:a,!0))&&void 0!==n?n:-1,[f,h]=ie(void 0),[g,v]=ie(p+1),w=$r((()=>{v(p+1),h(p===Zt.confirmPin?Zt.createPin:void 0)}));function y(e,t,n){switch(n){case Zt.none:return he.createElement(uh,{isActive:e});case Zt.createWallet:return he.createElement(Xf,{isActive:e});case Zt.checkPassword:return he.createElement(Cf,{isActive:e,isLoading:i,method:"createAccount",error:r});case Zt.createPin:return he.createElement(Gf,{isActive:e,method:"createAccount"});case Zt.confirmPin:return he.createElement(Uf,{isActive:e,method:"createAccount"});case Zt.createBiometrics:return he.createElement(Wf,{isActive:e,method:"createAccount"});case Zt.confirmBiometrics:return he.createElement(Mf,{isActive:e,isLoading:i,error:r,biometricsStep:o});case Zt.createNativeBiometrics:return he.createElement(zf,{isActive:e,isLoading:i});case Zt.createPassword:return he.createElement(Yf,{isActive:e,isLoading:i,method:"createAccount"});case Zt.createBackup:return he.createElement(Hf,{isActive:e});case Zt.disclaimerAndBackup:return he.createElement(eh,{key:"create",isActive:e});case Zt.importWallet:return he.createElement(ah,{isActive:e});case Zt.importWalletCreatePin:return he.createElement(Gf,{isActive:e,method:"importMnemonic"});case Zt.importWalletConfirmPin:return he.createElement(Uf,{isActive:e,method:"importMnemonic"});case Zt.importWalletCheckPassword:return he.createElement(Cf,{isActive:e,isLoading:i,method:"importMnemonic",error:r});case Zt.disclaimer:return he.createElement(eh,{key:"import",isActive:e,isImport:!0});case Zt.importWalletCreateNativeBiometrics:return he.createElement(zf,{isActive:e,isLoading:i});case Zt.importWalletCreatePassword:return he.createElement(Yf,{isActive:e,isLoading:i,method:c});case Zt.importWalletCreateBiometrics:return he.createElement(Wf,{isActive:e,method:c});case Zt.importWalletConfirmBiometrics:return he.createElement(Mf,{isActive:e,isLoading:i,error:r,biometricsStep:o});case Zt.about:return he.createElement(Ef,{isActive:e,handleBackClick:u,theme:d});case Zt.safetyRules:return he.createElement(sh,{isActive:e});case Zt.mnemonicPage:return he.createElement(dh,{isActive:e,mnemonic:s});case Zt.checkWords:return he.createElement(Ff,{isActive:e,mnemonic:s,checkIndexes:l})}}return he.createElement(gp,{name:m?t.Ni?"slideFade":"slideLayers":"semiFade",activeKey:p,renderCount:mh,shouldCleanup:!0,className:kf.transitionContainer,slideClassName:kf.transitionSlide,prevKey:f,nextKey:g,onStop:w,shouldWrap:!0},y)})));function fh(){return t.Ni?"slideFadeAndroid":t.pz?"slideLayers":"slideFade"}function hh(e,t){var n;const a=null!==(n=pf(t?e:void 0,!0))&&void 0!==n?n:-1,[o,r]=ie(),i=$r((()=>{r(t?a+1:void 0)}));return le((()=>{t&&setTimeout(i,300)}),[t,i]),{renderingKey:a,nextKey:o,updateNextKey:i}}function gh(e){const{mtwCardType:t,mtwCardTextType:n,mtwCardBorderShineType:a}=(null==e?void 0:e.metadata)||{},o=!!t&&"standard"!==t,r="standard"!==t?void 0:"dark"===n?"MtwCard__darkText":"MtwCard__lightText";return{backgroundImageUrl:e?eo(e):void 0,withTextGradient:o,classNames:ps(t&&`MtwCard__${t}`,r),borderShineType:a}}const vh="MelIpdSX",wh="R6UTDxww",yh="aB938ron",bh=function(e){let{isActive:t,accountId:n,addressByChain:a,isHardware:o,title:r,cardBackgroundNft:i,canEditAccount:s,onClick:l,onEdit:c}=e;const d=vs(),u=Object.keys(a).length>1?d("Multichain"):xt(a.ton,o?3:4,4),{backgroundImageUrl:m,withTextGradient:p,classNames:f}=gh(i),h=ps("nW3c_nQf",t&&"ApT2_0sQ",m&&"q9ZqciDr",f);return he.createElement("div",{className:h,"aria-label":d("Switch Account"),onClick:t?void 0:()=>l(n),style:dm(m&&`--bg: url(${m})`)},r&&he.createElement("span",{className:ps("vSsIdneH",p&&"gradientText")},r),he.createElement("div",{className:ps("HvcgH37L",p&&"gradientText")},o&&he.createElement("i",{className:"icon-ledger","aria-hidden":!0}),he.createElement("span",null,u)),t&&s&&he.createElement("div",{className:"k40niuQ5",onClick:e=>{fs(e),c()}},he.createElement("i",{className:"icon-pen","aria-hidden":!0})))},Eh={accounts:"DP7r4ob0",accounts_two:"aMoUTjsw",accountsTwo:"aMoUTjsw",account:"feJs1qiP",account_current:"LGBe77Zo",accountCurrent:"LGBe77Zo",account_disabled:"QT4AQhSL",accountDisabled:"QT4AQhSL",account_inactive:"JLVV6MK1",accountInactive:"JLVV6MK1",accounts_single:"xq8sJcx0",accountsSingle:"xq8sJcx0",accountName:"xRepCoTw",button_current:"CMlJY5eP",buttonCurrent:"CMlJY5eP",accountFooter:"aSHneDhG",iconLedger:"fQt3UNlM",accountAddress:"U1ocd7xK",accountCheckMark:"WoJjd6rF",accountCheckMark_active:"Xs5JWZXM",accountCheckMarkActive:"Xs5JWZXM"},kh=pe((function(e){let{accountId:t,address:n,title:a,isHardware:o,ariaLabel:r,isActive:i,isLoading:s,className:l,withCheckbox:c,cardBackgroundNft:d,onClick:u}=e;const{backgroundImageUrl:m,withTextGradient:p,classNames:f}=gh(d),h=ps(l,Eh.account,m&&Eh.customCard,f,i&&!c&&Eh.account_current,s&&Eh.account_disabled);return he.createElement("div",{key:t,className:h,onClick:u,style:dm(m&&`--bg: url(${m})`),"aria-label":r},a&&he.createElement("span",{className:ps(Eh.accountName,p&&"gradientText")},a),he.createElement("div",{className:ps(Eh.accountFooter,p&&"gradientText")},o&&he.createElement("i",{className:ps("icon-ledger",o&&Eh.iconLedger),"aria-hidden":!0}),he.createElement("span",{className:Eh.accountAddress},xt(n,o?3:4,4))),c&&he.createElement("div",{className:ps(Eh.accountCheckMark,i&&Eh.accountCheckMark_active)}))})),Ch=pe((function(e){let{accountLength:t,labelText:n,children:a,className:o}=e;const r=ps(o,Eh.accounts,"custom-scroll",1===t&&Eh.accounts_single,2===t&&Eh.accounts_two);return he.createElement(he.Fragment,null,n&&he.createElement("p",{className:Eh.label},n),he.createElement("div",{className:r},a))})),Nh={modalDialog:"zdmLsynF",modalDialogInsideSettings:"kYjygKEY",slide:"a2oy8Zll",container:"eM1PpsST",containerStatic:"jHYtCW5T",content:"_3mWK1CH",iconBlockSlide:"WEcWgMzV",iconBlockSlideStatic:"VCK1YGjr",iconBlock:"KE3Egymz",mobile:"kpjonisY",ledgerIcon:"iuLLqpxI",textBlock:"bn1fb2en",textBlock_gap:"bBaOfZlx",textBlockGap:"bBaOfZlx",textBlock_success:"j8GYzR5R",textBlockSuccess:"j8GYzR5R",textBlock_small:"Rt2IdHAB",textBlockSmall:"Rt2IdHAB",textIcon:"SOw0Xtct",text:"GuAw_sFJ",text_failed:"XPczA9Ds",textFailed:"XPczA9Ds",text_connected:"YyHAVq6P",textConnected:"YyHAVq6P",text_success:"tTgIgIgG",textSuccess:"tTgIgIgG",actionBlock:"hiaAxVr_",actionBlock_single:"ApwM97qB",actionBlockSingle:"ApwM97qB",button:"LZNOcG4M",button_single:"Hm4XX1NN",buttonSingle:"Hm4XX1NN",accounts:"qG6SFrZs",accounts_two:"o_4z0gP4",accountsTwo:"o_4z0gP4",account:"_Vsrbub9",account_current:"uo8yhRNU",accountCurrent:"uo8yhRNU",addAccountContainer:"E5i9UUtD",addAccountIcon:"j5VZHMly",accountName:"V6_KYxce",accountFooter:"LXgNcuuY",accountCurrencyIcon:"g_b7EuV5",accountAddress:"pL4iTSDM",accountCheckMark:"mpVXcyoe",accountCheckMark_active:"lVx2a3if",accountCheckMarkActive:"lVx2a3if",sticker:"MfAU5ZEs",declinedLabel:"aWyFXa02",declinedLabelDetailed:"q1lhwUmL",dropdownBlock:"_2MGoq5H"};var Sh=function(e){return e[e.Waiting=0]="Waiting",e[e.Error=1]="Error",e}(Sh||{});const Ah=pe((function(t){let{isActive:n,text:a,error:o,onClose:r,onTryAgain:i}=t;const s=vs(),[l,c]=ie(Sh.Waiting),[d,u]=ie(Sh.Error);function m(t,n,l){switch(l){case Sh.Waiting:return function(t){return he.createElement(he.Fragment,null,he.createElement(yf,{title:s("Confirm via Ledger"),onClose:r}),he.createElement("div",{className:Nh.container},he.createElement(xm,{size:e.igk,play:t,noLoop:!1,nonInteractive:!0,className:Nh.sticker,tgsUrl:Ju.holdTon,previewUrl:Ju.holdTonPreview}),he.createElement("div",{className:ps(Nh.textBlock,Nh.textBlock_small)},he.createElement("span",{className:Nh.text},a)),he.createElement("div",{className:ps(Nh.actionBlock,Nh.actionBlock_single)},he.createElement(ec,{onClick:r,className:ps(Nh.button,Nh.button_single)},s("Cancel")))))}(t);case Sh.Error:return function(t){const n=o&&["$hardware_blind_sign_not_enabled","$hardware_blind_sign_not_enabled_internal"].includes(o);return he.createElement(he.Fragment,null,he.createElement(yf,{title:s("Confirm via Ledger"),onClose:r}),he.createElement("div",{className:Nh.container},he.createElement(xm,{size:e.igk,play:t,noLoop:!1,nonInteractive:!0,className:Nh.sticker,tgsUrl:Ju.holdTon,previewUrl:Ju.holdTonPreview}),he.createElement("div",{className:ps(Nh.declinedLabel,n&&Nh.declinedLabelDetailed)},dr(s(o))),he.createElement("div",{className:Nh.actionBlock},he.createElement(ec,{onClick:r,className:Nh.button},s("Cancel")),he.createElement(ec,{isPrimary:!0,onClick:i,className:Nh.button},s("Try Again")))))}(t)}}return Ql({isActive:n,onBack:r}),le((()=>{o?(c(Sh.Error),u(Sh.Waiting)):(c(Sh.Waiting),u(Sh.Error))}),[o]),he.createElement(gp,{name:fh(),className:ps(Vc.transition,"custom-scroll"),slideClassName:ps(Vc.transitionSlide,Nh.slide),activeKey:l,nextKey:d},m)}));function Th(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;const[n,a]=ie(e);return le((()=>{if(e===n)return;const o=window.setTimeout((()=>{a(e)}),t);return()=>{window.clearTimeout(o)}}),[e,t,n]),n}function Ih(e){return Qs({onEsc:()=>{e()}})}const Bh={wrapper:"VydD7Rve",inPortal:"vcuzKHhA",bubble:"mY0hTIiL",top:"FsyRNnQH",bottom:"tkKrx8OR",left:"MvEERemq",right:"y6xJQNRF",backdrop:"gc2eH8vQ",menu:"gtd29jbF",suggestion:"BYQgxGEv",dropdown:"IxGdkmhI"},_h=200,xh=e=>{let{children:t,isOpen:n,id:a,menuRef:o,className:r,bubbleClassName:i,style:s,positionX:l="left",positionY:c="top",transformOriginX:d,transformOriginY:u,type:m="menu",autoClose:p=!1,shouldSkipTransition:f,noBackdrop:h=!1,withPortal:g,noCloseOnBackdrop:v=!1,shouldCleanup:w,onCloseAnimationEnd:y,onClose:b,onMouseEnter:E,onMouseLeave:k}=e,C=me(null);o&&(C=o),Ql({isActive:Boolean(n&&b),onBack:b,shouldBeReplaced:!0});const{shouldRender:N,transitionClassNames:S}=ws(n,y,f,void 0,f);le((()=>n&&b?Ih(b):void 0),[n,b]),vl((e=>{let[t]=e;(n||!n&&!0===t)&&_(_h)}),[n]),function(e,t,n){le((()=>{const a=e=>{const a=t.current,o=e.target;a&&o&&(a.contains(e.target)&&!o.classList.contains(Bh.backdrop)||(e.preventDefault(),e.stopPropagation(),n&&n()))};return e&&n&&document.addEventListener("mousedown",a),()=>{document.removeEventListener("mousedown",a)}}),[e,t,n])}(n&&!h,C,v?void 0:b);const A=ps(Bh.bubble,i,"menu-bubble",Bh[c],Bh[l],Bh[m],S),T=void 0!==u?`${u}px`:void 0,I=void 0!==d?`${d}px`:void 0;if(w&&!N)return;const B=he.createElement("div",{id:a,className:ps(Bh.wrapper,r,g&&Bh.inPortal),style:s,onMouseEnter:E,onMouseLeave:n?k:void 0},n&&!h&&he.createElement("div",{className:Bh.backdrop,onClick:fs}),he.createElement("div",{ref:C,className:A,style:`transform-origin: ${I||l} ${T||c}`,onClick:p?b:void 0},t));return g?he.createElement($c,null,B):B},Lh={button:"zVKWQb4E",item:"p6wqAx5G",wide:"r6y8uqO8",interactive:"Q9ntFVQX",label:"D1GD_LrJ",light:"soVchDDr",disabled:"pvIBCUiV",dangerous:"pGdKfZ0g",separator:"KUw9xH1F",buttonIcon:"N6o0srlb",item_selected:"RsC78CT6",itemSelected:"RsC78CT6",item_with_icon:"U_181tTH",itemWithIcon:"U_181tTH",itemIcon:"Y6vHSLLj",itemOverlayIcon:"Kyq0Mbfk",insideButton:"rpgBhur3",fontIcon:"YG4KjBia",itemName:"Mj3kpKk7",itemDescription:"SGTt7OqT",dropdownButtonWrapper:"M88J3eDx",spinner:"O6oZGmyS"},Dh=pe((function(e){let{isOpen:t,selectedValue:n,items:a,withPortal:o,anchorPosition:r,menuPosition:i,menuPositionHorizontal:s,menuStyle:l,transformOriginX:c,transformOriginY:d,shouldTranslateOptions:u,className:m,bubbleClassName:p,buttonClassName:f,iconClassName:h,fontIconClassName:g,shouldCleanup:v,onSelect:w,onClose:y}=e;const b=vs(),E=me(null),[k,C]=ie(null==r?void 0:r.x);le((()=>{if(t&&E.current&&r){const e=E.current.offsetWidth,t=ia().width;let n=null==r?void 0:r.x;n=Math.min(n,n-e/2-6,t-e-6),n=Math.max(n,6),C(n)}}),[r,t]),r&&(l=`${l||""};left: ${k}px; top: ${r.y}px;`);const N=Th(l);return he.createElement(xh,{menuRef:E,isOpen:t,type:"dropdown",style:l||N,withPortal:o,positionX:s,positionY:i,transformOriginX:c,transformOriginY:d,className:m,bubbleClassName:p,shouldCleanup:v,onClose:y},a.map(((e,t)=>{const a=ps(Lh.item,e.icon&&Lh.item_with_icon,e.isDisabled&&Lh.disabled,e.isDangerous&&Lh.dangerous,e.withSeparator&&t>0&&Lh.separator,n===e.value&&Lh.item_selected,f,"capture-scroll");return he.createElement("button",{key:e.value,type:"button",className:a,disabled:e.isDisabled,onClick:t=>((e,t)=>{e.stopPropagation(),null==w||w(t),y()})(t,e.value)},e.icon&&he.createElement("img",{src:e.icon,alt:"",className:ps("icon",Lh.itemIcon,h)}),e.overlayIcon&&he.createElement("img",{src:e.overlayIcon,alt:"",className:ps("icon",Lh.itemOverlayIcon)}),e.fontIcon&&he.createElement("i",{className:ps(`icon icon-${e.fontIcon}`,Lh.fontIcon,g),"aria-hidden":!0}),he.createElement("span",{className:ps(Lh.itemName,"menuItemName")},u?b(e.name):e.name,e.description&&he.createElement("span",{className:Lh.itemDescription},u?b(e.description):e.description)))})))})),Oh={spinner:"o7Soo94L",inner:"fnzgQDjn",spin:"dPrfSpVS",white:"ZwvOHvLC"},Ph=pe((function(e){let{color:t,className:n}=e;const a=vs(),o=ps(Oh.spinner,t&&Oh[t],n);return he.createElement("div",{className:o,"aria-label":a("Loading...")},he.createElement("i",{className:ps(Oh.inner,"icon-spinner"),"aria-hidden":!0}))})),Fh="caret",Rh="right",Mh=pe((function(e){let{label:t,items:n,selectedValue:a,className:o,itemClassName:r,menuClassName:i,theme:s,arrow:l=Fh,menuPosition:c,menuPositionHorizontal:d=Rh,disabled:u,shouldTranslateOptions:m,onChange:p,isLoading:f=!1}=e;const h=vs(),[g,v,w]=Rd(),[y,b]=de((()=>{var e,t;const o=n.find((e=>void 0!==a&&e.value===a));return[o,null!==(e=null!==(t=null==o?void 0:o.selectedName)&&void 0!==t?t:null==o?void 0:o.name)&&void 0!==e?e:""]}),[n,a]),E=$r((e=>{e!==a&&(null==p||p(e))}));if(!n.length)return;const k=ps(Lh.buttonIcon,"chevron"===l?"icon-chevron-down":"icon-caret-down"),C=n.length>1,N=Boolean(t),S=ps(o,s&&Lh[s],C&&Lh.interactive,N&&Lh.wide,N&&u&&Lh.disabled),A=ps(Lh.button,C&&Lh.interactive,!N&&u&&Lh.disabled,C&&i,r);return he.createElement("div",{className:S,onClick:N&&!u&&C?v:void 0},t&&he.createElement("span",{className:Lh.label},t),f?he.createElement(Ph,{className:Lh.spinner}):he.createElement("button",{type:"button",className:A,onClick:!N&&C?v:void 0,disabled:u},(null==y?void 0:y.icon)&&he.createElement("img",{src:y.icon,alt:"",className:Lh.itemIcon}),(null==y?void 0:y.overlayIcon)&&he.createElement("img",{src:null==y?void 0:y.overlayIcon,alt:"",className:ps("icon",Lh.itemOverlayIcon,Lh.insideButton)}),(null==y?void 0:y.fontIcon)&&he.createElement("i",{className:ps(`icon-${y.fontIcon}`,Lh.fontIcon),"aria-hidden":!0}),he.createElement("span",{className:ps(Lh.itemName,"itemName",r)},m?h(b):b),C&&he.createElement("i",{className:k,"aria-hidden":!0})),C&&he.createElement(Dh,{isOpen:g&&!f,menuPositionHorizontal:d,menuPosition:c,items:n,shouldTranslateOptions:m,selectedValue:a,buttonClassName:r,onSelect:E,onClose:w}))})),Uh=i.p+"desktop.5b697d2d91cbfdc91f29.png",Hh=i.p+"desktop-dark.aacce131e03bae83c744.png",Wh=i.p+"ios.e1b9f617ea2e6eb6f0e8.png",$h=i.p+"ios-dark.e8e57959fdefeffa2288.png",Vh=i.p+"mobile-bluetooth.53b8a215974d8c6346e4.png",zh=i.p+"mobile-bluetooth-dark.495775c53865fef46070.png",qh=i.p+"mobile-usb.165003c19b688130909d.png",Kh=i.p+"mobile-usb-dark.273f665b4cc76537f15b.png",jh={usb:"USB",bluetooth:"Bluetooth"},Yh=pe($e((e=>{const{availableTransports:t,lastUsedTransport:n}=e.hardware;return{availableTransports:t,lastUsedTransport:n,currentTheme:e.settings.theme}}))((function(n){let{isActive:a,isStatic:o,state:r,isLedgerConnected:i,isTonAppConnected:s,isRemoteTab:l,shouldDelegateToNative:c,availableTransports:d,lastUsedTransport:u,currentTheme:m,className:p,onConnected:f,onBackButtonClick:h,onCancel:g,onClose:v}=n;const{connectHardwareWallet:w,resetHardwareWalletConnect:y,initializeHardwareWalletModal:b,initializeHardwareWalletConnection:E}=He(),k=vs(),{isPortrait:C}=po(),[N,S]=ie(u),A=Fd(m),T=!1===i,I=!1===s,B=r===ln.ConnectedWithSingleWallet||r===ln.ConnectedWithSeveralWallets,_=r===ln.Connecting||r===ln.Connect&&!T&&!I&&1===(null==d?void 0:d.length),x=r===ln.WaitingForBrowser,L=k(B?"Ledger Connected!":"Connect Ledger"),D=!g,O=de((()=>(d||[]).map((e=>({value:e,name:jh[e]})))),[d]),{shouldRender:P,transitionClassNames:F}=ws(Boolean(O.length>0&&N));Ql({isActive:a,onBack:null!=g?g:v}),cm(a),le((()=>{N||(null!=d&&d.length?S(null==d?void 0:d[0]):t.ZH&&S("bluetooth"))}),[d,N]),le((()=>{l||!a||t.KI&&!c||b({shouldDelegateToNative:t.KI&&c})}),[a,l,c]);const R=$r((e=>{l||t.KI&&!c||setTimeout((()=>{f(e),setTimeout((()=>{y()}),500)}),500)}));le((()=>{r!==ln.ConnectedWithSingleWallet&&r!==ln.ConnectedWithSeveralWallets||R(r===ln.ConnectedWithSingleWallet)}),[r,R]);const M=$r((()=>{const e=D?v:g;!async function(){Od&&await chrome.tabs.query({active:!0},(()=>{Od&&chrome.tabs.remove(Od)}))}(),e()})),U=$r((()=>{O.length>1?E({transport:N,shouldDelegateToNative:c}):w({transport:null==d?void 0:d[0]})}));function H(){const n="dark"===A,a={desktop:n?Hh:Uh,mobileUsb:n?Kh:qh,ios:n?$h:Wh,mobileBluetooth:n?zh:Vh};return e.UMQ?t.pz?a.ios:"bluetooth"===N?a.mobileBluetooth:a.mobileUsb:t.Ni?a.mobileUsb:a.desktop}function W(){return x?he.createElement(he.Fragment,null,o?he.createElement("div",{className:bf.header},he.createElement(ec,{isSimple:!0,isText:!0,onClick:M,className:bf.headerBack},he.createElement("i",{className:ps(bf.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),he.createElement("span",null,k("Back"))),he.createElement("span",{className:bf.headerTitle},L)):he.createElement(yf,{title:L,onBackButtonClick:h,onClose:h?void 0:M}),he.createElement("div",{className:Nh.container},he.createElement(gp,{activeKey:e.UMQ?"bluetooth"!==N?1:2:0,name:"semiFade",className:ps(Nh.iconBlock,C&&Nh.mobile),slideClassName:Nh.iconBlockSlide},he.createElement(zd,{url:H(),imageClassName:Nh.ledgerIcon})),he.createElement("div",{className:ps(Nh.textBlock,Nh.textBlock_gap)},he.createElement("span",{className:Nh.text},he.createElement("i",{className:ps(Nh.textIcon,"icon-dot"),"aria-hidden":!0}),k("Switch to the newly opened tab to connect Ledger.")),he.createElement("span",{className:Nh.text},he.createElement("i",{className:ps(Nh.textIcon,"icon-dot"),"aria-hidden":!0}),k("Once connected, switch back to this window to proceed."))),he.createElement("div",{className:ps(Nh.actionBlock,Nh.actionBlock_single)},he.createElement(ec,{className:ps(Nh.button,Nh.button_single),onClick:M},k(D?"Cancel":"Back"))))):he.createElement(he.Fragment,null,o?he.createElement("div",{className:bf.header},he.createElement(ec,{isSimple:!0,isText:!0,onClick:v,className:bf.headerBack},he.createElement("i",{className:ps(bf.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),he.createElement("span",null,k("Back"))),he.createElement("span",{className:bf.headerTitle},L)):he.createElement(yf,{title:L,onBackButtonClick:h,onClose:h?void 0:v}),he.createElement("div",{className:ps(Nh.container,o&&Nh.containerStatic,o&&"static-container")},he.createElement(gp,{activeKey:e.UMQ?"bluetooth"!==N?1:2:0,name:"semiFade",className:ps(Nh.iconBlock,C&&Nh.mobile),slideClassName:o?Nh.iconBlockSlideStatic:Nh.iconBlockSlide},he.createElement(zd,{url:H(),imageClassName:Nh.ledgerIcon})),he.createElement("div",{className:ps(Nh.textBlock,B&&Nh.textBlock_success)},he.createElement("span",{className:ps(Nh.text,T&&Nh.text_failed,i&&Nh.text_connected,B&&Nh.text_success)},he.createElement("i",{className:ps(Nh.textIcon,i?"icon-accept":"icon-dot"),"aria-hidden":!0}),k("Connect your Ledger")),he.createElement("span",{className:ps(Nh.text,I&&Nh.text_failed,s&&Nh.text_connected,B&&Nh.text_success)},he.createElement("i",{className:ps(Nh.textIcon,s?"icon-accept":"icon-dot"),"aria-hidden":!0}),k("Unlock it and open the TON App"))),P&&he.createElement("div",{className:ps(Nh.dropdownBlock,F)},he.createElement(Mh,{label:k("Connection Type"),items:O,selectedValue:N,theme:"light",arrow:"chevron",disabled:_,className:ps(Nh.item,Nh.item_small),onChange:S})),function(){const e=r===ln.Failed;return l&&B?he.createElement("div",{className:ps(Nh.actionBlock,B&&Nh.actionBlock_single)},he.createElement(ec,{isDisabled:_,className:ps(Nh.button,B&&Nh.button_single),onClick:v},k("Continue"))):he.createElement("div",{className:Nh.actionBlock},he.createElement(ec,{className:Nh.button,onClick:D?v:g},k(D?"Cancel":"Back")),he.createElement(ec,{isPrimary:!0,isLoading:_,isDisabled:_||B,className:Nh.button,onClick:U},k(e?"Try Again":"Continue")))}()))}return he.createElement(gp,{name:fh(),className:ps(Vc.transition,"custom-scroll",p),slideClassName:Vc.transitionSlide,activeKey:x?1:0},W)}))),Gh={modalDialog:"rtKXhN4A",modalDialogExtraHeight:"ow4XXlQr",dapp:"naRjGTN0",dapp_first:"LUz47fCn",dappFirst:"LUz47fCn",dapp_push:"AxygZABC",dappPush:"AxygZABC",dappIcon:"Utxlqsar",dappLogo:"dqbsWkDq",dappLogo_icon:"RGl7OFHd",dappLogoIcon:"RGl7OFHd",transactionAccount:"ut5A6NM6",dappInfo:"cL2nTyJm",dappName:"IZ831cu4",dappUrl:"Xz5xXLpO",dappDisconnect:"Dpv9gVfh",label:"ooIjdCk3",description:"d20jMAO6",footer:"lvIWoC_b",buttons:"XvGbWtVh",button:"TBS2qSdm",dataField:"URk9skQT",receivingAddress:"NfKwqXNd",payloadField:"IpEvYlyO",payloadField_expanded:"mtQbMtDU",payloadFieldExpanded:"mtQbMtDU",payloadFieldExpand:"l7ty8x8l",payloadFieldTerm:"iNOlk2G5",transactionList:"TddQIzLn",transactionRow:"qfq9TmLL",transactionRowAmount:"rqZIiXwE",currencySymbol:"WdW2dRfZ",transactionRowAddress:"p87NWFTH",transactionRowChevron:"gKLbD42t",scam:"Kgein0KH",scamImage:"gw394drP",transactionDirection:"by1Uv_HG",accountTitle:"nBWVm1mf",accountBalance:"_ogqtbzH",transactionDapp:"Uyz5mVM_",sticker:"noPlTaoE",sticker_sizeSmall:"E9iT0WHT",stickerSizeSmall:"E9iT0WHT",descriptionContent:"LiakNgEl",dappInfoSkeleton:"wOmNbpWs",accountWrapperSkeleton:"cWnAUfkt",dappInfoIconSkeleton:"e3oGDhNq",shimmer:"IwL4cJVX",transactionDappIconSkeleton:"Q9_OlVcf",dappInfoTextSkeleton:"cAdLb2FM",nameSkeleton:"tO1IUhnj",descSkeleton:"u2wkCYw7",nameDappSkeleton:"z0IluCrP",descDappSkeleton:"JYgy9un6",transactionDirectionLeftSkeleton:"YHLHftpe",transactionDirectionRightSkeleton:"VzwVb3o_",dappInfoDataSkeleton:"L8RwZKiN",rowContainerSkeleton:"XcidIimi",rowContainerLargeSkeleton:"Lh4_AmEs",rowSkeleton:"IVSbVRoG",rowLargeSkeleton:"qNqaxuw6",rowTextSkeleton:"iLWJ6ABT",rowTextLargeSkeleton:"q_gxYI6j",skeletonTransitionWrapper:"US9q0wug",warningForPayload:"fHoMTSia",fee:"nBxdGGBZ",buttonsAfterFee:"LNrikojg",detailsModalContent:"O32mclho",detailsModalExplanation:"tFBBFIVM"},Qh=pe((function(e){let{iconUrl:t,name:n,url:a,origin:o,onDisconnect:r,className:i}=e;const s=vs(),l=Boolean(r&&o),c=$r((()=>{r(o)}));return he.createElement("div",{className:ps(Gh.dapp,i)},t?he.createElement("img",{src:t,alt:s("Logo"),className:Gh.dappLogo}):he.createElement("div",{className:ps(Gh.dappLogo,Gh.dappLogo_icon)},he.createElement("i",{className:ps(Gh.dappIcon,"icon-laptop"),"aria-hidden":!0})),he.createElement("div",{className:Gh.dappInfo},he.createElement("span",{className:Gh.dappName},n),he.createElement("span",{className:Gh.dappUrl},a&&new URL(a).host)),l&&he.createElement(ec,{isSmall:!0,isPrimary:!0,className:Gh.dappDisconnect,onClick:c},s("Disconnect")))})),Xh=pe((function(t){let{isActive:n,error:a,onSubmit:o,onCancel:r,onClose:i}=t;const{clearDappConnectRequestError:s}=He(),l=vs();return Ql({isActive:n,onBack:r}),he.createElement(he.Fragment,null,!Qo()&&he.createElement(yf,{title:l("Enter Password"),onClose:i}),he.createElement(sp,{isActive:n,error:a,withCloseButton:e.UMQ,submitLabel:l("Connect"),cancelLabel:l("Cancel"),onSubmit:o,onCancel:r,onUpdate:s}))})),Jh=pe($e((e=>{var t;const n=Ge(e),a=void 0!==(null===(t=e.dappConnectRequest)||void 0===t?void 0:t.state),{state:o,dapp:r,error:i,accountId:s,permissions:l,proof:c}=e.dappConnectRequest||{},d=s||e.currentAccountId,{hardwareState:u,isLedgerConnected:m,isTonAppConnected:p}=e.hardware;return{state:o,hasConnectRequest:a,dapp:r,error:i,requiredPermissions:l,requiredProof:c,currentAccountId:d,accounts:n,hardwareState:u,settingsByAccountId:e.settings.byAccountId,isLedgerConnected:m,isTonAppConnected:p}}))((function(e){let{state:t,hasConnectRequest:n,dapp:a,error:o,requiredPermissions:r,requiredProof:i,accounts:s,currentAccountId:l,hardwareState:c,settingsByAccountId:d,isLedgerConnected:u,isTonAppConnected:m}=e;const{submitDappConnectRequestConfirm:p,submitDappConnectRequestConfirmHardware:f,cancelDappConnectRequestConfirm:h,setDappConnectRequestState:g}=He(),v=vs(),[w,y]=ie(l),[b,E,k]=Rd(!1),C=n,{renderingKey:N,nextKey:S}=hh(null!=t?t:0,C),A=de((()=>Object.entries(s||{})),[s]),T=void 0===a;le((()=>{l&&y(l)}),[l]);const I=de((()=>s&&Object.keys(s).length>1),[s]),{iconUrl:B,name:_,url:x}=a||{},L=$r((()=>{k();const{isHardware:e}=s[w],{isPasswordRequired:t,isAddressRequired:n}=r||{};!i||!e&&n&&!t?(p({accountId:w}),h()):e?g({state:sn.ConnectHardware}):requestAnimationFrame((()=>{g({state:sn.Password})}))})),D=$r((()=>{g({state:sn.Info})})),O=$r((()=>{f({accountId:w})})),P=$r((e=>{p({accountId:w,password:e})}));function F(){return he.createElement(Ch,{accountLength:A.length,labelText:v("Select wallet to use on this dapp")},A.map((e=>{let[t,{title:n,addressByChain:a,isHardware:o}]=e;return function(e,t,n,a){const o=e===w||T?void 0:()=>y(e),{cardBackgroundNft:r}=(null==d?void 0:d[e])||{};return he.createElement(kh,{key:e,accountId:e,address:t,title:n,ariaLabel:v("Switch Account"),isHardware:a,isActive:e===w,isLoading:T,onClick:o,cardBackgroundNft:r})}(t,a.ton,n,o)})))}function R(e,t,n){switch(n){case sn.Info:return he.createElement(gp,{name:"semiFade",activeKey:T?0:1,slideClassName:Gh.skeletonTransitionWrapper},he.createElement(he.Fragment,null,he.createElement(yf,{title:v("Connect Dapp"),onClose:h}),T?he.createElement("div",{className:Vc.transitionContent},he.createElement("div",{className:ps(Gh.dappInfoSkeleton,Gh.dapp_first)},he.createElement("div",{className:Gh.dappInfoIconSkeleton}),he.createElement("div",{className:Gh.dappInfoTextSkeleton},he.createElement("div",{className:Gh.nameSkeleton}),he.createElement("div",{className:Gh.descSkeleton}))),he.createElement("div",{className:Gh.accountWrapperSkeleton},I&&F())):he.createElement("div",{className:Vc.transitionContent},he.createElement(Qh,{iconUrl:B,name:_,url:x,className:ps(Gh.dapp_first,Gh.dapp_push)}),I&&F(),he.createElement("div",{className:Gh.footer},he.createElement(ec,{isPrimary:!0,onClick:E},v("Connect"))))));case sn.Password:return he.createElement(Xh,{isActive:e,error:o,onSubmit:P,onCancel:D,onClose:h});case sn.ConnectHardware:return he.createElement(Yh,{isActive:e,state:c,isTonAppConnected:m,isLedgerConnected:u,onConnected:O,onClose:D});case sn.ConfirmHardware:return he.createElement(Ah,{isActive:e,text:v("Please confirm operation on your Ledger"),error:o,onTryAgain:O,onClose:D})}}return he.createElement(he.Fragment,null,he.createElement(Yc,{isOpen:C,dialogClassName:Gh.modalDialog,nativeBottomSheetKey:"dapp-connect",forceFullNative:N!==sn.Info,onClose:h,onCloseAnimationEnd:h},he.createElement(gp,{name:fh(),className:ps(Vc.transition,"custom-scroll"),slideClassName:Vc.transitionSlide,activeKey:N,nextKey:S},R)),he.createElement(Yc,{isOpen:b,isCompact:!0,title:v("Dapp Permissions"),onClose:k},he.createElement("div",{className:Gh.description},v("$dapp_can_view_balance",{dappname:he.createElement("strong",null,_)})),he.createElement("div",{className:Gh.buttons},he.createElement(ec,{onClick:k,className:Gh.button},v("Cancel")),he.createElement(ec,{isPrimary:!0,onClick:L,className:Gh.button},v("Connect")))))}))),Zh=pe($e((e=>{const{dapp:t}=e.currentDappTransfer,n=Ge(e);return{currentAccount:null==n?void 0:n[e.currentAccountId],toncoinBalance:Nt(e),dapp:t}}))((function(t){let{currentAccount:n,toncoinBalance:a,dapp:o}=t;const{cancelDappTransfer:r,setDappTransferScreen:i}=He(),s=vs(),l=$r((()=>{i({state:tn.Initial})}));return he.createElement("div",{className:Vc.transitionContent},he.createElement("div",{className:Gh.transactionDirection},he.createElement("div",{className:Gh.transactionAccount},he.createElement("div",{className:Gh.accountTitle},null==n?void 0:n.title),he.createElement("div",{className:Gh.accountBalance},gr((0,wt.nI)(a),e.Tu9.symbol))),he.createElement(Qh,{iconUrl:null==o?void 0:o.iconUrl,name:null==o?void 0:o.name,url:null==o?void 0:o.url,className:Gh.transactionDapp})),he.createElement("div",{className:Gh.descriptionContent},he.createElement("span",null,dr(s("$dapp_ledger_warning1"))),he.createElement("span",null,dr(s("$dapp_ledger_warning2")))),he.createElement("div",{className:Vc.buttons},he.createElement(ec,{className:Vc.button,onClick:r},s("Cancel")),he.createElement(ec,{isPrimary:!0,isSubmit:!0,className:Vc.button,onClick:l},s("Agree"))))}))),eg="DZJAgO1_",tg="frL0b5SW",ng="l7Jv2Ysl",ag="cjX8maBi",og="nfp5rpIc",rg="qBj00Hsz",ig=pe((function(t){let{nft:n,isStatic:a,withTonExplorer:o,withMediaViewer:r}=t;const{openMediaViewer:i}=He(),s=vs(),l=de((()=>s("Open on %ton_explorer_name%",{ton_explorer_name:Ya("ton")}).join("")),[s]),c=e=>{e.stopPropagation(),to(Ja(n.address,Me().settings.isTestnet))},d=$r((()=>{i({mediaId:n.address,mediaType:hn.Nft})}));if(!n)return he.createElement("div",{className:ps(eg,a&&tg)},he.createElement(xm,{play:!0,noLoop:!1,nonInteractive:!0,size:e.YO8,className:ng,tgsUrl:Ju.wait,previewUrl:Ju.waitPreview}),he.createElement("div",{className:ag},he.createElement("div",{className:og},"NFT"),he.createElement("div",{className:rg},s("Name and collection are not available. Please check back later."))));const u=n.name||xt(n.address);return he.createElement("div",r?{role:"button",tabIndex:0,"aria-label":s("NFT"),className:ps(eg,"GU6t4snd",a&&tg),onClick:d}:{className:ps(eg,a&&tg)},he.createElement(he.Fragment,null,he.createElement("img",{src:n.thumbnail,alt:u,className:ng}),he.createElement("div",{className:ag},he.createElement("div",{className:og},u,o&&he.createElement("i",{className:ps("DNxf1fb1","icon-tonexplorer-small"),onClick:c,title:l,"aria-label":l,role:"button",tabIndex:0})),he.createElement("div",{className:rg},n.collectionName))))}));var sg=i(37448);const lg=(0,jn.F3)("Filesystem",{web:()=>i.e(956).then(i.bind(i,69956)).then((e=>new e.FilesystemWeb))}),cg=(0,jn.F3)("Share",{web:()=>i.e(104).then(i.bind(i,78104)).then((e=>new e.ShareWeb))});async function dg(t){if(!e.UMQ)return!1;try{return await cg.share(t),!0}catch(e){if(e instanceof Error&&"Share canceled"===e.message)return!0;if(e instanceof Error&&"Can't share while sharing is in progress"===e.message)return!1;throw e}}async function ug(e){if(!t.TF||!navigator.share)return!1;try{return await navigator.share(e),!0}catch(e){if(e instanceof Error&&"AbortError"===e.name)return!0;if(e instanceof Error&&"NotAllowedError"===e.name)return!1;throw e}}const mg=350,pg="r5lsJ1c8",fg=pe((function(e){let{isOpen:t,address:n,chain:a,onClose:o}=e;const{removeFromSavedAddress:r,showNotification:i}=He(),s=vs(),l=$r((()=>{r({address:n,chain:a}),i({message:s("Address removed from saved"),icon:"icon-trash"}),o()}));return he.createElement(Yc,{title:s("Delete Saved Address"),isCompact:!0,isOpen:t,onClose:o},he.createElement("p",{className:pg},s("Are you sure you want to remove this address from your saved ones?")),he.createElement("p",{className:pg},s("You will be able to save it again via Transaction Info with this address.")),he.createElement("div",{className:Vc.buttons},he.createElement(ec,{onClick:o,className:Vc.button},s("Cancel")),he.createElement(ec,{isDestructive:!0,onClick:l,className:Vc.button},s("Delete"))))})),hg={wrapper:"qrcsFk0p",wrapperVisible:"XrMXGnXm",wrapperHide:"mskAXXfF",menuCustomBackdrop:"QI33ahag",menuCustomBackdropVisible:"F30OarGl",button:"tQGrt_Qw",button_spoiler:"RpBIB1I4",buttonSpoiler:"RpBIB1I4",icon:"RdTchw5a",iconCaretDown:"DdQbhVKr",iconStar:"p87ao4no",iconShare:"GuQHudIr",nameInput:"lL2_LCB0",shortAddress:"hofQbGX_",scam:"nwdDECq8",revealSpoiler:"W5z38O2d",scamImage:"KBuV_80E",chainIcon:"xEGdgotG",meaningfulPart:"tKeqWu_9",menuIcon:"iyUEV5xt",dimmedPart:"NNrfqpvB",menu:"E31wd_4J",menuItem:"HbftB0iE"},gg=i.p+"scam.8fb66536b659fd1bbfc6.svg";function vg(){return vg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},vg.apply(null,arguments)}const wg=3*t.$,yg=t.$,bg=pe($e((e=>{const t=Ze(e);return{savedAddresses:null==t?void 0:t.savedAddresses,isMultichainAccount:ut(e,e.currentAccountId),isTestnet:e.settings.isTestnet}}))((function(e){var n;let{chain:a,address:o,addressName:r,addressUrl:i,isScam:s,isTransaction:l,text:c="",spoiler:d,spoilerRevealText:u,spoilerCallback:m,copyNotification:p,noSavedAddress:f,noExplorer:h,className:g,textClassName:v,savedAddresses:w,isTestnet:y,isMultichainAccount:b,noDimming:E,withShareInMenu:k}=e;const{showNotification:C,addSavedAddress:N}=He(),S=me(null),A=vs(),[T,I,B]=Rd(),[_,x,L]=Rd(),[D,O]=ie(r),[P,,F]=Rd(Boolean(d)),R=de((()=>Boolean(o&&a&&(w||[]).find((e=>e.address===o&&e.chain===a)))),[o,a,w]);i=null!==(n=i)&&void 0!==n?n:a?Xa(a,o,y):void 0;const M=A(R?"Remove From Saved":"Save Address"),U=A("View on Explorer"),H=Boolean(!s&&!f&&o),W=Boolean(!h&&i);le((()=>{T&&O("")}),[T]);const $=$r((()=>{D&&o&&a&&(N({address:o,chain:a,name:D}),C({message:A("Address was saved!"),icon:"icon-star"}),B())}));le((()=>T?Qs({onEnter:$}):void 0),[$,T]),Zu(S,!T);const V=$r((()=>{p&&(C({message:p,icon:"icon-copy"}),rr(o||c))})),z=$r((()=>{!async function(e,t){const n={url:e,title:t};await dg(n)||await ug(n)||(await rr(e),He().showNotification({message:Lr("Link was copied!"),icon:"icon-link"}))}(i,a?Ya(a):void 0)})),q=$r((()=>{to(i,{title:Ya(a),subtitle:ja(i)})})),{isActionsMenuOpen:K,anchorPosition:j,menuPosition:Y,menuItems:G,handleMenuShow:Q,handleMenuItemSelect:X,closeActionsMenu:J}=function(e,n){const[a,o]=ie("top"),[r,i]=ie(),s=$r((()=>i(void 0))),l=Boolean(r),c=de((()=>{const{isAddressAlreadySaved:e,isWalletAddress:a,isTransaction:o,withSavedAddresses:r,withExplorer:i,withShare:s}=n,l=[{name:r||a?"Copy Address":o?"Copy Transaction ID":"Copy",fontIcon:"copy",withSeparator:!0,value:"copy"}];return r&&l.push({name:e?"Remove From Saved":"Save Address",fontIcon:e?"star-filled":"star",withSeparator:!0,value:"addressBook"}),(o||s)&&l.push({name:"Share Link",fontIcon:t.pz?"share-ios":"share-android",withSeparator:!0,value:"share"}),i&&l.push({name:"View on Explorer",fontIcon:"tonexplorer",withSeparator:!0,value:"explorer"}),l}),[n]),d=$r((t=>{var n;null===(n=e[t])||void 0===n||n.call(e),s()})),u=$r((e=>{let t;if(fs(e),e.type.startsWith("touch")){const{changedTouches:n,touches:a}=e;t=a.length>0?a[0].clientX:n[0].clientX}else t=e.clientX;const{top:n,bottom:a}=e.currentTarget.getBoundingClientRect(),r=c.length*wg,s=ia().height;a+r+-16+yg>=s?(o("bottom"),i({x:t,y:n})):(o("top"),i({x:t,y:a+-16}))}));return{isActionsMenuOpen:l,anchorPosition:r,menuPosition:a,menuItems:c,handleMenuShow:u,handleMenuItemSelect:d,closeActionsMenu:s}}({copy:V,share:z,addressBook:R?x:I,explorer:q},{isAddressAlreadySaved:R,isWalletAddress:Boolean(o&&a&&f&&!l),isTransaction:l,withSavedAddresses:H,withExplorer:W,withShare:k}),Z=!d&&t.TF&&G.length>1,ee=ws(K&&Z),te=function(e){let{onClick:t,onStart:n,onEnd:a,threshold:o=mg}=e;const r=me(!1),i=me(!1),s=me(void 0),l=ue((e=>{const t="button"in e&&0===e.button||"touches"in e&&e.touches.length>0;!i.current&&t&&(i.current=!0,s.current=window.setTimeout((()=>{null==n||n(),r.current=!0}),o))}),[n,o]),c=ue((e=>{i.current&&(r.current?null==a||a():null==t||t(e),r.current=!1,i.current=!1,window.clearTimeout(s.current))}),[a,t]);return gs((()=>()=>{window.clearTimeout(s.current)})),{onMouseDown:l,onMouseUp:c,onMouseLeave:c,onTouchStart:l,onTouchEnd:c,onTouchCancel:c}}({onClick:Q,onStart:V}),ne=$r((()=>{F(),null==m||m()}));function ae(e){let t=e;if(!E&&!l&&e===o&&e.length>12){const n=e.substring(0,6),a=e.length-6,o=e.substring(6,a),r=e.substring(a);t=he.createElement(he.Fragment,null,he.createElement("span",{className:hg.meaningfulPart},n),he.createElement("span",{className:hg.dimmedPart},o),he.createElement("span",{className:hg.meaningfulPart},r))}else!E&&l&&(t=he.createElement("span",{className:hg.dimmedPart},e));return he.createElement("span",{className:ps(hg.button,s&&hg.scam,v),tabIndex:0,role:"button",title:Z?void 0:A("Copy"),onClick:Z?void 0:V},s&&he.createElement("img",{src:gg,alt:A("Scam"),className:hg.scamImage}),b&&!l&&he.createElement("i",{className:ps(hg.chainIcon,`icon-chain-${a}`),"aria-label":a}),t,Boolean(r)&&he.createElement("span",{className:ps(hg.shortAddress,s&&hg.scam)},xt(o)),Boolean(p)&&!Z&&he.createElement("i",{className:ps(hg.icon,"icon-copy"),"aria-hidden":!0}))}return he.createElement(he.Fragment,null,ee.shouldRender&&he.createElement("div",{className:ps(hg.menuCustomBackdrop,ee.hasOpenClass&&hg.menuCustomBackdropVisible)}),he.createElement("div",vg({className:ps(hg.wrapper,g,ee.shouldRender&&hg.wrapperVisible,ee.shouldRender&&!ee.hasOpenClass&&hg.wrapperHide)},Z&&!K&&{...te,tabIndex:0,role:"button"},{onContextMenu:Z?fs:void 0}),function(){const e=r||o||c;if(!d)return ae(e);const t=P||!e;return he.createElement(gp,{activeKey:t?1:0,name:"fade",className:hg.commentContainer},t?he.createElement("span",{className:ps(hg.button,hg.button_spoiler,v)},he.createElement("i",null,d),he.createElement("span",{onClick:ne,tabIndex:0,role:"button",className:hg.revealSpoiler},u)):ae(e))}(),function(){if(Z){const e=ps(hg.icon,hg.iconCaretDown,"icon-caret-down",s&&hg.scam);return he.createElement(he.Fragment,null,he.createElement("i",{className:e,"aria-hidden":!0}),he.createElement(Dh,{withPortal:!0,shouldTranslateOptions:!0,isOpen:K,items:G,menuPosition:Y,anchorPosition:j,bubbleClassName:hg.menu,buttonClassName:hg.menuItem,fontIconClassName:hg.menuIcon,onSelect:X,onClose:J}))}return he.createElement(he.Fragment,null,H&&he.createElement("span",{className:hg.button,title:M,"aria-label":M,tabIndex:0,role:"button",onClick:R?x:I},he.createElement("i",{className:ps(hg.icon,hg.iconStar,R?"icon-star-filled":"icon-star"),"aria-hidden":!0})),l&&he.createElement("span",{className:hg.button,title:A("Share Link"),"aria-label":A("Share Link"),onClick:z},he.createElement("i",{className:ps(hg.icon,hg.iconShare,"icon-link"),"aria-hidden":!0})),W&&he.createElement("a",{href:i,className:hg.button,title:U,"aria-label":U,target:"_blank",rel:"noreferrer noopener",onClick:no},he.createElement("i",{className:ps(hg.icon,"icon-tonexplorer-small"),"aria-hidden":!0})))}()),o&&he.createElement(he.Fragment,null,he.createElement(Yc,{title:A("Save Address"),isCompact:!0,isOpen:T,onClose:B},he.createElement("p",null,A("You can save this address for quick access while sending.")),he.createElement(Wm,{ref:S,placeholder:A("Name"),onInput:O,value:D,maxLength:255,className:hg.nameInput}),he.createElement("div",{className:Vc.buttons},he.createElement(ec,{onClick:B,className:Vc.button},A("Cancel")),he.createElement(ec,{onClick:$,isPrimary:!0,isDisabled:!D,className:Vc.button},A("Save")))),he.createElement(fg,{isOpen:_,address:o,chain:a,onClose:L})))}))),Eg=pe($e((e=>({tokensBySlug:e.tokenInfo.bySlug,baseCurrency:e.settings.baseCurrency})))((function(e){let{label:t,amountsBySlug:n,nftCount:a,tokensBySlug:o,baseCurrency:r}=e;const i=[];a&&i.push(he.createElement("span",{className:Gh.payloadFieldTerm},`${a} NFT${a>1?"s":""}`));for(const[e,t]of Object.entries(n)){var s,l;i.length&&i.push(" + ");const n=o[e];i.push(he.createElement("span",{className:Gh.payloadFieldTerm},gr((0,wt.nI)(t,null!==(s=null==n?void 0:n.decimals)&&void 0!==s?s:0),null!==(l=null==n?void 0:n.symbol)&&void 0!==l?l:"")))}if(Object.keys(n).length>0){const e=function(e,t){return Object.entries(e).reduce(((e,n)=>{let[a,o]=n;const r=t[a];return r?e+(0,wt.CF)(o,r.decimals).toNumber()*r.quote.price:e}),0)}(n,o);i.push(` (${gr(e,br(r))})`)}return he.createElement(he.Fragment,null,he.createElement("span",{className:Gh.label},t),he.createElement("div",{className:Gh.payloadField},i))}))),kg={exact:"",approximate:"~ ",lessThan:"< "},Cg={slug:"__stars__",symbol:e.xFF,decimals:0},Ng={slug:"__unknown__",symbol:"",decimals:0},Sg={[e.Tu9.slug]:"icon-chain-ton",[e.X7T.slug]:"icon-chain-tron"},Ag=pe((function(e){var t,n;let{terms:a,token:o,precision:r,shouldPreferIcons:i,termClassName:s,symbolClassName:l}=e;const c=null!==(t=null===(n=wn(Cn(o.slug)))||void 0===n?void 0:n.nativeToken)&&void 0!==t?t:Ng,d=[kg[r]];return function(e){const t=[];let n;for(const[a,o]of Object.entries(e)){if(void 0===o)continue;const e={tokenType:a,amount:o};n||(n=e),Number(o)&&t.push(e)}var a;return 0===t.length&&t.push(null!==(a=n)&&void 0!==a?a:{tokenType:"native",amount:0}),t}(a).forEach(((e,t)=>{let{tokenType:n,amount:a}=e;t>0&&d.push(" + ");const r="stars"===n?Cg:"native"===n?c:o,u=i?Sg[r.slug]:void 0;"bigint"==typeof a&&(a=(0,wt.nI)(a,r.decimals));let m=u?he.createElement("i",{className:ps(u,"hrsxYQfo"),"aria-label":r.symbol}):r.symbol;l&&(m=he.createElement("span",{className:l},m)),d.push(he.createElement("span",{className:ps("KQKXQCYl",s)},gr(a,"",void 0,!0),m))})),d})),Tg="Ehn5yB9o",Ig="ZXtTwJ2M",Bg="wvOK88A2",_g="ow57IO0l";function xg(){return xg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},xg.apply(null,arguments)}const Lg=pe((function(e){let{isOpen:t,onClose:n,title:a,...o}=e;const r=vs();return he.createElement(Yc,{isOpen:t,onClose:n,isCompact:!0,title:null!=a?a:r("Blockchain Fee Details"),contentClassName:"ejEBAbV8"},he.createElement(Dg,xg({onClose:n},o)))}));function Dg(e){let{onClose:t,fullFee:n,realFee:a,realFeePrecision:o="exact",excessFee:r,excessFeePrecision:i="exact",token:s,extraContent:l}=e;const c=s&&Cn(s.slug),d=c&&vn(c).nativeToken,u=vs();return he.createElement(he.Fragment,null,he.createElement("div",null,he.createElement("div",{className:"SpaIcYmy"},he.createElement("div",{className:ps(Tg,Ig)},u("Final Fee")),he.createElement("div",{className:ps(Tg,Bg)},u("Excess"))),he.createElement("div",{className:"f8dLAhsP"},he.createElement("div",{className:ps(_g,Ig)},a&&s&&he.createElement(Ag,{terms:a,precision:o,token:s,shouldPreferIcons:!0})),he.createElement("div",{className:ps(_g,Bg)},void 0!==r&&s&&he.createElement(Ag,{terms:{native:r},precision:i,token:s,shouldPreferIcons:!0})))),he.createElement("div",{className:"Tbn84o8Q"},he.createElement("div",null,dr(u("$fee_details",{full_fee:n&&s&&he.createElement("b",null,he.createElement(Ag,{terms:n,precision:"exact",token:s})),excess_symbol:he.createElement("b",null,null==d?void 0:d.symbol),chain_name:null==c?void 0:c.toUpperCase()}))),l),he.createElement("div",{className:Vc.buttons},he.createElement(ec,{isPrimary:!0,className:Vc.button,onClick:t},u("Got It"))))}const Og=pe((function(e){let{className:t,isStatic:n,terms:a,token:o,precision:r,keepDetailsButtonWithoutFee:i,onDetailsClick:s}=e;const l=vs();let c;return a&&o&&(c=l("exact"===r?"$fee_value_with_colon":"$fee_value",{fee:he.createElement(Ag,{terms:a,token:o,precision:r})})),he.createElement(Pg,{className:t,isStatic:n,onDetailsClick:c||i?s:void 0,transitionKey:c?1:0},c)}));function Pg(e){let{className:t,isStatic:n,onDetailsClick:a,children:o,transitionKey:r=0}=e;const i=vs();return he.createElement(gp,{name:"fade",activeKey:r+(a?65536:0),className:ps("fJgsdA7d",t,n&&"swvIvbGd")},o,Boolean(o)&&a&&" · ",a&&he.createElement("span",{role:"button",tabIndex:0,className:"K7iB61lh",onClick:()=>a()},i("Details"),he.createElement("i",{className:ps("icon-chevron-right","WDhuwtt6"),"aria-hidden":!0})))}function Fg(){return Fg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Fg.apply(null,arguments)}const Rg=pe((function(e){let{isOpen:t,onClose:n,...a}=e;const o=vs();return he.createElement(Yc,{isOpen:t,onClose:n,isCompact:!0,title:o("Dapp Fee Details"),contentClassName:Gh.detailsModalContent},he.createElement(Mg,Fg({onClose:n},a)))}));function Mg(t){let{onClose:n,fullFee:a,received:o}=t;const r=vs();return he.createElement(he.Fragment,null,he.createElement("div",{className:Gh.detailsModalExplanation},he.createElement("div",null,dr(r("$dapp_return_details",{fee_amount:he.createElement("b",null,gr((0,wt.nI)(a,e.Tu9.decimals),e.Tu9.symbol,void 0,!0)),received_amount:he.createElement("b",null,"~ ",gr((0,wt.nI)(o,e.Tu9.decimals),e.Tu9.symbol))}))),he.createElement("div",{className:Gh.warningForPayload},r("$dapp_return_disclaimer"))),he.createElement("div",{className:Vc.buttons},he.createElement(ec,{isPrimary:!0,className:Vc.button,onClick:n},r("Got It"))))}const Ug=pe((function(t){let{fullFee:n,received:a}=t;const o=vs(),[r,i,s]=Rd();if(0n===a)return he.createElement(Og,{terms:{native:n},token:e.Tu9,precision:"exact",className:Gh.fee});if(n>=a){const t=n-a,l="approximate";return he.createElement(he.Fragment,null,he.createElement(Og,{terms:{native:t},token:e.Tu9,precision:"approximate",onDetailsClick:i,className:Gh.fee}),he.createElement(Lg,{isOpen:r,onClose:s,fullFee:{native:n},realFee:{native:t},realFeePrecision:l,excessFee:a,excessFeePrecision:"approximate",token:e.Tu9,title:o("Dapp Fee Details"),extraContent:he.createElement("div",{className:Gh.explanationWarning},o("$dapp_return_disclaimer"))}))}const l=a-n;return he.createElement(he.Fragment,null,he.createElement(Pg,{className:Gh.fee,onDetailsClick:i},o("$returned_value",{value:gr((0,wt.nI)(l,e.Tu9.decimals),e.Tu9.symbol)})),he.createElement(Rg,{isOpen:r,onClose:s,fullFee:n,received:a}))})),Hg=pe((function(t){let{transaction:n,tokensBySlug:a}=t;const o=vs(),[r,i]=Rd(!1),s=function(){const{payload:e,rawPayload:t}=n;if(e&&!ft(e)&&!ht(e))switch(e.type){case"comment":return e.comment;case"tokens:burn":{var r,i;const{slug:t,amount:n}=e,s=a[t],l=null!==(r=null==s?void 0:s.decimals)&&void 0!==r?r:ls.fI,c=null!==(i=null==s?void 0:s.symbol)&&void 0!==i?i:"";return o("$dapp_transfer_tokens_burn",{amount:gr((0,wt.nI)(n,l),c,2)})}case"dns:change-record":{const{record:t}=e,n="unknown"!==t.type?t.type:t.key;return"wallet"===t.type&&t.value?o("$dapp_dns_set_wallet_payload",{address:t.value}):"wallet"!==t.type||t.value?t.value?o("$dapp_dns_change_record_payload",{category:n,value:t.value}):o("$dapp_dns_delete_record_payload",{category:n}):o("$dapp_dns_delete_wallet_payload")}case"token-bridge:pay-swap":return o("$dapp_token_bridge_pay_swap_payload",{swapId:e.swapId});case"liquid-staking:deposit":return o("$dapp_liquid_staking_deposit_payload");case"liquid-staking:vote":return o("$dapp_liquid_staking_vote_payload",{votingAddress:e.votingAddress,vote:e.vote});case"single-nominator:change-validator":return o("$dapp_single_nominator_change_validator_payload",{address:e.address});case"single-nominator:withdraw":return o("$dapp_single_nominator_withdraw_payload",{amount:(0,wt.nI)(e.amount)});case"vesting:add-whitelist":return o("$dapp_vesting_add_whitelist_payload",{address:e.address});case"unknown":return t;default:return JSON.stringify(e,void 0,2).replace(`/"${Dn.tH}/g`,'"')}}();return he.createElement(he.Fragment,null,ft(n.payload)&&he.createElement(ig,{nft:n.payload.nft}),he.createElement("p",{className:Gh.label},o("Receiving Address")),he.createElement(bg,{chain:e.Tu9.chain,address:n.displayedToAddress,isScam:n.isScam,className:ps(Gh.dataField,Gh.receivingAddress),copyNotification:o("Address was copied!")}),function(){if(ft(n.payload)){if(0n===n.displayedAmount)return;return he.createElement(Eg,{label:o("Additional Amount Sent"),amountsBySlug:{[e.Tu9.slug]:n.displayedAmount}})}const t={};return ht(n.payload)&&(t[n.payload.slug]=n.payload.amount),t[e.Tu9.slug]=n.displayedAmount,0n===t[e.Tu9.slug]&&Object.keys(t).length>1&&delete t[e.Tu9.slug],he.createElement(Eg,{label:o("Amount"),amountsBySlug:t})}(),s&&he.createElement(he.Fragment,null,he.createElement("p",{className:Gh.label},function(){var e;switch(null===(e=n.payload)||void 0===e?void 0:e.type){case"comment":return o("Comment");case"unknown":return o("Payload");default:return o("Nested Transaction")}}()),he.createElement("div",{className:ps(Gh.payloadField,r&&Gh.payloadField_expanded)},s,!r&&he.createElement("div",{className:Gh.payloadFieldExpand,onClick:i},o("View"))),n.isDangerous&&he.createElement("div",{className:Gh.warningForPayload},o("$hardware_payload_warning"))),he.createElement(Ug,{fullFee:n.fullFee,received:n.received}))})),Wg=pe($e((e=>{const{isLoading:t,dapp:n,transactions:a}=e.currentDappTransfer,o=Ge(e),{amountsBySlug:r,isScam:i,isDangerous:s,fullFee:l,received:c,nftCount:d}=vt(e);return{currentAccount:null==o?void 0:o[e.currentAccountId],toncoinBalance:Nt(e),transactions:a,totalAmountsBySlug:r,totalFullFee:l,totalReceived:c,isScam:i,isDangerous:s,nftCount:d,dapp:n,isLoading:t,tokensBySlug:e.tokenInfo.bySlug}}))((function(t){let{currentAccount:n,toncoinBalance:a,transactions:o,totalAmountsBySlug:r,totalFullFee:i,totalReceived:s,isScam:l,isDangerous:c,nftCount:d,dapp:u,isLoading:m,tokensBySlug:p,onClose:f}=t;const{showDappTransfer:h,submitDappTransferConfirm:g}=He(),v=vs(),w=1===(null==o?void 0:o.length),y=pf(o,!0),b=de((()=>function(e,t){return e?e.map(((e,n)=>({...e,index:n,sortingCost:$g(e,t)}))).sort(((e,t)=>t.sortingCost-e.sortingCost)):e}(y,p)),[y,p]);function E(t){const{payload:n}=t;let a="";if(ft(n))a="1 NFT";else if(ht(n)){const{slug:e,amount:t}=n,o=p[e];if(o){const{decimals:e,symbol:n}=o;a=gr((0,wt.nI)(t,e),n)}}return a&&!t.displayedAmount||(a&&(a+=" + "),a+=gr((0,wt.nI)(t.displayedAmount),e.Tu9.symbol)),he.createElement("div",{key:t.index,className:Gh.transactionRow,onClick:()=>h({transactionIdx:t.index})},t.isScam&&he.createElement("img",{src:gg,alt:v("Scam"),className:Gh.scamImage}),he.createElement("span",{className:ps(Gh.transactionRowAmount,t.isScam&&Gh.scam)},a)," ",he.createElement("span",{className:ps(Gh.transactionRowAddress,t.isScam&&Gh.scam)},v("$transaction_to",{address:xt(t.displayedToAddress)})),he.createElement("i",{className:ps(Gh.transactionRowChevron,"icon-chevron-right"),"aria-hidden":!0}))}if(y)return he.createElement("div",{className:Vc.transitionContent},he.createElement("div",{className:Gh.transactionDirection},he.createElement("div",{className:Gh.transactionAccount},he.createElement("div",{className:Gh.accountTitle},null==n?void 0:n.title),he.createElement("div",{className:Gh.accountBalance},gr((0,wt.nI)(a),e.Tu9.symbol))),he.createElement(Qh,{iconUrl:null==u?void 0:u.iconUrl,name:null==u?void 0:u.name,url:null==u?void 0:u.url,className:Gh.transactionDapp})),w?he.createElement(Hg,{transaction:y[0],tokensBySlug:p}):function(){const e=d>0||Object.keys(r).length>0;return he.createElement(he.Fragment,null,he.createElement("p",{className:Gh.label},v("$many_transactions",null==y?void 0:y.length,"i")),he.createElement("div",{className:Gh.transactionList},null==b?void 0:b.map(E)),e&&he.createElement(Eg,{label:v("Total Amount"),amountsBySlug:r,nftCount:d}),c&&he.createElement("div",{className:Gh.warningForPayload},v("$hardware_payload_warning")),he.createElement(Ug,{fullFee:i,received:s}))}(),he.createElement("div",{className:ps(Vc.buttons,Gh.buttonsAfterFee)},he.createElement(ec,{className:Vc.button,onClick:f},v("Cancel")),he.createElement(ec,{isPrimary:!0,isSubmit:!0,isLoading:m,isDisabled:l,className:Vc.button,onClick:l?void 0:g},v("Send"))))})));function $g(t,n){const a=(0,wt.CF)(t.displayedAmount+t.fullFee,e.Tu9.decimals).toNumber();let o=n[e.Tu9.slug].quote.priceUsd*a;if(ht(t.payload)){const{amount:e,slug:a}=t.payload,r=n[a];r&&(o+=r.quote.priceUsd*(0,wt.CF)(e,r.decimals).toNumber())}else ft(t.payload)&&(o+=1e9);return o}const Vg=pe($e((e=>{const{hardwareState:t,isLedgerConnected:n,isTonAppConnected:a}=e.hardware,{isDangerous:o}=vt(e);return{currentDappTransfer:e.currentDappTransfer,tokensBySlug:e.tokenInfo.bySlug,hardwareState:t,isLedgerConnected:n,isTonAppConnected:a,isMediaViewerOpen:Boolean(e.mediaViewer.mediaId),isDangerous:o}}))((function(t){var n;let{currentDappTransfer:{dapp:a,isLoading:o,viewTransactionOnIdx:r,state:i,transactions:s,error:l},tokensBySlug:c,hardwareState:d,isLedgerConnected:u,isTonAppConnected:m,isMediaViewerOpen:p,isDangerous:f}=t;const{setDappTransferScreen:h,clearDappTransferError:g,submitDappTransferPassword:v,submitDappTransferHardware:w,closeDappTransfer:y,cancelDappTransfer:b}=He(),E=vs(),k=i!==tn.None,{renderingKey:C,nextKey:N,updateNextKey:S}=hh(i,k),A=pf(s,!0),T=void 0===a,I=f||(null!==(n=null==s?void 0:s.length)&&void 0!==n?n:0)>4,B=$r((()=>{i!==tn.Confirm&&i!==tn.Password||h({state:tn.Initial})})),_=$r((e=>{v({password:e})})),x=$r((()=>{w()})),L=$r((()=>{b(),S()}));function D(t,n,a){switch(a){case tn.Initial:return he.createElement(gp,{name:"semiFade",activeKey:T?0:1,slideClassName:Gh.skeletonTransitionWrapper},T?function(){const e=e=>he.createElement("div",{className:ps(Gh.rowContainerSkeleton,e&&Gh.rowContainerLargeSkeleton)},he.createElement("div",{className:ps(Gh.rowTextSkeleton,e&&Gh.rowTextLargeSkeleton)}),he.createElement("div",{className:ps(Gh.rowSkeleton,e&&Gh.rowLargeSkeleton)}));return he.createElement(he.Fragment,null,he.createElement(yf,{title:E("Send Transaction"),onClose:y}),he.createElement("div",{className:Vc.transitionContent},he.createElement("div",{className:Gh.transactionDirection},he.createElement("div",{className:Gh.transactionDirectionLeftSkeleton},he.createElement("div",{className:ps(Gh.nameSkeleton,Gh.nameDappSkeleton)}),he.createElement("div",{className:ps(Gh.descSkeleton,Gh.descDappSkeleton)})),he.createElement("div",{className:Gh.transactionDirectionRightSkeleton},he.createElement("div",{className:ps(Gh.dappInfoIconSkeleton,Gh.transactionDappIconSkeleton)}),he.createElement("div",{className:Gh.dappInfoDataSkeleton},he.createElement("div",{className:ps(Gh.nameSkeleton,Gh.nameDappSkeleton)}),he.createElement("div",{className:ps(Gh.descSkeleton,Gh.descDappSkeleton)})))),e(!0),e(),e()))}():he.createElement(he.Fragment,null,he.createElement(yf,{title:E(ft(null==A?void 0:A[0].payload)?"Send NFT":"Send Transaction"),onClose:y}),he.createElement(Wg,{onClose:y})));case tn.WarningHardware:return he.createElement(he.Fragment,null,he.createElement(yf,{title:E("Send Transaction"),onClose:y}),he.createElement(Zh,null));case tn.Confirm:return function(){const e=void 0!==r?null==s?void 0:s[r]:void 0;return he.createElement(he.Fragment,null,he.createElement(yf,{title:E("Transaction Info"),onClose:y}),he.createElement("div",{className:Vc.transitionContent},Boolean(e)&&he.createElement(Hg,{transaction:e,tokensBySlug:c}),he.createElement("div",{className:ps(Vc.buttons,Gh.buttonsAfterFee)},he.createElement(ec,{onClick:B},E("Back")))))}();case tn.Password:return function(t){return he.createElement(he.Fragment,null,!Qo()&&he.createElement(yf,{title:E("Confirm Action"),onClose:y}),he.createElement(sp,{isActive:t,isLoading:o,error:l,withCloseButton:e.UMQ,submitLabel:E("Send"),cancelLabel:E("Back"),onSubmit:_,onCancel:B,onUpdate:g}))}(t);case tn.ConnectHardware:return he.createElement(Yh,{isActive:t,state:d,isTonAppConnected:m,isLedgerConnected:u,onConnected:x,onClose:y});case tn.ConfirmHardware:return he.createElement(Ah,{text:E("Please confirm transaction on your Ledger"),error:l,onTryAgain:w,onClose:y})}}return he.createElement(Yc,{hasCloseButton:!0,isOpen:k&&!p,noBackdropClose:!0,dialogClassName:ps(Gh.modalDialog,I&&Gh.modalDialogExtraHeight),nativeBottomSheetKey:"dapp-transfer",forceFullNative:I||C===tn.Password,onClose:y,onCloseAnimationEnd:L},he.createElement(gp,{name:fh(),className:ps(Vc.transition,"custom-scroll"),slideClassName:Vc.transitionSlide,activeKey:C,nextKey:N,onStop:S},D))}))),zg=(0,jn.F3)("Dialog",{web:()=>i.e(564).then(i.bind(i,94564)).then((e=>new e.DialogWeb))}),qg=pe($e((e=>(0,s.Up)(e,["dialogs"])))((t=>{var n;let{dialogs:a}=t;const{dismissDialog:o}=He(),r=vs(),[i,s,l]=Rd(),c=a[a.length-1],d=r(null!==(n=null==c?void 0:c.title)&&void 0!==n?n:"Something went wrong");if(le((()=>{e.UMQ?c&&zg.alert({title:d,message:r(c.message)}).then((()=>{o()})):c?s():l()}),[a,r,c,s,d]),c&&!e.UMQ)return he.createElement(Yc,{isOpen:i,isCompact:!0,title:d,onClose:l,onCloseAnimationEnd:o},he.createElement("div",null,dr(r(c.message))),he.createElement("div",{className:Vc.footerButtons},he.createElement(ec,{onClick:l},r("OK"))))}))),Kg=pe($e((e=>{const{isAppUpdateAvailable:t}=e;return{isAppUpdateAvailable:t}}))((function(t){let{isAppUpdateAvailable:n}=t;const a=vs(),[o,r]=ie(!1),[i,s]=ie(!1),[l,c]=Rd(!1);le((()=>{var e,t,n;const a=null===(e=window.electron)||void 0===e?void 0:e.on(Yp.UPDATE_ERROR,(()=>{r(!1)})),o=null===(t=window.electron)||void 0===t?void 0:t.on(Yp.UPDATE_DOWNLOADED,(()=>{r(!0)}));return null===(n=window.electron)||void 0===n||n.getIsAutoUpdateEnabled().then(s),()=>{null==a||a(),null==o||o()}}),[]);const d=$r((async()=>{if(!l)if(i){var t;if(o)return c(),void await(null===(t=window.electron)||void 0===t?void 0:t.installUpdate());n&&window.location.reload()}else window.open(`${e.yq6}/get`,"_blank","noopener")})),{transitionClassNames:u,shouldRender:m}=ws(o||n);return m?he.createElement("div",{className:ps("m3oYVPLL",u,l&&"Hz_3Tm4Q"),onClick:d},he.createElement("div",{className:"cAAhDZj9"},he.createElement("i",{className:ps("icon-update","O2khIMww")})),he.createElement("div",{className:"vvQKF4lC"},a("Update %app_name%",{app_name:e.C39}))):null}))),jg="o0YiMAP8",Yg="B1_vmNNd",Gg="F4gGoZNE",Qg="oUKLixL4",Xg="Pgysk0gP",Jg=pe((function(n){let{children:a,withTitle:o}=n;const r=me(null);(e=>{const n=me(!1),a=me(window.screenX),o=me(window.screenY),r=me(0);le((()=>{const i=e.current;if(!i||!t.cp||!t.MP)return;const s=e=>{r.current=0,n.current&&(e.preventDefault(),e.stopPropagation(),n.current=!1)},l=e=>{n.current&&(e.preventDefault(),e.stopPropagation())},c=e=>{1===e.buttons&&(r.current+=Math.sqrt((a.current-window.screenX)**2+(o.current-window.screenY)**2),a.current=window.screenX,o.current=window.screenY,!n.current&&r.current>5&&(n.current=!0))},d=e=>{var t;e.currentTarget===e.target&&(null===(t=window.electron)||void 0===t||t.handleDoubleClick())};return i.addEventListener("click",s),i.addEventListener("mousedown",l),i.addEventListener("mousemove",c),i.addEventListener("dblclick",d),()=>{i.removeEventListener("click",s),i.removeEventListener("mouseup",l),i.removeEventListener("mousemove",c),i.removeEventListener("dblclick",d)}}),[e])})(r);const i=$r((()=>{var e;null===(e=window.electron)||void 0===e||e.minimize()})),s=$r((async()=>{var e,t,n;await(null===(e=window.electron)||void 0===e?void 0:e.getIsMaximized())?null===(t=window.electron)||void 0===t||t.unmaximize():null===(n=window.electron)||void 0===n||n.maximize()})),l=$r((()=>{var e;null===(e=window.electron)||void 0===e||e.close()})),c=$r((()=>{var e;null===(e=window.electron)||void 0===e||e.handleDoubleClick()}));return t.H8?he.createElement("div",{ref:r,className:jg,onDoubleClick:c},he.createElement("div",{className:Yg},Boolean(a)&&he.createElement("div",{className:Qg},a),o&&he.createElement("div",{className:Gg},e.C39)),he.createElement("div",{className:"hKXvGlWy"},he.createElement(Kg,null),he.createElement("div",{className:Xg,onClick:i},he.createElement("i",{className:"icon-windows-minimize"})),he.createElement("div",{className:Xg,onClick:s},he.createElement("i",{className:"icon-windows-maximize"})),he.createElement("div",{className:Xg,onClick:l},he.createElement("i",{className:"icon-windows-close"})))):he.createElement("div",{ref:r,className:jg,onDoubleClick:c},he.createElement("div",{className:Yg},o&&he.createElement("div",{className:Gg},e.C39),he.createElement("div",{className:Qg},he.createElement(Kg,null),a)))}));function Zg(e){const n=me(!1);return le((()=>{t.pz&&!e&&n.current&&(Sa(),n.current=!1)}),[e]),{disableSwipeToClose:$r((()=>{t.pz&&!n.current&&(Na(),n.current=!0)})),enableSwipeToClose:$r((()=>{t.pz&&n.current&&(Sa(),n.current=!1)}))}}const ev=function(e){let{containerRef:t,isDisabled:n,shouldPreventDefault:a=!1,contentSelector:o}=e;le((()=>{const e=t.current;if(!n&&e)return e.addEventListener("wheel",r,{passive:!a}),()=>{e.removeEventListener("wheel",r)};function r(t){if(!t.deltaX){const n=o?e.querySelector(o):e;if(!n)return;n.scrollLeft+=t.deltaY/4,a&&t.preventDefault()}}}),[t,o,n,a])};function tv(e){const t=me(),n=me();return n.current!==e&&(t.current=n.current),n.current=e,t.current}const nv=e=>{const{className:t,href:n,children:a,onClick:o,clickArg:r,isDestructive:i,isSeparator:s}=e,l=$r((e=>{if(!o)return e.stopPropagation(),void e.preventDefault();o(e,r)})),c=$r((e=>{if("Enter"===e.code||"Space"===e.code)return o?void o(e):(e.stopPropagation(),void e.preventDefault())})),d=ps("eMFKmXs8",t,i&&"C84vY_ER",s&&"qFOW6a6C");return n?he.createElement("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:d},a):he.createElement("div",{role:"button",tabIndex:0,className:d,onClick:l,onKeyDown:c},a)},av="dNJuuV1f",ov="yWoCn5kk",rv="d8pMxoBU",iv=pe((function(e){let{category:t,sites:n}=e;const{openSiteCategory:a}=He(),o=vs(),[r,i]=de((()=>n.length<=4?[n,[]]:[n.slice(0,3),n.slice(3,7)]),[n]);function s(){a({id:t.id})}return he.createElement("div",{className:"MEbg8jIh"},he.createElement("h3",{className:"P97rYp1K",role:"button",tabIndex:0,onClick:s},o(t.name)),he.createElement("div",{className:"uC9KwIK7"},r.map((e=>he.createElement("button",{key:`${e.url}-${e.name}`,type:"button",className:ps(av,rv),onClick:()=>{to(e.url,{isExternal:e.isExternal,title:e.name,subtitle:ja(e.url)})}},he.createElement(zd,{url:e.icon,alt:e.name,imageClassName:ov})))),i.length>0&&he.createElement("div",{className:ps("qqdPrxSH",rv),onClick:s},i.map((e=>he.createElement(zd,{key:`${e.url}-${e.name}`,url:e.icon,alt:e.name,className:ps(av,"rQOZaBwJ"),imageClassName:ov}))))))})),sv=[],lv="B18NDC8N",cv="ws8erUzz",dv=Xn.Z2,uv=[{name:"Fanzee Battles",manifestUrl:"https://battles-tg-app.fanz.ee/tc-manifest.json",originalUrl:"https://t.me/fanzeebattlesbot",replacementUrl:"https://t.me/battlescryptobot?start=myTonWallet"},{name:"Hamster Kombat",manifestUrl:"https://hamsterkombatgame.io/tonconnect-manifest.json",originalUrl:"https://hamsterkombatgame.io/",replacementUrl:"https://t.me/hamster_kombat_bot/start"},{name:"Dogs",manifestUrl:"https://cdn.onetime.dog/manifest.json",originalUrl:"https://onetime.dog",replacementUrl:"https://t.me/dogshouse_bot/join"},{name:"Earn",manifestUrl:"https://cdn.joincommunity.xyz/earn/manifest.json",originalUrl:"https://earncommunity.xyz",replacementUrl:"https://t.me/earn?startapp"}].reduce(((e,t)=>{let{originalUrl:n,replacementUrl:a}=t;return e[n]=a,e}),{}),mv=pe((function(e){let{iconUrl:t,name:n,url:a,mode:o,origin:r}=e;const{updateDappLastOpenedAt:i}=He(),s=vs(),l=$r((async()=>{await to(uv[a]||a),setTimeout((()=>{i({origin:r})}),dv)}));return he.createElement("button",{type:"button",className:ps("uOCr1XIF","pill"===o?"x3JEisHt":"in10zDBl"),onClick:l},function(){const e="pill"===o?lv:cv;return t?he.createElement("div",{className:e},he.createElement(zd,{url:t,className:e,imageClassName:"ZwXhUWQR",alt:s("Icon")})):he.createElement("div",{className:ps(Gh.dappLogo,Gh.dappLogo_icon,e)},he.createElement("i",{className:ps(Gh.dappIcon,"icon-laptop"),"aria-hidden":!0}))}(),he.createElement("span",{className:"mqKHkpx5"},n))})),pv={rootSlide:"ZqS6W7iF",slide:"FbWMWVID",list:"eHKjqPA4",landscapeList:"ajulW8PQ",suggestionsMenu:"AcA4Inhz",suggestions:"Rr_OedMn",suggestion:"goh_kbKG",suggestionIcon:"BHtFAOhh",suggestionAddress:"hX1s9Ru4",clearSuggestion:"k4u3y6_t",item:"gSQkL6Gj",trendingImage:"bIf54cAx",imageWrapperScalable:"jnZY0Ppv",trending:"dsHH5C4L",imageWrapper:"oZIOx6b0",infoWrapper:"SmLsrv__",extended:"Qe5qRpIb",withBorder:"yvQQOHrd",badge:"PI6bQC1A",image:"RpIwnHrh",title:"ToW8q6Vp",description:"kd6qUnJ8",telegram:"Y4mdR7QN",emptyList:"OLtywBQ9",emptyListLoading:"i6uQ6HHm",searchWrapper:"VQJfovbk",searchContainer:"Wr0eK8xW",searchIcon:"DdYW9BBn",searchInput:"Gy204QbI",sectionHeader:"HElxzEtm",trendingSection:"bX0D8BEZ",trendingList:"bZc6NN6v"},fv=new Set(["https://checkin.mytonwallet.org"]),hv=pe($e((e=>{const{dapps:t=sv}=Ze(e)||{},{dappLastOpenedDatesByOrigin:n}=Ze(e)||{};return{dapps:t,dappLastOpenedDatesByOrigin:n}}))((function(e){let{dapps:n,dappLastOpenedDatesByOrigin:a={}}=e;const{openSettingsWithState:o,closeExplore:r}=He(),i=vs(),s=me(null),l=de((()=>n.slice().filter((e=>!fv.has(e.origin))).map((e=>({...e,lastOpenedAt:a[e.origin]}))).sort(gv)),[a,n]),c=l.length>3?"tile":"pill",d="pill"===c,u=d?lv:cv,m=ps("nA5QFADu",d?"YTIqRcid":"y5gkmCay",!l.length&&"RcpQnS7j","dapps-feed");if(ev({containerRef:s,isDisabled:t.TF||0===l.length,shouldPreventDefault:!0,contentSelector:".dapps-feed"}),l.length)return he.createElement("div",{className:"_3Om0rcJ",ref:s},he.createElement("h2",{className:pv.sectionHeader},i("Connected")),he.createElement("div",{className:m},null==l?void 0:l.map((e=>function(e,t){const{iconUrl:n,name:a,url:o,origin:r}=e;return he.createElement(mv,{key:r,iconUrl:n,name:a,url:o,mode:t,origin:r})}(e,c))),!!l.length&&he.createElement("div",{className:"kqZ8FwHA",role:"button",tabIndex:0,title:d?i("Settings"):void 0,"aria-label":d?i("Settings"):void 0,onClick:function(){r(void 0,{forceOnHeavyAnimation:!0}),o({state:un.Dapps},{forceOnHeavyAnimation:!0})}},he.createElement("div",{className:ps("S5zvywKS",u)},he.createElement("i",{className:"icon-params","aria-hidden":!0})),!d&&he.createElement("span",{className:"CDOOWV_8"},i("Settings")))))})));function gv(e,t){const n=e.lastOpenedAt||0,a=t.lastOpenedAt||0;return n!==a?a-n:t.connectedAt-e.connectedAt}const vv=pe((function(e){let{site:{url:t,icon:n,name:a,description:o,isExternal:r,extendedIcon:i,withBorder:s,badgeText:l},isTrending:c,className:d}=e;return he.createElement("div",{className:ps(pv.item,i&&c&&pv.extended,c&&pv.trending,s&&pv.withBorder,d),tabIndex:0,role:"button",onClick:function(){tr(),to(t,{isExternal:r,title:a,subtitle:ja(t)})}},he.createElement(zd,{url:i&&c?i:n,className:ps(pv.imageWrapper,!c&&pv.imageWrapperScalable),imageClassName:ps(pv.image,c&&pv.trendingImage)}),he.createElement("div",{className:pv.infoWrapper},he.createElement("b",{className:pv.title},a,!c&&Za(t)&&he.createElement("i",{className:ps(pv.telegram,"icon-telegram-filled"),"aria-hidden":!0})),he.createElement("div",{className:pv.description},o)),l&&he.createElement("div",{className:pv.badge},l))})),wv=pe($e((e=>{var t;return{categories:null===(t=e.exploreData)||void 0===t?void 0:t.categories}}))((function(e){let{id:t,withNotch:n,categories:a}=e;const{closeSiteCategory:o}=He(),r=vs(),{isPortrait:i}=po(),s=de((()=>{var e;return null===(e=a||[])||void 0===e?void 0:e.find((e=>t===e.id))}),[a,t]);return he.createElement("div",{className:ps("xWsj5_Wk",i&&"with-notch-on-scroll",n&&"is-scrolled")},he.createElement(ec,{className:"P2bhPLw0",isSimple:!0,isText:!0,onClick:o},he.createElement("i",{className:ps("FmQAR1hK","icon-chevron-left"),"aria-hidden":!0}),he.createElement("span",null,r("Back"))),he.createElement("h3",{className:"kW1ssngj"},r((null==s?void 0:s.name)||"")))}))),yv=pe((function(e){let{isActive:t,categoryId:n,sites:a}=e;const{closeSiteCategory:o}=He(),{isPortrait:r}=po();Ql({isActive:t,onBack:o});const{handleScroll:i,isScrolled:s}=ff();return he.createElement("div",{onScroll:r?i:void 0,className:ps("LxPuuiTJ","custom-scroll")},r&&he.createElement(wv,{id:n,withNotch:s}),he.createElement("div",{className:"Eml6INN5"},a.map((e=>he.createElement(vv,{key:`${e.url}-${e.name}`,site:e})))))}));var bv=function(e){return e[e.main=0]="main",e[e.category=1]="category",e}(bv||{});const Ev=pe($e((e=>{const{browserHistory:n,currentSiteCategoryId:a}=Ze(e)||{},{categories:o,sites:r}=e.exploreData||{};return{sites:r,categories:o,shouldRestrict:e.restrictions.isLimitedRegion&&(t.ZH||t.xy),browserHistory:n,currentSiteCategoryId:a}}))((function(n){let{isActive:a,categories:o,sites:r,shouldRestrict:i,browserHistory:s,currentSiteCategoryId:c}=n;const{loadExploreSites:d,getDapps:u,addSiteToBrowserHistory:m,removeSiteFromBrowserHistory:p,openSiteCategory:f,closeSiteCategory:h}=He(),g=me(null),v=me(void 0),w=me(null),y=me(null),b=vs(),{isLandscape:E,isPortrait:k}=po(),[C,N]=ie(""),[S,A,T]=Rd(!1),[I,B,_]=Rd(!1),{renderingKey:x}=hh(c||0,!!a),L=Wr(tv(x)),{disableSwipeToClose:D,enableSwipeToClose:O}=Zg(a),{handleScroll:P,isScrolled:F}=ff();le((()=>x?Ih(h):void 0),[h,x]);const R=de((()=>i?null==r?void 0:r.filter((e=>!e.canBeRestricted)):r),[r,i]),M=de((()=>{const e=C.toLowerCase(),t=null==s?void 0:s.filter((t=>t.toLowerCase().includes(e))),n=e.length&&R?R.filter((t=>{let{url:n,name:a,description:o}=t;return n.toLowerCase().includes(e)||a.toLowerCase().includes(e)||o.toLowerCase().includes(e)})):void 0;return{history:t,sites:n,isEmpty:((null==t?void 0:t.length)||0)+((null==n?void 0:n.length)||0)===0}}),[s,C,R]),{trendingSites:U,allSites:H}=de((()=>(R||[]).reduce(((e,t)=>(t.isFeatured&&e.trendingSites.push(t),e.allSites[t.categoryId]||(e.allSites[t.categoryId]=[]),e.allSites[t.categoryId].push(t),e)),{trendingSites:[],allSites:{}})),[R]);le((()=>{if(t.TF&&null!=R&&R.length)return Xm(w.current,{onSwipeRightStart:()=>{h(),D()},onCancel:()=>{f({id:L.current}),O()}})}),[D,O,null==R?void 0:R.length,L]),ev({containerRef:y,isDisabled:t.TF||0===U.length,shouldPreventDefault:!0,contentSelector:`.${pv.trendingList}`});const W=de((()=>null==o?void 0:o.filter((e=>{var t;return(null===(t=H[e.id])||void 0===t?void 0:t.length)>0}))),[o,H]);le((()=>{a&&(u(),d({isLandscape:E}))}),[a,E]);const $=$r((()=>{M.isEmpty||(t.Ni?v.current=window.setTimeout(B,300):B())})),V=$r((()=>{I&&_(),window.clearTimeout(v.current)}));function z(e,t,n){let a=e;a.startsWith("http:")||a.startsWith("https:")||(a=`https://${a}`),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qa;try{if(!e.match(za))return!1;const n=new URL(e);return t.has(n.protocol)}catch(e){return(0,l.SJ)("isValidUrl",e),!1}}(a)?m({url:a}):a=`https://www.google.com/search?q=${encodeURIComponent(e)}`,to(a,{isExternal:t,title:n,subtitle:ja(a)})}vl((e=>{let[t]=e;(t&&!S||M.isEmpty)&&V(),S&&!M.isEmpty&&$()}),[S,M.isEmpty]);const q=$r(((e,t)=>{tr(),_();const n=null==r?void 0:r.find((e=>{let{url:n}=e;return n===t}));z(t,null==n?void 0:n.isExternal,null==n?void 0:n.name)}));function K(e){N(e.target.value)}const j=$r((()=>{var e;null===(e=g.current)||void 0===e||e.blur()}));function Y(e){fs(e),j(),C.length>0&&(z(C),N(""))}function G(e,t,n){switch(n){case bv.main:return he.createElement("div",{className:ps(pv.slide,"custom-scroll"),onScroll:k?P:void 0},he.createElement("div",{className:ps(pv.searchWrapper,"with-notch-on-scroll",F&&"is-scrolled")},he.createElement("form",{action:"#",onSubmit:Y,className:pv.searchContainer,autoComplete:"off"},he.createElement("i",{className:ps(pv.searchIcon,"icon-search"),"aria-hidden":!0}),he.createElement("input",{name:"explore-search",className:pv.searchInput,placeholder:b("Search or enter address"),value:C,autoCorrect:!1,autoCapitalize:"none",spellCheck:!1,inputMode:"url",onChange:K,onFocus:A,onBlur:T})),he.createElement(xh,{type:"suggestion",noBackdrop:!0,isOpen:Boolean(I&&!M.isEmpty),className:pv.suggestions,bubbleClassName:pv.suggestionsMenu,onClose:j},null==M||null===(a=M.history)||void 0===a?void 0:a.map((e=>he.createElement(nv,{key:`history-${e}`,className:pv.suggestion,onClick:q,clickArg:e},he.createElement("i",{className:ps(pv.suggestionIcon,C.length?"icon-search":"icon-globe"),"aria-hidden":!0}),he.createElement("span",{className:pv.suggestionAddress},ja(e)),he.createElement("button",{className:pv.clearSuggestion,type:"button","aria-label":b("Clear"),title:b("Clear"),onMouseDown:t=>function(e,t){fs(e),p({url:t})}(t,e),onClick:fs},he.createElement("i",{className:"icon-close","aria-hidden":!0}))))),null==M||null===(o=M.sites)||void 0===o?void 0:o.map((e=>he.createElement(vv,{key:`site-${e.url}-${e.name}`,className:pv.suggestion,site:e}))))),he.createElement(hv,null),Boolean(U.length)&&he.createElement("div",{ref:y,className:pv.trendingSection},he.createElement("h2",{className:pv.sectionHeader},b("Trending")),he.createElement("div",{className:pv.trendingList},U.map((e=>he.createElement(vv,{key:`${e.url}-${e.name}`,site:e,isTrending:!0}))))),Boolean(null==W?void 0:W.length)&&he.createElement(he.Fragment,null,he.createElement("h2",{className:pv.sectionHeader},b("All Dapps")),he.createElement("div",{className:ps(pv.list,E&&pv.landscapeList)},W.map((e=>he.createElement(iv,{key:e.id,category:e,sites:H[e.id]}))))));case bv.category:{const t=H[x];if(!t)return;return he.createElement(yv,{key:x,isActive:e,categoryId:x,sites:t})}}var a,o}return void 0===R?he.createElement("div",{className:ps(pv.emptyList,pv.emptyListLoading)},he.createElement(Ph,null)):0===R.length?he.createElement("div",{className:pv.emptyList},he.createElement(xm,{play:a,tgsUrl:Ju.happy,previewUrl:Ju.happyPreview,size:e.igk,className:pv.sticker,noLoop:!1,nonInteractive:!0}),he.createElement("p",{className:pv.emptyListTitle},b("No partners yet"))):he.createElement(gp,{ref:w,name:fh(),activeKey:x?bv.category:bv.main,withSwipeControl:!0,className:pv.rootSlide},G)}))),kv=pe((function(e){let{isActive:t,isStatic:n,hardwareWallets:a,accounts:o,onBackButtonClick:r,onCancel:i,onClose:s}=e;const{afterSelectHardwareWallets:l,loadMoreHardwareWallets:c}=He(),d=vs(),[u,m]=ie([]),p=!i;Ql({isActive:t,onBack:null!=i?i:s}),cm(Boolean(t));const f=$r((e=>{u.includes(e)?m(u.filter((t=>t!==e))):m(u.concat([e]))})),h=$r((()=>{l({hardwareSelectedIndices:u}),s()})),g=de((()=>Object.values(null!=o?o:[]).map((e=>{let{addressByChain:{ton:t}}=e;return t}))),[o]),v=$r((()=>{var e,t;const n=null!=a?a:[],o=null!==(e=null===(t=n[n.length-1])||void 0===t?void 0:t.index)&&void 0!==e?e:0;c({lastIndex:o})})),w=!u.length,y=u.length?d("%1$d Selected",u.length):d("Select Ledger Wallets");return he.createElement(he.Fragment,null,n?he.createElement("div",{className:bf.header},he.createElement(ec,{isSimple:!0,isText:!0,onClick:s,className:bf.headerBack},he.createElement("i",{className:ps(bf.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),he.createElement("span",null,d("Back"))),he.createElement("span",{className:bf.headerTitle},y)):he.createElement(yf,{title:y,onBackButtonClick:r,onClose:r?void 0:s}),he.createElement("div",{className:ps(Nh.container,n&&Nh.containerStatic,n&&"static-container")},function(){const e=null!=a?a:[],t=ps(Nh.accounts,1===e.length&&Nh.accounts_two,"custom-scroll");return he.createElement("div",{className:t},e.map((e=>{let{address:t,balance:n,index:a}=e;return function(e,t,n,a){const o=a||u.includes(n);return he.createElement("div",{key:e,className:ps(Nh.account,o&&Nh.account_current),onClick:a?void 0:()=>f(n)},he.createElement("span",{className:Nh.accountName},he.createElement("i",{className:ps(Nh.accountCurrencyIcon,"icon-ton"),"aria-hidden":!0}),gr((0,wt.nI)(t),"",3)),he.createElement("div",{className:Nh.accountFooter},he.createElement("span",{className:Nh.accountAddress},xt(e,4,4))),he.createElement("div",{className:ps(Nh.accountCheckMark,o&&Nh.accountCheckMark_active)}))}(t,n,a,g.includes(t))})),he.createElement(ec,{className:Nh.addAccountContainer,onClick:v},d("Add Wallet"),he.createElement("i",{className:ps(Nh.addAccountIcon,"icon-plus"),"aria-hidden":!0})))}(),he.createElement("div",{className:Nh.actionBlock},he.createElement(ec,{className:Nh.button,onClick:p?s:i},d(p?"Cancel":"Back")),he.createElement(ec,{isPrimary:!0,isDisabled:w,onClick:h,className:Nh.button},d("Add")))))}));var Cv=function(e){return e[e.Password=0]="Password",e[e.Connect=1]="Connect",e[e.SelectWallets=2]="SelectWallets",e}(Cv||{});const Nv=pe($e((e=>{const t=Ge(e),{hardwareWallets:n,hardwareState:a,isLedgerConnected:o,isTonAppConnected:r,isRemoteTab:i}=e.hardware;return{accounts:t,hardwareWallets:n,hardwareState:a,isLedgerConnected:o,isTonAppConnected:r,isRemoteTab:i,areSettingsOpen:e.areSettingsOpen}}))((function(e){let{isOpen:n,onClose:a,hardwareWallets:o,accounts:r,hardwareState:i,isLedgerConnected:s,isTonAppConnected:l,isRemoteTab:c,areSettingsOpen:d}=e;const{afterSelectHardwareWallets:u,resetHardwareWalletConnect:m}=He(),[p,f]=ie(Cv.Connect),[h]=ie(Cv.SelectWallets),g=$r((()=>{u({hardwareSelectedIndices:[o[0].index]}),a()})),v=$r((e=>{e?g():f(Cv.SelectWallets)})),w=$r((()=>{f(Cv.Connect),m()}));function y(e,n,d){switch(d){case Cv.Connect:return he.createElement(Yh,{isActive:e,state:i,shouldDelegateToNative:t.KI,isLedgerConnected:s,isTonAppConnected:l,isRemoteTab:c,onConnected:v,onClose:a});case Cv.SelectWallets:return he.createElement(kv,{isActive:e,accounts:r,hardwareWallets:o,onClose:a})}}return he.createElement(Yc,{isOpen:n,hasCloseButton:!0,onClose:a,onCloseAnimationEnd:w,dialogClassName:ps(Nh.modalDialog,d&&Nh.modalDialogInsideSettings)},he.createElement(gp,{name:fh(),className:ps(Vc.transition,"custom-scroll"),slideClassName:Vc.transitionSlide,activeKey:p,nextKey:h},y))}))),Sv=document.querySelector('meta[name="viewport"]'),Av=(null==Sv?void 0:Sv.getAttribute("content"))||"",Tv="width=device-width, initial-scale=1, shrink-to-fit=no, viewport-fit=cover";function Iv(e,t,n,a){const o=`ton://transfer/${e}`,r=[];return t&&r.push(`amount=${t}`),n&&r.push(`text=${encodeURIComponent(n)}`),a&&r.push(`jetton=${encodeURIComponent(a)}`),0===r.length?o:`${o}?${r.join("&")}`}const Bv=i.p+"chain_avalanche.f5a22f3024a79c2a9f7e.svg",_v=i.p+"chain_bitcoin.f45ee04748fc010b73f0.svg",xv=i.p+"chain_bitcoincash.e58775a726a28f67a7ab.svg",Lv=i.p+"chain_bnb.01e2f3e1ea67de53c558.svg",Dv={avalanche:Bv,bitcoin:_v,bitcoin_cash:xv,binance_smart_chain:Lv,binance_dex:Lv,cardano:i.p+"chain_cardano.687768b5a8564f340656.svg",cosmos:i.p+"chain_cosmos.a7db04679752fce24427.svg",dash:i.p+"chain_dash.cda178d1c80b14b84c65.svg",doge:i.p+"chain_doge.299dffe46d1d20ecb64e.svg",eos:i.p+"chain_eos.5d77746a1d3fe4f879d9.svg",ethereum:i.p+"chain_ethereum.3af0d0aca7d489e97c88.svg",ethereum_classic:i.p+"chain_ethereumclassic.7a2a50f776866f7dc57f.svg",internet_computer:i.p+"chain_internetcomputer.a779e5a83feca271c1b5.svg",iota:i.p+"chain_iota.74e7a3ff559ca5be6171.svg",litecoin:i.p+"chain_litecoin.200bd2979f34cbf91fee.svg",monero:i.p+"chain_monero.80470738ce04482ad225.svg",polkadot:i.p+"chain_polkadot.ce8946cba8f597bc6435.svg",ripple:i.p+"chain_ripple.d4675f4b4373f6c8fdf4.svg",solana:i.p+"chain_solana.3628ba06de78d3bc2018.svg",stellar:i.p+"chain_stellar.f7eb720521e4d55bb082.svg",ton:i.p+"chain_ton.65285e35dece81bdab6c.svg",tron:i.p+"chain_tron.78feaed45ec98c6779ca.svg",zcash:i.p+"chain_zcash.51dd09d4e46c4b2f1ace.svg"};function Ov(e){var t;return e?null!==(t=Dv[e])&&void 0!==t?t:e:""}const Pv={wrapper:"XPeM0_U7",icon:"FoSSGfFn",large:"wjhynzvL",small:"Zb5vM0UM",middle:"d5dxI69w","x-middle":"oxbvbCY8",xMiddle:"oxbvbCY8",fallbackIcon:"p13LUS2n",blockchainIcon:"CMIQ9vCY"},Fv=pe((function(e){let{token:t,size:n,withChainIcon:a,className:o,iconClassName:r,children:i}=e;const{symbol:s,image:l,chain:c}=t,d=Os[s.toLowerCase()]||l,[u,m]=Rd(!1);return he.createElement("div",{className:ps(Pv.wrapper,o)},u?he.createElement("div",{className:ps(Pv.icon,n&&Pv[n],r,Pv.fallbackIcon)},t.symbol.slice(0,1)):he.createElement("img",{src:d,alt:s,className:ps(Pv.icon,n&&Pv[n],r),draggable:!1,onError:m}),a&&c&&he.createElement("img",{src:Ov(c),alt:"",className:ps(Pv.blockchainIcon,n&&Pv[n]),draggable:!1}),i)})),Rv=pe((function(e){let{token:n,className:a,noChainIcon:o,onClick:r}=e;const{transitionRef:i}=function(e){const n=me(null);return ce((()=>{if(!n.current||!e)return;const a=`${e.symbol.length*Uv/t.$+Mv}rem`;Uc(n.current,{minWidth:a})}),[e]),{transitionRef:n}}(n),s=me(0);return _l((()=>{s.current++}),[`${null==n?void 0:n.symbol}_${null==n?void 0:n.chain}`]),l=n,he.createElement(gp,{ref:i,name:"fade",activeKey:s.current,className:ps("ZSZY1phv",a),slideClassName:"vCCqOvOq"},he.createElement("button",{type:"button",className:"XIxoy7tw",onClick:function(e){fs(e),r()}},l&&he.createElement(Fv,{token:l,withChainIcon:!o,size:"middle",className:"SS8KpgmL"}),he.createElement("div",{className:"ISsYr_9r"},he.createElement("span",null,null==l?void 0:l.symbol),he.createElement("i",{className:ps("icon-chevron-right","D_7DrGaN"),"aria-hidden":!0}))));var l})),Mv=70/t.$,Uv=10;function Hv(e,t,n){const a=function(e){let t=0;for(let n=0;n<e.length;n++)t=e.charCodeAt(n)+((t<<5)-t),t|=0;return t}(n),o=1e4*Math.sin(a),r=o-Math.floor(o);return Math.floor(r*(t-e+1))+e}const Wv={binance_smart_chain:"Binance Smart Chain",internet_computer:"Internet Computer",ethereum_classic:"Ethereum Classic",bitcoin_cash:"Bitcoin Cash",binance_dex:"Binance Dex",ton:"TON",bitcoin:"Bitcoin",ethereum:"Ethereum",solana:"Solana",tron:"TRON",stellar:"Stellar",doge:"DOGE",eos:"EOS",avalanche:"Avalanche",cardano:"Cardano",monero:"Monero",dash:"Dash",ripple:"Ripple",cosmos:"Cosmos",litecoin:"Litecoin",zcash:"Zcash",polkadot:"Polkadot",iota:"IOTA"};function $v(e){var t;return e?null!==(t=Wv[e])&&void 0!==t?t:e:""}function Vv(e){var t;const n=me();return null!==(t=n.current)&&void 0!==t||(n.current=E(e)),n.current}const zv=function(e,t){var n;let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const o=t?e:()=>e;null!==(n=t)&&void 0!==n||(t=[e]);const[r,i]=Vv(),s=Wr(o);function l(){const e=s.current;a?e(i):i(e())}return _l(l,t),tf(l,t),r},qv=[6e-6,6e-6,1e-5*.06,3e-4*.06,6e-6,15e-5],Kv=.07,jv={lightTheme:"120, 121, 122",darkTheme:"240, 241, 242",cardLightText:"250, 250, 250",cardDarkText:"10, 10, 10",cardGoldText:"101, 73, 16",purple:"96, 107, 215"};function Yv(e){return e[(t=0,n=e.length-1,Math.floor(Math.random()*(n-t+1)+t))];var t,n}const Gv=pe($e((e=>({theme:e.settings.theme})))((function(e){let{cols:n,rows:a,cellSize:o,skin:r,className:i,theme:s}=e;const l=me(null),c=o*t.Lv,u=Fd(s),m=jv[null!=r?r:`${u}Theme`],p=me({opacityValues:[],steps:[],lastSpeedChangeAt:void 0,isRendered:!1}),f=of(l,rf),h=qr,g=zv((()=>f()&&!h()),[f,h]);return ce((()=>{const e=p.current;if(e.isRendered&&!g())return;const t=l.current,o=t.getContext("2d"),r=n*c,i=a*c;let s,u=!1;t.width=r,t.height=i,e.lastSpeedChangeAt=void 0;const f={ctx:o,cols:n,rows:a,width:r,height:i,cellSizeDpr:c,color:m};return(0,d.iT)((()=>{if(u||e.isRendered&&!g())return!1;const t=performance.now();return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const{ctx:a,cols:o,rows:r,cellSizeDpr:i,width:s,height:l,color:c}=e,d=performance.now(),u=!!t.lastSpeedChangeAt&&d-t.lastSpeedChangeAt>=3e3;!u&&t.lastSpeedChangeAt||(t.lastSpeedChangeAt=d),a.clearRect(0,0,s,l);for(let e=0;e<r;e++)for(let r=0;r<o;r++){var m,p,f,h,g,v,w,y,b,E;null!==(f=(m=t.steps)[p=e])&&void 0!==f||(m[p]=[]),null!==(v=(h=t.opacityValues)[g=e])&&void 0!==v||(h[g]=[]),u?t.steps[e][r]=Yv(qv)*(t.steps[e][r]<0?-1:1):null!==(E=(y=t.steps[e])[b=r])&&void 0!==E||(y[b]=Yv(qv));let o=null!==(w=t.opacityValues[e][r])&&void 0!==w?w:.18*Math.random()+Kv;o+=t.steps[e][r]*n,(o>.25||o<Kv)&&(t.steps[e][r]*=-1,o=Us(o,Kv,.25)),t.opacityValues[e][r]=o,a.fillStyle=`rgba(${c}, ${o})`,a.fillRect(r*i,e*i,i,i),t.isRendered||(t.isRendered=!0)}}(f,e,s?t-s:0),s=t,!0}),k.RK),()=>{u=!0}}),[n,a,c,g,m]),he.createElement("canvas",{ref:l,style:`width: ${o*n}px; height: ${o*a}px`,className:ps("_5lZqlhE",i)})}))),Qv={wrapper:"iXsFkRU7",center:"FEWWktrI",right:"FXNTlsIy",interactive:"O6dWAwYM",content:"GAvxZ7xR",spoiler:"ynSPM0hu",left:"DSH91Ntx",hidden:"JfW0tuT3",fixedWidth:"CBhjF9XS"},Xv=pe((function(e){let{isActive:t,rows:n,cols:a,cellSize:o=0,align:r="left",maskSkin:i,shouldHoldSize:s,className:l,maskClassName:c,contentClassName:d,children:u}=e;const{setIsSensitiveDataHidden:m}=He(),p=me(null),{shouldRender:f,hasOpenClass:h}=ws(t,void 0,t),g=ps(Qv.wrapper,l,t&&Qv.interactive,Qv[r]),v=ps(Qv.spoiler,!h&&Qv.hidden,c,Qv[r]),w=dm(`--spoiler-width: calc(${o*a}px + var(--sensitive-data-extra-width, 0px))`,`min-height: ${o*n}px`,(t||s)&&"min-width: var(--spoiler-width);"),y=ps(Qv.content,t&&Qv.hidden,d,t&&h&&Qv.fixedWidth);return he.createElement("div",{style:w,className:g,onClick:t?function(e){fs(e),m({isHidden:!1})}:void 0},f&&he.createElement(Gv,{cols:a,rows:n,cellSize:o,skin:i,className:v}),he.createElement("div",{ref:p,className:y},u))})),Jv={tokenSelectInputWrapper:"oCuiJXQ_",tokenSelectSearchIcon:"zftr1vD0",tokenSelectSearchResetWrapper:"Ss4Pd7B2",tokenSelectSearchReset:"oDrN01CP",tokenSelectSearchResetIcon:"ok_5nHql",tokenSelectInput:"fDjHi6pe",tokenSelectContent:"LodBlyss",tokenGroupContainer:"MbjJDq0G",tokenGroupHeader:"RpUAt2yS",tokenGroupTitle:"WhzSaV_6",tokenGroupAdditionalTitle:"FdHSpaSV",tokenContainer:"eUkSUO8W",tokenContainerDisabled:"tHJSsGRH",tokenLogoContainer:"nsViIoST",logoContainer:"adBlSlrG",tokenLogoSkeleton:"cGf45x9B",tokenLogoSymbol:"PSK73bRe",tokenLogo:"xiUmZwCy",tokenLogoDisabled:"OwvlXRrn",tokenNetworkLogoSkeleton:"MO1xaZfl",nameContainer:"ZPTo397c",tokenPriceContainer:"qGxMTfbW",tokenName:"Wgp2h4bc",tokenAmount:"QWmp5WQP",tokenNetwork:"gBNLwjjP",tokenValue:"S1V0VVx3",tokenNameSkeleton:"GkqdgXVp",tokenValueSkeleton:"AhEbK2G0",tokenNotFound:"zp0dyh68",tokenNotFoundTitle:"R7aa_jfY",tokenNotFoundDesc:"XlzS0_qG",tokenTextDisabled:"lotwVvdo"};var Zv=function(e){return e[e.Initial=0]="Initial",e[e.Search=1]="Search",e[e.Loading=2]="Loading",e[e.TokenByAddress=3]="TokenByAddress",e[e.Empty=4]="Empty",e}(Zv||{});const ew=[],tw={},nw=pe($e((e=>{var t,n,a;const{baseCurrency:o,isSensitiveDataHidden:r}=e.settings,{isLoading:i,token:s}=null!==(t=e.settings.importToken)&&void 0!==t?t:{},{pairs:l,tokenInSlug:c}=null!==(n=e.currentSwap)&&void 0!==n?n:{},d=function(e){var t,n;const a=null===(t=Ze(e))||void 0===t||null===(t=t.balances)||void 0===t?void 0:t.bySlug;if(!a||!e.tokenInfo||!e.swapTokenInfo)return;const o=null!==(n=at(e))&&void 0!==n?n:{},{areTokensWithNoCostHidden:r,isSortByValueEnabled:i}=e.settings;return In(e.currentAccountId)(a,e.tokenInfo,e.swapTokenInfo,o,i,r)}(e),u=function(e){var t;const n=null===(t=Ze(e))||void 0===t||null===(t=t.balances)||void 0===t?void 0:t.bySlug;if(n&&e.swapTokenInfo)return An(e.currentAccountId)(n,e.swapTokenInfo)}(e),m=Bn(e),p=ut(e,e.currentAccountId),f=null===(a=Xe(e))||void 0===a?void 0:a.addressByChain;return{baseCurrency:o,isLoading:i,token:s,pairsBySlug:null==l?void 0:l.bySlug,tokenInSlug:c,userTokens:d,popularTokens:u,swapTokens:m,isMultichain:p,availableChains:f,isSensitiveDataHidden:r}}))((function(t){let{token:n,userTokens:a=ew,swapTokens:o=ew,popularTokens:r=ew,header:i,shouldFilter:s,shouldUseSwapTokens:l,baseCurrency:c,tokenInSlug:d,pairsBySlug:u,isActive:m,isLoading:p,shouldHideMyTokens:f,shouldHideNotSupportedTokens:h=!1,isMultichain:g,availableChains:v=tw,selectedChain:w,isSensitiveDataHidden:y,onTokenSelect:b,onBack:E,onClose:k}=t;const{importToken:C,resetImportToken:N,openSettingsWithState:S}=He(),A=vs(),T=br(c),I=me(null),B=me(null);Ql({isActive:m,onBack:E}),le((()=>{if(m)return el(),tl}),[m]),Zu(B,!m);const{handleScroll:_}=ff(),[x,L]=ie(""),[D,O]=ie(!1),[P,F]=ie(Zv.Initial),[R,M]=ie([]),U=ue((e=>function(e,t,n,a){return e.length&&n?e.map((e=>{var o;const r=null==a||null===(o=a[n])||void 0===o?void 0:o[e.slug],i=Boolean(t?r:r&&!r.isMultichain);return{...e,canSwap:i}})).sort(((e,t)=>Number(t.canSwap)-Number(e.canSwap))):[]}(e,g,d,u)),[u,d,g]),H=de((()=>ow(a,h,v,w)),[a,h,v,w]),W=de((()=>ow(o,h,v,w)),[o,h,v,w]),$=de((()=>ow(r,h,v,w)),[r,h,v,w]),{userTokensWithFilter:V,popularTokensWithFilter:z,swapTokensWithFilter:q}=de((()=>s?{userTokensWithFilter:U(H),popularTokensWithFilter:U($),swapTokensWithFilter:U(o)}:{userTokensWithFilter:H,popularTokensWithFilter:$,swapTokensWithFilter:o}),[U,$,s,o,H]),K=de((()=>{var t;const n=l?q:W,a=x.toLowerCase(),o=a.trim();if(a.length&&!o.length)return[];const r=null!==(t=n.filter((e=>{let{name:t,symbol:n,keywords:a,isDisabled:r}=e;if(r)return!1;const i=t.toLowerCase().includes(o),s=n.toLowerCase().includes(o),l=null==a?void 0:a.some((e=>e.toLowerCase().includes(o)));return i||s||l})))&&void 0!==t?t:[],i=r.reduce(((t,n)=>{const a={tickerExactMatch:0,tickerMatchLength:0,nameMatchLength:0,specialOrder:0},r=n.symbol.toLowerCase(),i=n.name.toLowerCase();return r===o&&(a.tickerExactMatch=1),r.includes(o)&&(a.tickerMatchLength=o.length),i.includes(o)&&(a.nameMatchLength=o.length),n.slug===e.rUK&&(a.specialOrder=2),n.slug!==e.QSz&&n.slug!==e.vsz||(a.specialOrder=1),t[n.slug]=a,t}),{});return r.sort(((e,t)=>{const n=function(e,t){return e.specialOrder!==t.specialOrder?t.specialOrder-e.specialOrder:e.tickerExactMatch!==t.tickerExactMatch?t.tickerExactMatch-e.tickerExactMatch:e.tickerMatchLength!==t.tickerMatchLength?t.tickerMatchLength-e.tickerMatchLength:t.nameMatchLength-e.nameMatchLength}(i[e.slug],i[t.slug]);return 0!==n?n:Number(t.amount-e.amount)}))}),[W,l,x,q]),j=()=>{L("")};_l((()=>{O(Boolean(x.length));const e=Mn(x,"ton");let t=Zv.Initial;p&&e?t=Zv.Loading:n&&e?t=Zv.TokenByAddress:x.length&&0!==K.length?t=Zv.Search:0===K.length&&(t=Zv.Empty),F(t),t!==Zv.Initial&&M(K)}),[R.length,p,x,n,K]),le((()=>{Mn(x,"ton")?(C({address:x,isSwap:!0}),F(Zv.Loading)):N()}),[x]),ce((()=>{m&&I.current&&(I.current.scrollTop=0)}),[m]);const Y=$r((e=>{var t;null===(t=B.current)||void 0===t||t.blur(),b(e),j(),E()})),G=$r((()=>{k(),S({state:un.Assets})}));function Q(e){const t=Boolean(!s||e.canSwap),n=Boolean((g||l)&&!w),a=t?$v(e.chain):A("Unavailable"),o=0===e.price?A("No Price"):gr(e.price,T,void 0,!0);return he.createElement(aw,{key:e.slug,isAvailable:t,isSensitiveDataHidden:y,withChainIcon:n,descriptionText:a,token:e,tokenPrice:o,onSelect:Y})}function X(e,t,n){return he.createElement("div",{className:Jv.tokenGroupContainer},he.createElement("div",{className:Jv.tokenGroupHeader},he.createElement("span",{className:Jv.tokenGroupTitle},t),n&&he.createElement("span",{className:Jv.tokenGroupAdditionalTitle,onClick:G},A("Settings"))),e.map(Q))}function J(){return he.createElement("div",{className:ps(Jv.tokenContainer,Jv.tokenContainerDisabled)},he.createElement("div",{className:Jv.tokenLogoContainer},he.createElement("div",{className:Jv.logoContainer},he.createElement("div",{className:Jv.tokenLogoSkeleton}),he.createElement("div",{className:Jv.tokenNetworkLogoSkeleton})),he.createElement("div",{className:Jv.nameContainer},he.createElement("span",{className:Jv.tokenNameSkeleton}),he.createElement("span",{className:Jv.tokenValueSkeleton}))),he.createElement("div",{className:Jv.tokenPriceContainer},he.createElement("span",{className:ps(Jv.tokenNameSkeleton,Jv.rotateSkeleton)}),he.createElement("span",{className:Jv.tokenValueSkeleton})))}function Z(e){return e?he.createElement("div",{className:Jv.tokenGroupContainer},Q(e)):he.createElement(he.Fragment,null,J(),J(),J(),J(),J())}function ee(t,a,o){switch(o){case Zv.Initial:return he.createElement(he.Fragment,null,!f&&X(V,A("MY"),!0),X(z,A("POPULAR")));case Zv.Loading:return Z();case Zv.Search:return he.createElement("div",{className:Jv.tokenGroupContainer},R.map(Q));case Zv.TokenByAddress:return Z(n);case Zv.Empty:return he.createElement("div",{className:Jv.tokenNotFound},he.createElement(xm,{play:t,tgsUrl:Ju.noData,previewUrl:Ju.noDataPreview,size:e.lWW,noLoop:!1,nonInteractive:!0}),he.createElement("span",{className:Jv.tokenNotFoundTitle},A("Not Found")),he.createElement("span",{className:Jv.tokenNotFoundDesc},A("Try another keyword or address.")))}}return he.createElement(he.Fragment,null,i||he.createElement(yf,{title:A("Select Token"),onBackButtonClick:E,onClose:k}),he.createElement("div",{className:Jv.tokenSelectInputWrapper},he.createElement("i",{className:ps(Jv.tokenSelectSearchIcon,"icon-search"),"aria-hidden":!0}),he.createElement("input",{ref:B,name:"token-search-modal",className:Jv.tokenSelectInput,onChange:e=>L(e.target.value),placeholder:A("Name or Address..."),value:x}),he.createElement(gp,{name:"fade",activeKey:D?0:1,className:Jv.tokenSelectSearchResetWrapper},D&&he.createElement("button",{type:"button",className:Jv.tokenSelectSearchReset,"aria-label":A("Clear"),onClick:j},he.createElement("i",{className:ps(Jv.tokenSelectSearchResetIcon,"icon-close"),"aria-hidden":!0})))),he.createElement("div",{ref:I,className:ps(Jv.tokenSelectContent,"custom-scroll"),onScroll:_},he.createElement(gp,{name:"fade",activeKey:P},ee)))})));function aw(e){let{token:t,isAvailable:n,isSensitiveDataHidden:a,withChainIcon:o,descriptionText:r,tokenPrice:i,onSelect:s}=e;const l=n?()=>s(t):void 0,c=de((()=>Hv(4,10,t.slug)),[t.slug]);return he.createElement("div",{className:ps(Jv.tokenContainer,!n&&Jv.tokenContainerDisabled),onClick:l},he.createElement("div",{className:Jv.tokenLogoContainer},he.createElement(Fv,{token:t,withChainIcon:o,className:ps(Jv.tokenLogo,!n&&Jv.tokenLogoDisabled)}),he.createElement("div",{className:Jv.nameContainer},he.createElement("span",{className:ps(Jv.tokenName,!n&&Jv.tokenTextDisabled)},t.name),he.createElement("span",{className:ps(Jv.tokenNetwork,!n&&Jv.tokenTextDisabled)},r))),he.createElement("div",{className:Jv.tokenPriceContainer},he.createElement(Xv,{isActive:a,cols:c,rows:2,cellSize:8,align:"right",className:ps(Jv.tokenAmount,!n&&Jv.tokenTextDisabled)},gr((0,wt.nI)(t.amount,null==t?void 0:t.decimals),t.symbol)),he.createElement("span",{className:ps(Jv.tokenValue,!n&&Jv.tokenTextDisabled)},i)))}function ow(e,t,n,a){return t||a?e.filter((e=>!(t&&!(e.chain in n)||a&&e.chain!==a))):e}function rw(t,n){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.I04,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=t.includes("."),[i="0",s]=r?t.split("."):[t],l=o?i.replace(/\d(?=(\d{3})+($|\.))/g,`$&${e.MS3}`):i,c=r?`.${(s||"").substring(0,a)}`:"",d=n?`&thinsp;${n}`:"";return`${l}${c||d?`<span class="Q68NbVRf">${c}${d}</span>`:""}`}const iw=function(e,t){const n=me(!1),a=me(document.createElement("div"));return{updateFontScale:o=>{const r=e.current;(0,qp.bo)((()=>{if(null==r||!r.offsetParent)return;let{clientWidth:e}=t?r.parentElement:r;if(t){const{paddingLeft:t,paddingRight:n}=getComputedStyle(r);e-=parseFloat(t)+parseFloat(n)}a.current.className=ps(r.className,"measure-hidden"),a.current.style.width=`${e}px`,a.current.innerHTML=o,document.body.appendChild(a.current);let i=1;for(;i>.25&&(a.current.style.setProperty("--base-font-size",i.toString()),!(a.current.scrollWidth<=e));)i-=.05;n.current=i<1,document.body.removeChild(a.current),a.current.className="",r.style.setProperty("--base-font-size",i.toString())}))},isFontChangedRef:n}};function sw(e){var t;return e&&null!==(t=e.trim().replace(",",".").replace(/[^\d.]/g,"").replace(/^0+(?=([1-9]|0\.))/,"").replace(/^0+$/,"0"))&&void 0!==t?t:""}const lw=pe((function(t){let{id:n,labelText:a,hasError:o,isLoading:r=!1,suffix:i,value:s,children:l,className:c,inputClassName:d,labelClassName:u,valueClassName:m,cornerClassName:p,onChange:f,onBlur:h,onFocus:g,onPressEnter:v,onInputClick:w,decimals:y=e.I04,disabled:b=!1,isStatic:E=!1,size:k="large"}=t;const C=me(null),N=vs(),[S,A,T]=Rd(!1),{updateFontScale:I,isFontChangedRef:B}=iw(C),_=me(""),x=$r((e=>{const t=C.current,n=rw(e,i,y);if(n!==t.innerHTML){const e=document.activeElement===t?function(e,t){var n;const a=window.getSelection();if(!a||0===a.rangeCount)return;const o=a.getRangeAt(0);o.setStart(e,0);const r=o.toString().match(new RegExp(`(\\d+(?:[.,]\\d{0,${t}})?)`)),i=(null==r||null===(n=r[0])||void 0===n?void 0:n.length)||o.toString().length||0;return function(){try{const{node:t,position:n}=function(e,t){const n=NodeFilter.SHOW_TEXT;return{node:document.createTreeWalker(e,n,(e=>t>e.textContent.length?(t-=e.textContent.length,NodeFilter.FILTER_REJECT):NodeFilter.FILTER_ACCEPT)).nextNode()||e,position:t}}(e,i);a.removeAllRanges();const o=new Range;o.setStart(t,n),o.setEnd(t,n),a.addRange(o)}catch(e){}}}(t,y):void 0;t.innerHTML=n,null==e||e()}(e.length>5||B.current)&&I(n)}));ce((()=>{const e=sw(s);e&&_.current.startsWith(e)||(x(e),_.current=e)}),[y,_,s]);const L=$r((()=>{b||(A(),null==g||g())})),D=$r((()=>{b||(T(),null==h||h())})),O=ps(Mm,E&&"_30fntf1",o&&Pm,S&&"xJ8YLUEc",d),P=ps(Dm,Om,"large"===k&&Rm,m,b&&Fm,r&&"oLkTqd0H","rounded-font"),F=ps(Um,o&&Pm,u),R=ps(p,S&&"hcCyNq6V",o&&"tRQeFT_t");return he.createElement("div",{className:ps(Lm,c)},Boolean(a)&&he.createElement("label",{className:F,htmlFor:n,id:`${n}Label`},a),he.createElement("div",{className:O},he.createElement("div",{ref:C,contentEditable:!b&&!r,id:n,role:"textbox","aria-required":!0,"aria-placeholder":N("Amount value"),"aria-labelledby":a?`${n}Label`:void 0,tabIndex:0,inputMode:"decimal",className:P,onKeyDown:e=>{"Enter"===e.key&&(null==v||v(e))},onChange:function(e){var t;const n=sw(null!==(t=e.currentTarget.textContent)&&void 0!==t?t:void 0);var a;x(n),n!==_.current&&(_.current=n,f&&(a=n,!Number.isNaN(Number(a)))&&f(n))},onFocus:L,onBlur:D,onClick:w}),l),p&&he.createElement("div",{className:R}))})),cw={modalDialog:"pOo4Z_aH",iosModalDialog:"q6jp1iyp",contentWrapper:"jvZQQwjc",content:"SRNIOpBE",contentTitle:"GKe6CMiw",contentTitleQr:"FleNuH6I",contentTitleLedger:"uEJfLLFI",contentTitleLedgerStatic:"zolk8bhu",tabsInModal:"kxmoYeWl",receiveHeader:"k3MxFquM",receiveHeaderNoTabs:"RJOW3R8W",contentStatic:"CDl3KL71",tabs:"Bq7mtmdH",tab:"YpO46ybD",qrCode:"Bol24ap4",qrCodeStatic:"VkwtgLpL",qrCodeHidden:"yC4eGg0t",labelForInvoice:"ykqIpMy7",addressWrapper:"aUXplGt1",copyButtonStatic:"EbsE8cY6",tokenButton:"vgInBvx7",invoiceComment:"U6Z9qzVb",dottedLink:"xzGjTX1X",actionButtons:"QxrwhhFf",actionButton:"ARg65twE"};var dw=function(e){return e[e.Initial=0]="Initial",e[e.Selector=1]="Selector",e}(dw||{});const uw=pe($e((e=>{var t;const n=null===(t=Je(e,e.currentAccountId))||void 0===t||null===(t=t.addressByChain)||void 0===t?void 0:t.ton;return{isOpen:e.isInvoiceModalOpen,address:n}}))((function(t){var n;let{address:a,isOpen:o}=t;const{closeInvoiceModal:r}=He(),i=vs(),[s,l,c]=Rd(!1),[d,u]=ie(void 0),[m,p]=ie(""),[f,h]=ie(e.Tu9),g=null!==(n=null==f?void 0:f.decimals)&&void 0!==n?n:e.Tu9.decimals,v=d?(0,wt.UH)(d,g):0n,w=a?Iv(a,v,m,null==f?void 0:f.tokenAddress):"",y=$r((e=>{h(e)}));function b(t,n,a){switch(a){case dw.Initial:return he.createElement(he.Fragment,null,he.createElement(yf,{title:i("Deposit Link"),onClose:r}),he.createElement("div",{className:cw.content},he.createElement("div",{className:cw.contentTitle},dr(i("$receive_invoice_description"))),he.createElement(lw,{key:"amount",id:"amount",value:d,labelText:i("Amount"),onChange:u},he.createElement(Rv,{noChainIcon:!0,token:f,className:cw.tokenButton,onClick:l})),he.createElement(Wm,{value:m,label:i("Comment"),placeholder:i("Optional"),wrapperClassName:cw.invoiceComment,onInput:p}),he.createElement("p",{className:cw.labelForInvoice},i("Share this URL to receive %token%",{token:null==f?void 0:f.symbol})),he.createElement(bg,{text:w,addressUrl:e.UMQ?w:void 0,noExplorer:!0,withShareInMenu:e.UMQ,copyNotification:i("Invoice link was copied!"),className:cw.invoiceLinkField})));case dw.Selector:return he.createElement(nw,{isActive:t,shouldHideNotSupportedTokens:!0,selectedChain:"ton",onTokenSelect:y,onBack:c,onClose:r})}}return he.createElement(Yc,{isOpen:o,dialogClassName:cw.modalDialog,nativeBottomSheetKey:"invoice",onClose:r,onCloseAnimationEnd:c},he.createElement(gp,{name:fh(),className:ps(Vc.transition,"custom-scroll"),slideClassName:Vc.transitionSlide,activeKey:s?dw.Selector:dw.Initial,nextKey:s?dw.Initial:dw.Selector},b))}))),mw=new Map,pw={width:0,left:0,height:0,top:0};function fw(e,t,n,a,o){const[r,i]=ie("right"),[s,l]=ie("bottom"),[c,d]=ie(),[u,m]=ie(),[p,f]=ie(!1),[h,g]=ie(""),[v,w]=ie("opacity: 0;");return le((()=>{const r=t();if(!e||!r)return;let{x:s,y:c}=e;const u=s,p=c,h=a(),v=n(),{withPortal:y=!1}=(null==o?void 0:o())||{},b=h?parseInt(getComputedStyle(h).marginTop,10):void 0,{offsetWidth:E,offsetHeight:k}=h||{offsetWidth:0,offsetHeight:0},C=h?{width:E,height:k+b}:pw,N=v?v.getBoundingClientRect():pw;let S,A;s-C.width-N.left>0?(S="right",s-=3):(S="left",s=16),i(S),c+C.height<N.height+N.top?A="top":(A="bottom",c-C.height<N.top&&(c=N.top+N.height)),l(A);const T=r.getBoundingClientRect(),I=y?T.top:0,B=y?T.left:0,_=Math.min(s-T.left,N.width-C.width-16),x=("left"===S?y?Math.max(16,_):_:s-T.left)+B,L=c-T.top+I,D=N.height-12-(b||0);f(D<C.height),w(`max-height: ${D}px;`),g(`left: ${x}px; top: ${L}px`);const O=u+B-T.left-x,P=p+I-T.top-L-(b||0);d("left"===S?O:C.width+O),m("bottom"===A?C.height+P:P)}),[e,a,n,t,o]),{positionX:r,positionY:s,transformOriginX:c,transformOriginY:u,style:h,menuStyle:v,withScroll:p}}const hw="O4d43EtE",gw="QAOyOloL",vw="K0kRAFlY",ww=function(e){let{className:t,title:n,isActive:a,previousActiveTab:o,menuItems:r,onClick:i,clickArg:s,onMenuItemClick:l}=e;const c=me(null),d=me(null),[u,m]=ie(),p=Boolean(null==r?void 0:r.length),f=Boolean(u),h=$r((()=>d.current)),g=$r((()=>document.body)),v=$r((()=>document.querySelector("#portals .menu-bubble"))),w=$r((()=>({withPortal:!0}))),y=$r((()=>m(void 0))),{positionY:b,transformOriginX:E,transformOriginY:C,style:N}=fw(u,h,g,v,w),S=$r((()=>{if(!a||p)if(a)if(f)y();else{const{right:e,y:t,height:n}=d.current.getBoundingClientRect();m({x:e,y:t+n})}else i(s)}));return ce((()=>{a&&void 0===o&&c.current&&Fc(c.current,hw)}),[a,o]),le((()=>{if(!a||void 0===o)return;const e=c.current,t=e.parentElement.children[o];if(!t)return void(a&&!e.classList.contains(hw)&&(0,k.RK)((()=>{Fc(e,hw)})));const n=e.querySelector(`.${gw}`),r=t.querySelector(`.${gw}`),i=r.parentElement.offsetLeft-n.parentElement.offsetLeft,s=r.clientWidth/n.clientWidth;(0,k.RK)((()=>{Rc(r,vw),Rc(n,vw),Uc(n,{transform:`translate3d(${i}px, 0, 0) scale3d(${s}, 1, 1)`}),(0,k.gm)((()=>(lp(n),()=>{Fc(n,vw),Uc(n,{transform:"none"}),Rc(t,hw),Fc(e,hw)})))}))}),[a,o]),he.createElement("div",{className:ps("D6as8ltx",t,p&&"MiCetFPJ"),onClick:S,ref:c},he.createElement("span",{className:"vwr4su2y",ref:d},n,p&&a&&he.createElement("i",{className:"icon-caret-down","aria-hidden":!0}),he.createElement("i",{className:gw,"aria-hidden":!0})),p&&he.createElement(Dh,{isOpen:f,items:r,withPortal:!0,buttonClassName:"tUY9MzOP",menuPositionHorizontal:"right",menuPosition:b,menuStyle:N,transformOriginX:E,transformOriginY:C,onSelect:l,onClose:y}))},yw=t.pz?450:t.Ni?400:300,bw=pe((function(e){let{tabs:t,activeTab:n,big:a,className:o,withBorder:r,onSwitchTab:i}=e;const s=me(null),l=Bl(n),c=ps("Jya4TQTw",a&&"lM5X6ama",r&&"edZdDyi5","no-scrollbar",o);return ev({containerRef:s,shouldPreventDefault:!0}),le((()=>{const e=s.current,{scrollWidth:t,offsetWidth:a,scrollLeft:o}=e;if(t<=a)return;const r=e.childNodes[n];if(!r)return;const{offsetLeft:i,offsetWidth:l}=r,c=i-a/2+l/2;Math.abs(c-o)<16||function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300;const a="rtl"===e.getAttribute("dir"),{scrollLeft:o,offsetWidth:r,scrollWidth:i,dataset:{scrollId:s}}=e;let l=t-o;if(l<0){const e=-o*(a?-1:1);l=Math.max(l,e)}else if(l>0){const e=i-(o+r);l=Math.min(l,e)}if(0===l)return Promise.resolve();s&&mw.has(s)&&mw.get(s)();const c=o+l;new Promise((t=>{(0,k.RK)((()=>{if(0===n)return e.scrollLeft=c,void t();let a=!1;const o=Math.random().toString();e.dataset.scrollId=o,mw.set(o,(()=>{a=!0})),e.style.scrollSnapType="none";const r=Date.now();(0,d.i0)((()=>{if(a)return!1;const i=Math.min((Date.now()-r)/n,1),s=l*(1-function(e){return 1-(1-e)**3.5}(i));return e.scrollLeft=Math.round(c-s),i>=1&&(e.style.scrollSnapType="",delete e.dataset.scrollId,mw.delete(o),t()),i<1}),k.RK)}))}))}(e,c,yw)}),[n]),he.createElement("div",{ref:s,className:c},t.map(((e,t)=>he.createElement(ww,{key:e.title,title:e.title,isActive:t===n,previousActiveTab:l,className:null==e?void 0:e.className,menuItems:null==e?void 0:e.menuItems,onMenuItemClick:null==e?void 0:e.onMenuItemClick,onClick:i,clickArg:e.id}))))})),Ew="eWsAO42f",kw="E2TFEkdV",Cw="GUHQ1MCW",Nw="wOo6dgfN",Sw="Zc6rtbsT",Aw="onRwV8fb",Tw=pe($e((e=>{const{isSwapDisabled:t,isOnRampDisabled:n}=e.restrictions;return{isTestnet:e.settings.isTestnet,isSwapDisabled:t,isOnRampDisabled:n}}))((function(t){let{className:n,isStatic:a,isTestnet:o,isLedger:r,isSwapDisabled:i,isOnRampDisabled:s,onClose:l}=t;const{startSwap:c,openOnRampWidgetModal:d,openInvoiceModal:u,closeReceiveModal:m}=He(),p=vs(),f=!o&&!r&&!i,h=!o&&!s,g=$r((()=>{d({chain:"ton"}),null==l||l()})),v=$r((()=>{c({tokenInSlug:e.Czf,tokenOutSlug:e.Tu9.slug,amountIn:"100"}),null==l||l()})),w=$r((()=>{m(),u(),null==l||l()})),y=ps(Ew,a&&kw,n);return he.createElement("div",{className:y},h&&he.createElement("div",{className:Cw,onClick:g},he.createElement("i",{className:ps(Sw,"icon-card"),"aria-hidden":!0}),p("Buy with Card"),he.createElement("i",{className:ps(Aw,"icon-chevron-right"),"aria-hidden":!0})),f&&he.createElement("div",{className:Cw,onClick:v},he.createElement("i",{className:ps(Sw,"icon-crypto"),"aria-hidden":!0}),p("Buy with Crypto"),he.createElement("i",{className:ps(Aw,"icon-chevron-right"),"aria-hidden":!0})),he.createElement("div",{className:Cw,onClick:w},he.createElement("i",{className:ps(Sw,"icon-link"),"aria-hidden":!0}),p("Create Deposit Link"),he.createElement("i",{className:ps(Aw,"icon-chevron-right"),"aria-hidden":!0})))})));let Iw;function Bw(t){let{address:n,chain:a,isActive:o,hiddenClassName:r,hideLogo:s,withFormatTransferUrl:l}=t;const[c,d]=ie(!!Iw),u=e.TI6?"./coreWallet/logo.svg":"./logo.svg",m=me(null);return le((()=>{c||i.e(283).then(i.t.bind(i,97283,23)).then((e=>{let{default:t}=e;Iw=new t({width:600,height:600,image:a?Ov(a):u,margin:0,type:"canvas",dotsOptions:{type:"rounded"},cornersSquareOptions:{type:"extra-rounded"},imageOptions:{imageSize:.4,margin:8,crossOrigin:"anonymous"},qrOptions:{errorCorrectionLevel:"M"},data:Iv("")}),d(!0)}))}),[a,c,u]),ce((()=>{var e;o&&c&&(m.current&&r&&Rc(m.current,r),m.current&&(null===(e=Iw)||void 0===e||e.append(m.current),Iw._options.image=s?void 0:a?Ov(a):u))}),[o,c,r,s,a,u]),le((()=>{n&&o&&Iw&&c&&Iw.update({data:l?Iv(n):n})}),[n,o,c,l]),{qrCodeRef:m,isInitialized:c}}const _w=pe((function(e){let{isActive:t,isStatic:n,isLedger:a,address:o,onClose:r}=e;const{verifyHardwareAddress:i}=He(),s=vs(),{qrCodeRef:l,isInitialized:c}=Bw({address:o,chain:"ton",isActive:t,hiddenClassName:cw.qrCodeHidden,withFormatTransferUrl:!0}),d=ps(cw.qrCode,n&&cw.qrCodeStatic,!c&&cw.qrCodeHidden);return he.createElement("div",null,he.createElement("div",{className:ps(cw.contentTitle,cw.contentTitleQr)},dr(s("$receive_ton_description"))),he.createElement("div",{className:d,ref:l}),he.createElement(bg,{chain:"ton",address:o,className:n?cw.copyButtonStatic:cw.addressWrapper,copyNotification:s("Your address was copied!"),noSavedAddress:!0,noDimming:!0}),a&&he.createElement("div",{className:ps(cw.contentTitle,cw.contentTitleLedger,n&&cw.contentTitleLedgerStatic)},dr(s("$ledger_verify_address"))," ",he.createElement("a",{href:"#",onClick:e=>{e.preventDefault(),e.stopPropagation(),i()},className:cw.dottedLink},s("Verify now"))),!n&&he.createElement(Tw,{isLedger:a,onClose:r}))})),xw=pe($e((e=>{const{isSwapDisabled:t,isOnRampDisabled:n,countryCode:a}=e.restrictions;return{isTestnet:e.settings.isTestnet,isSwapDisabled:t,isOnRampDisabled:n,countryCode:a}}))((function(t){let{className:n,isStatic:a,isTestnet:o,isLedger:r,isSwapDisabled:i,isOnRampDisabled:s,countryCode:l,onClose:c}=t;const{startSwap:d,openOnRampWidgetModal:u}=He(),m=vs(),p="RU"!==l,f=!o&&!r&&!i,h=!o&&!s&&(p||a),g=Boolean(f||h||a),v=$r((()=>{u({chain:"tron"}),null==c||c()})),w=$r((()=>{d({tokenInSlug:e.iX4,tokenOutSlug:e.X7T.slug,amountIn:"10"}),null==c||c()})),y=ps(Ew,a&&kw,n);if(g)return he.createElement("div",{className:y},h&&he.createElement("div",{className:ps(Cw,!p&&Nw),onClick:p?v:void 0},he.createElement("i",{className:ps(Sw,"icon-card"),"aria-hidden":!0}),m("Buy with Card"),he.createElement("i",{className:ps(Aw,"icon-chevron-right"),"aria-hidden":!0})),f&&he.createElement("div",{className:Cw,onClick:w},he.createElement("i",{className:ps(Sw,"icon-crypto"),"aria-hidden":!0}),m("Buy with Crypto"),he.createElement("i",{className:ps(Aw,"icon-chevron-right"),"aria-hidden":!0})),a&&he.createElement("div",{className:ps(Cw,Nw)},he.createElement("i",{className:ps(Sw,"icon-link"),"aria-hidden":!0}),m("Create Deposit Link"),he.createElement("i",{className:ps(Aw,"icon-chevron-right"),"aria-hidden":!0})))}))),Lw=pe((function(e){let{isActive:t,isStatic:n,address:a,onClose:o}=e;const r=vs(),{qrCodeRef:i,isInitialized:s}=Bw({address:a,chain:"tron",isActive:t,hiddenClassName:cw.qrCodeHidden,withFormatTransferUrl:!1}),l=ps(cw.qrCode,n&&cw.qrCodeStatic,!s&&cw.qrCodeHidden);return he.createElement("div",null,he.createElement("div",{className:ps(cw.contentTitle,cw.contentTitleQr)},dr(r("$receive_tron_description"))),he.createElement("div",{className:l,ref:i}),he.createElement(bg,{chain:"tron",address:a,className:n?cw.copyButtonStatic:cw.addressWrapper,copyNotification:r("Your address was copied!"),noSavedAddress:!0,noDimming:!0}),!n&&he.createElement(xw,{onClose:o}))})),Dw=pe($e((e=>{const t=Je(e,e.currentAccountId);return{addressByChain:null==t?void 0:t.addressByChain,isLedger:Boolean(null==t?void 0:t.ledger)}}),((e,t,n)=>n(e.currentAccountId)))((function(e){let{isOpen:t,addressByChain:n,isStatic:a,isLedger:o,onClose:r}=e;const i=vs(),{isPortrait:s}=po(),l=de((()=>{const e=[];return null!=n&&n.ton&&e.push({id:0,title:"TON",className:cw.tab}),null!=n&&n.tron&&e.push({id:1,title:"TRON",className:cw.tab}),e}),[null==n?void 0:n.ton,null==n?void 0:n.tron]),[c,d]=ie(l.length?l[0].id:0);function u(e,i,s){switch(s){case 0:return he.createElement(_w,{isActive:t&&e,isStatic:a,isLedger:o,address:n.ton,onClose:r});case 1:return he.createElement(Lw,{isActive:t&&e,isStatic:a,address:n.tron,onClose:r})}}var m;if(l.length)return he.createElement(he.Fragment,null,a&&(1===(null===(m=l[c])||void 0===m?void 0:m.id)?he.createElement(xw,{isStatic:!0}):he.createElement(Tw,{isStatic:!0,isLedger:o})),l.length>1&&he.createElement(bw,{withBorder:!0,tabs:l,activeTab:c,className:ps(cw.tabs,!a&&cw.tabsInModal),onSwitchTab:d}),he.createElement(gp,{key:`content_${i.code}`,activeKey:c,name:s?"slide":"slideFade",className:cw.contentWrapper,slideClassName:ps(cw.content,a&&cw.contentStatic,"custom-scroll"),shouldRestoreHeight:a},u))}))),Ow=pe($e((e=>{const{isSwapDisabled:t,isOnRampDisabled:n}=e.restrictions,a=Xe(e);return{isOpen:e.isReceiveModalOpen,isTestnet:e.settings.isTestnet,isSwapDisabled:t,isOnRampDisabled:n,isLedger:Boolean(null==a?void 0:a.ledger),isMultichainAccount:ut(e,e.currentAccountId)}}))((function(e){let{isOpen:n,isTestnet:a,isLedger:o,isSwapDisabled:r,isOnRampDisabled:i,isMultichainAccount:s}=e;const{closeReceiveModal:l}=He(),c=vs(),{isLandscape:d}=po(),u=c((a||o||r)&&(a||i)?"Add":"Add / Buy");return le((()=>{n&&d&&l()}),[d,n]),he.createElement(Yc,{isOpen:n,dialogClassName:t.ZH?cw.iosModalDialog:cw.modalDialog,nativeBottomSheetKey:"receive",onClose:l},he.createElement(yf,{title:u,className:ps(cw.receiveHeader,!s&&cw.receiveHeaderNoTabs),onClose:l}),he.createElement(Dw,{isOpen:n,onClose:l}))}))),Pw={root:"o0ZmVyIN",purple:"DJCb7ytz",tokenIcon:"O2XO33Bj",chainIcon:"UKA4ZfVj",green:"IHTEYaZx",nftIcon:"kRGDvyHS",image:"Q3m3aAJ1",text:"LrHNEZly",bold:"GQC2YXcS"},Fw=pe((function(e){let{tokenIn:t,imageUrl:n,text:a,withChainIcon:o,tokenOut:r,secondText:i,color:s,className:l}=e;const c=vs(),d=ps(Pw.root,s&&Pw[s],l);return he.createElement("div",{className:d},t&&!n&&he.createElement(Fv,{token:t,withChainIcon:o,size:"small",className:Pw.tokenIcon}),n&&he.createElement("div",{className:Pw.nftIcon},he.createElement("img",{src:n,alt:"",className:Pw.image}),o&&(null==t?void 0:t.chain)&&he.createElement("img",{src:Ov(t.chain),alt:"",className:Pw.chainIcon,draggable:!1})),he.createElement("span",{className:Pw.text},i?c("%amount% to %address%",{amount:he.createElement("span",{className:Pw.bold},a),address:he.createElement("span",{className:Pw.bold},i)}):he.createElement("span",{className:Pw.bold},a)),r&&he.createElement(Fv,{token:r,withChainIcon:o,size:"small",className:Pw.tokenIcon}))})),Rw={sticker:"BQ2dFF1C",amount:"ZK1jiZZ7",amount_purple:"A4q4bGl9",amountPurple:"A4q4bGl9",amount_green:"juLGV08g",amountGreen:"juLGV08g",amountSymbol:"pIw09HQw",amountFraction:"AxDVO85U",buttons:"VBRINuzy",buttonsAfterNft:"kg0TjtvC",button:"ONW_pS7t"},Mw=pe((function(t){let{playAnimation:n,amount:a=0n,tokenSymbol:o=e.Tu9.symbol,decimals:r=e.Tu9.decimals,noSign:i,color:s,firstButtonText:l,secondButtonText:c,onFirstButtonClick:d,onSecondButtonClick:u}=t;const m=(0,wt.nI)(a,r),[p,f]=vr(m,"",i,r).split(".");return he.createElement(he.Fragment,null,he.createElement(xm,{play:n,noLoop:!1,nonInteractive:!0,className:Rw.sticker,tgsUrl:Ju.thumbUp,previewUrl:Ju.thumbUpPreview}),he.createElement("div",{className:ps(Rw.amount,s&&Rw[`amount_${s}`],"rounded-font")},p.trim().replace(" ","").replace("-","−"),f&&he.createElement("span",{className:Rw.amountFraction},".",f.trim()),he.createElement("span",{className:Rw.amountSymbol},o)),function(){if(l||c)return he.createElement("div",{className:Rw.buttons},l&&he.createElement(ec,{className:Rw.button,onClick:d},l),c&&he.createElement(ec,{className:Rw.button,onClick:u},c))}())}));function Uw(e,t){const n=me(0);let a=!1;return de((()=>{n.current+=1,a=!0}),e),t&&a&&(n.current-=1),n.current}const Hw=pe((function(e){let{maxAmount:t,token:n,isLoading:a,isSensitiveDataHidden:o,isAllMode:r,onAmountClick:i}=e;const s=vs(),l=a?s("Loading..."):n&&void 0!==t?o?`*** ${n.symbol}`:r?wr(t,n.symbol,n.decimals):gr((0,wt.nI)(t,n.decimals),n.symbol):"",c=Uw([!l,null==n?void 0:n.symbol,a,o]);return he.createElement(gp,{name:"fade",activeKey:c,className:"cFsfR8fg"},l&&he.createElement("span",{className:"LQwjgmr0"},s(r?"$all_balance":"$max_balance",{balance:he.createElement("div",{role:"button",tabIndex:0,onClick:()=>i(),className:"uq1QRToN"},l)})))})),Ww=(0,Ke.A)((e=>0===e?/^(\d+)/:new RegExp(`^(\\d+)([.,])?(\\d{1,${e}})?`))),$w=pe((function(t){let{id:n,labelText:a,value:o,error:r,suffix:i,zeroValue:s,decimals:l=e.I04,className:c,isSensitiveData:d,isSensitiveDataHidden:u,sensitiveDataMaskSkin:m,inputClassName:p,labelClassName:f,valueClassName:h,children:g}=t;const v=me(null),w=me(""),{updateFontScale:y,isFontChangedRef:b}=iw(v,!0),E=$r((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=v.current,a=Ww(l),o=e.match(a);if(null===o||o.length<4||""===o[0])return void(t||""===e?(w.current="",n.innerText=""):E(w.current,!0));const r=(null==o?void 0:o[0])||"";w.current=e;const s=rw(e,i,l,!0);n.innerHTML=s,(r.length>5||b.current)&&y(s)}));ce((()=>{o?E(o):s&&(v.current.innerHTML=s)}),[l,E,o,s]);const k=ps(Mm,p),C=ps(Dm,Om,Rm,Fm,r&&Pm,"rounded-font"),N=ps(Um,f);return he.createElement("div",{className:ps(Lm,c)},r&&he.createElement("label",{className:ps(Um,Hm,Pm),htmlFor:n},r),a&&he.createElement("label",{className:N,htmlFor:n,id:`${n}Label`},a),he.createElement("div",{className:k},d?he.createElement(Xv,{isActive:u,cols:8,rows:3,cellSize:16,maskSkin:m,className:C,contentClassName:h,maskClassName:"dYsHTHj3"},he.createElement("div",{ref:v,id:n})):he.createElement("div",{ref:v,id:n,className:ps(C,h)}),g))})),Vw={modalDialog:"oJIiPolp",welcome:"TiFPq3C6",welcome_static:"Rv6oYnJ8",welcomeStatic:"Rv6oYnJ8",welcomeInformation:"Xg9cqUJJ",welcomeInformation_static:"o_nJd5KS",welcomeInformationStatic:"o_nJd5KS",stakingApy:"HKeaaGYy",textButton:"fole9hpS",sticker:"bPhlS4F_",sticker_static:"uaQ89610",stickerStatic:"uaQ89610",stakingSafeDialog:"zNAkvVGS",ton:"dRmsmePr",tonIcon:"nWRXjyrv",tonName:"M_R_H7ar",amountBottomWrapper:"LEdLaJfa",amountBottomWrapper_static:"u8l2R2oR",amountBottomWrapperStatic:"u8l2R2oR",amountBottom:"MgCN1q08",amountBottomRight:"VuUMtt0r",amountBottomRight_error:"XziKGimY",amountBottomRightError:"XziKGimY",amountBottomRight_slide:"D7jfmDqZ",amountBottomRightSlide:"D7jfmDqZ",animating:"idaRXWqT",from:"w5MTAdBs",to:"OH6m_v4W",balanceError:"XV91oi_1",minAmountValue:"N25bZnkf",amountInCurrency:"QVMu65Mz",historyTotalValue:"ps_1E9fe",stakingBalance:"ZzjyhAIi",amountInput:"CVWcZDbx",inputStatic:"ckTzdegT",inputRichStatic:"tsi7Leof",balanceResultWrapper:"vtSKtwOl",balanceResultInput:"oiRjkkEM",balanceResultLabel:"h10QGypW",balanceStakedLabel:"DlWk_wtQ",balanceStakedResult:"Zvcxz1_r",balanceResult:"ANb8RM_U",stakingInfoModal:"WPEajhsz",stakingInfoModal_withHistory:"RmyjusO4",stakingInfoModalWithHistory:"RmyjusO4",stakingInfo:"jqjfDFur",stakingInfo_modal:"WPEajhsz",stakingInfoNoHistory:"JhvH7wqN",stakingInfoModalContent:"adkWFcPE",history:"vrPulHrK",historyList:"Y0yHbYn0",withBackground:"seOnXIX2",stakingInfoLoading:"FpmrUch0",stakingInfoLoadingAnimation:"HhFmzxoC",stakingInfoClose:"hUegI624",stakingInfoButtons:"p0aoyqxp",stakingInfoButtons_withMargin:"pa9mJcSA",stakingInfoButtonsWithMargin:"pa9mJcSA",stakingInfoButton:"ANY2XY_3",insufficientBalance:"rGOjgmuu",unstakeTime:"AQ56tknq",unstakeTime_purple:"LqS98rhM",unstakeTimePurple:"LqS98rhM",unstakeTimeIcon:"tyhEzoP5",history_static:"s2VvvIeZ",historyStatic:"s2VvvIeZ",historyTotal:"saWAKbAc",historyTitle:"Y0cCgJMS",historyList_static:"axMdO17j",historyListStatic:"axMdO17j",transactionBanner:"qrdHJFDS",unstakeInfo:"m1LUZiWL",tokenDropdown:"A1GMBD3_",tokenDropdownItem:"sV49vdb8",tokenDropdownMenu:"SMF4FqKo"},zw=new Set([cn.StakeInitial,cn.None]),qw=(0,c.nF)((e=>e()),1500,!0),Kw=pe($e((e=>{var t;const n=e.currentAccountId,a=Ze(e),o=kt(e),r=e.tokenInfo.bySlug,{state:i,isLoading:s,fee:l,error:c}=e.currentStaking,d=n?$n(e,n):void 0,u=Vn(e,e.currentAccountId);return{isLoading:s&&zw.has(i),tokens:o,tokenBySlug:r,apiError:c,fee:l,stakingState:u,states:d,shouldUseNominators:null==a||null===(t=a.staking)||void 0===t?void 0:t.shouldUseNominators,isSensitiveDataHidden:e.settings.isSensitiveDataHidden}}),((e,t,n)=>n(e.currentAccountId)))((function(n){var a;let{isActive:o,isStatic:r,isLoading:i,apiError:s,tokens:l,tokenBySlug:c,fee:d,stakingState:u,states:m,shouldUseNominators:p,isSensitiveDataHidden:f}=n;const{submitStakingInitial:h,fetchStakingFee:g,cancelStaking:v,changeCurrentStaking:w}=He(),y=vs(),[b,E,k]=Rd(),[C,N]=ie(),[S,A]=ie(!1),[T,I]=ie(!1),[B,_]=ie(!1),[x,L]=ie(!1),[D,O]=ie(!1),{type:P,tokenSlug:F,balance:R=0n}=null!=u?u:{},M=de((()=>{if(!F||!l||!c)return;let e=l.find((e=>{let{slug:t}=e;return t===F}));return!e&&F in c&&(e=Nn(c[F])),e}),[F,l,c]),{amount:U=0n,symbol:H,decimals:W=e.Tu9.decimals}=null!=M?M:{};let{annualYield:$=0}=null!=u?u:{};"jetton"===(null==u?void 0:u.type)&&C&&($=function(e){let{tvl:t,dailyReward:n,decimals:a}=e;if(!t)return 0;const o=(0,wt.CF)(n,a).div((0,wt.CF)(t,a)).mul(365).mul(100).toFixed(2);return Number(o)}({tvl:u.tvl+C,dailyReward:u.dailyReward,decimals:W}));const V=bn(null==M?void 0:M.slug),z=de((()=>{if(!l||!M)return;if(V)return M;const e=kn(M.chain).slug;return l.find((t=>{let{slug:n}=t;return n===e}))}),[l,M,V]),q=null!==(a=null==z?void 0:z.amount)&&void 0!==a?a:0n,K=Boolean(T||s),j="nominators"===P?e.pLj:e.UAn,{gas:Y,real:G}=ds(null==u?void 0:u.type).stake,Q=V&&C?C+Y:Y,X=2n*Y,J=V&&U>=X,Z=(()=>{let e=U;return V&&e&&(e-=J?X:Y),(0,Dn._O)(0n,e)})(),ee=$r((function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]||(O(!1),A(!1),I(!1),L(!1),_(!1)),void 0!==e?Number.isNaN(e)||e<0?A(!0):(e<j?L(!0):!Z||e>U?I(!0):(q<Y||V&&Q>U)&&_(!0),N(e)):N(void 0)})),te=de((()=>c&&m?Ps({tokenBySlug:c,states:m,shouldUseNominators:p}):[]),[c,m,p]);le((()=>{ee(D&&Z?Z:C,!0)}),[C,d,D,ee,Z]),le((()=>{C&&qw((()=>{g({amount:C})}))}),[C,g]),_l((()=>{if(t.bA&&b){const e=u&&"jetton"===u.type?[`${y("$safe_staking_description_jetton1").replace("%jvault_link%","JVault")}`,`${y("$safe_staking_description_jetton2")}`]:[`1. ${y("$safe_staking_description1")}`,`2. ${y("$safe_staking_description2")}`,`3. ${y("$safe_staking_description3")}`];zg.alert({title:y("Why is staking safe?"),message:e.join("\n\n").replace(/\*\*/g,"")}).then(k)}}),[b,y,u]);const ne=$r((()=>{Z&&(tr(),O(!0))})),ae=C&&Z&&!S&&!x&&!B&&!T,oe=$r((e=>{fs(e),ae&&(tr(),h({amount:C}))})),re=$r((e=>{const t=e?(0,wt.UH)(e,W):void 0;ee(t)})),se=$r((e=>{v(),w({stakingId:e,shouldReopenModal:!r})}));return he.createElement("form",{className:r?void 0:Vc.transitionContent,onSubmit:oe},he.createElement("div",{className:ps(Vw.welcome,r&&Vw.welcome_static)},he.createElement(xm,{size:r?e.lWW:e.jzp,play:o,noLoop:!1,nonInteractive:!0,className:ps(Vw.sticker,r&&Vw.sticker_static),tgsUrl:Ju.wait,previewUrl:Ju.waitPreview}),he.createElement("div",{className:ps(Vw.welcomeInformation,r&&Vw.welcomeInformation_static)},he.createElement("div",null,y("Earn from your tokens while holding them",{symbol:H})),he.createElement("div",{className:Vw.stakingApy},y("Est. %annual_yield%",{annual_yield:`${$}%`})),he.createElement(ec,{isText:!0,className:Vw.textButton,onClick:E},y("Why this is safe")))),he.createElement(Hw,{maxAmount:Z,token:M,isLoading:!M,isSensitiveDataHidden:f,onAmountClick:ne}),he.createElement(lw,{key:"staking_amount",id:"staking_amount",hasError:S||T,value:void 0===C?void 0:(0,wt.nI)(C),labelText:y("Amount"),onChange:re,onPressEnter:oe,decimals:W,inputClassName:r?Vw.inputRichStatic:void 0,className:Vw.amountInput},he.createElement(Mh,{items:te,selectedValue:null==u?void 0:u.id,className:Vw.tokenDropdown,itemClassName:Vw.tokenDropdownItem,onChange:se})),he.createElement("div",{className:ps(Vw.amountBottomWrapper,r&&Vw.amountBottomWrapper_static)},he.createElement("div",{className:Vw.amountBottom},function(){const e=T?y("Insufficient balance"):B?y("$insufficient_fee",{fee:gr((0,wt.nI)(Y),null!==(t=null==z?void 0:z.symbol)&&void 0!==t?t:"")}):x?y("$min_value",{value:he.createElement("span",{className:Vw.minAmountValue},gr((0,wt.nI)(j),null!=H?H:""))}):s?y(s):void 0;var t;const n=T?0:B?1:x?2:s?3:R||K?5:4;let a=" ";return a=e?he.createElement("span",{className:Vw.balanceError},e):M?y("$fee_value",{fee:he.createElement(Ag,{terms:{native:G},precision:"approximate",token:M})}):"",he.createElement(gp,{className:ps(Vw.amountBottomRight,S&&Vw.amountBottomRight_error),slideClassName:Vw.amountBottomRight_slide,name:"fade",activeKey:n},a)}())),function(){const t=C?(0,wt.CF)(C).mul($/100+1).round(e.Vxu).toString():"0";return he.createElement($w,{labelText:y("Est. balance in a year"),zeroValue:"...",value:t,decimals:W,className:Vw.balanceResultWrapper,inputClassName:ps(Vw.balanceResultInput,r&&Vw.inputRichStatic),labelClassName:Vw.balanceResultLabel,valueClassName:Vw.balanceResult})}(),he.createElement("div",{className:Vc.buttons},he.createElement(ec,{isPrimary:!0,isSubmit:!0,isDisabled:!ae,isLoading:i},y("$stake_asset",{symbol:null==M?void 0:M.symbol}))),function(){if(!t.bA)return he.createElement(Yc,{isCompact:!0,isOpen:b,title:y("Why is staking safe?"),onClose:k,dialogClassName:Vw.stakingSafeDialog},u&&"jetton"===u.type?he.createElement(he.Fragment,null,he.createElement("p",{className:Vc.text},dr(y("$safe_staking_description_jetton1",{jvault_link:he.createElement("a",{href:e.dCY,target:"_blank",rel:"noreferrer"},he.createElement("b",null,"JVault"))}))),he.createElement("p",{className:Vc.text},dr(y("$safe_staking_description_jetton2")))):he.createElement(he.Fragment,null,he.createElement("p",{className:Vc.text},dr(y("$safe_staking_description1"))),he.createElement("p",{className:Vc.text},dr(y("$safe_staking_description2"))),he.createElement("p",{className:Vc.text},dr(y("$safe_staking_description3")))),he.createElement("div",{className:Vc.buttons},he.createElement(ec,{onClick:k},y("Close"))))}())}))),jw=new Set([cn.StakeInitial,cn.StakePassword,cn.StakeConnectHardware,cn.StakeConfirmHardware,cn.StakeComplete]),Yw=pe($e((e=>{const t=e.currentAccountId,n=ut(e,t),a=Vn(e,t),o=e.tokenInfo.bySlug,{hardwareState:r,isLedgerConnected:i,isTonAppConnected:s}=e.hardware;return{...e.currentStaking,stakingState:a,tokenBySlug:o,hardwareState:r,isLedgerConnected:i,isTonAppConnected:s,isMultichainAccount:n}}))((function(t){let{state:n,stakingState:a,isLoading:o,amount:r,error:i,tokenBySlug:s,hardwareState:l,isLedgerConnected:c,isTonAppConnected:d,isMultichainAccount:u}=t;const{startStaking:m,setStakingScreen:p,cancelStaking:f,clearStakingError:h,submitStakingPassword:g,submitStakingHardware:v,openStakingInfo:w}=He(),{tokenSlug:y}=null!=a?a:{},b=y&&s?s[y]:void 0,E=vs(),k=jw.has(n),[C,N]=ie(r),{renderingKey:S,nextKey:A,updateNextKey:T}=hh(n,k),I=$r((()=>{n===cn.StakePassword&&(h(),p({state:cn.StakeInitial}))})),B=$r((()=>{N(r),v()})),_=$r((e=>{N(r),g({password:e})})),x=$r((()=>{f(),w()}));function L(t,n,a){switch(a){case cn.StakeInitial:return he.createElement(he.Fragment,null,he.createElement(yf,{title:E("$stake_asset",{symbol:null==b?void 0:b.symbol}),onClose:f}),he.createElement(Kw,{isActive:t}));case cn.StakePassword:return function(t){return he.createElement(he.Fragment,null,!Qo()&&he.createElement(yf,{title:E("Confirm Staking"),onClose:f}),he.createElement(sp,{isActive:t,isLoading:o,error:i,withCloseButton:e.UMQ,operationType:"staking",placeholder:"Confirm operation with your password",submitLabel:E("Confirm"),cancelLabel:E("Back"),onSubmit:_,onCancel:I,onUpdate:h},function(){if(b&&r)return he.createElement(Fw,{tokenIn:b,withChainIcon:u,color:"purple",text:gr((0,wt.nI)(r,b.decimals),b.symbol),className:Qo()?void 0:Vw.transactionBanner})}()))}(t);case cn.StakeConnectHardware:return he.createElement(Yh,{isActive:t,state:l,isLedgerConnected:c,isTonAppConnected:d,onConnected:B,onClose:f});case cn.StakeConfirmHardware:return he.createElement(Ah,{text:E("Please confirm operation on your Ledger"),error:i,onClose:f,onTryAgain:B});case cn.StakeComplete:return function(e){return he.createElement(he.Fragment,null,he.createElement(yf,{title:E("Coins have been staked!"),onClose:f}),he.createElement("div",{className:Vc.transitionContent},he.createElement(Mw,{color:"purple",playAnimation:e,amount:C,tokenSymbol:null==b?void 0:b.symbol,noSign:!0,firstButtonText:E("View"),secondButtonText:E("Stake More"),onFirstButtonClick:x,onSecondButtonClick:m}),he.createElement("div",{className:Vc.buttons},he.createElement(ec,{onClick:f,isPrimary:!0},E("Close")))))}(t)}}return he.createElement(Yc,{isOpen:k,hasCloseButton:!0,noBackdropClose:!0,dialogClassName:Vw.modalDialog,nativeBottomSheetKey:"stake",forceFullNative:S===cn.StakePassword,onClose:f,onCloseAnimationEnd:T},he.createElement(gp,{name:fh(),className:ps(Vc.transition,"custom-scroll"),slideClassName:Vc.transitionSlide,activeKey:S,nextKey:A,onStop:T},L))}))),Gw=new Set([cn.ClaimPassword,cn.ClaimConfirmHardware,cn.ClaimConnectHardware]),Qw=pe($e((e=>{const t=e.currentAccountId,{addressByChain:n}=Je(e,t)||{},a=ot(e),{state:o,isLoading:r,error:i}=(null==e?void 0:e.currentStaking)||{},s=t?Vn(e,t):void 0,l=kt(e),{hardwareState:c,isLedgerConnected:d,isTonAppConnected:u}=e.hardware;return{stakingState:"jetton"===(null==s?void 0:s.type)?s:void 0,isOpen:Gw.has(o),state:o,tokens:l,isLoading:r,error:i,address:null==n?void 0:n.ton,hardwareState:c,isLedgerConnected:d,isTonAppConnected:u,isHardwareAccount:a,isMultichainAccount:ut(e,t),isSensitiveDataHidden:e.settings.isSensitiveDataHidden}}))((function(t){var n;let{stakingState:a,isOpen:o,tokens:r,isLoading:i,address:s,error:l,state:c=cn.ClaimPassword,hardwareState:d,isLedgerConnected:u,isTonAppConnected:m,isHardwareAccount:p,isMultichainAccount:f,isSensitiveDataHidden:h}=t;const{submitStakingClaim:g,submitStakingClaimHardware:v,cancelStakingClaim:w,clearStakingError:y}=He(),{tokenSlug:b,unclaimedRewards:E=0n}=null!=a?a:{},k=vs(),C=de((()=>null==r?void 0:r.find((e=>{let{slug:t}=e;return t===b}))),[r,b]),N=de((()=>null==r?void 0:r.find((t=>{let{slug:n}=t;return n===e.Tu9.slug}))),[r]),S=null!==(n=null==N?void 0:N.amount)&&void 0!==n?n:0n,{gas:A,real:T}=ds("jetton").claim,I=S>A,{renderingKey:B,nextKey:_,updateNextKey:x}=hh(c,Boolean(o)),L=!p&&!Qo(),D=$r((e=>{I&&g({password:e})})),O=$r((()=>{I&&v()}));function P(t,n,a){switch(a){case cn.ClaimConnectHardware:return he.createElement(Yh,{isActive:t,state:d,isLedgerConnected:u,isTonAppConnected:m,onConnected:O,onClose:w});case cn.ClaimConfirmHardware:return he.createElement(Ah,{text:k("Please confirm transaction on your Ledger"),error:l,onClose:w,onTryAgain:O});case cn.ClaimPassword:return he.createElement(sp,{isActive:Boolean(o),isLoading:i,withCloseButton:!0,operationType:"claim",error:I?l:k("Insufficient Balance for Fee"),submitLabel:k("Confirm"),onSubmit:D,onCancel:w,onUpdate:y},function(){const t=ps("k75dvmdJ",!Qo()&&"F2nQ3VmO"),n=h?`*** ${C.symbol}`:gr((0,wt.nI)(E,C.decimals),C.symbol,e.Vxu);return he.createElement(he.Fragment,null,he.createElement(Fw,{tokenIn:C,withChainIcon:f,text:n,className:Qo()?void 0:"yYT_DSGe",secondText:xt(s)}),he.createElement("div",{className:t},C&&dr(k("$fee_value_bold",{fee:he.createElement(Ag,{terms:{native:I?T:A},precision:I?"approximate":"lessThan",token:C})}))))}())}}return he.createElement(Yc,{isOpen:o,title:L?k("Confirm Rewards Claim"):void 0,hasCloseButton:L,forceFullNative:!0,nativeBottomSheetKey:"staking-claim",contentClassName:"FYtlcmCw",onClose:w},he.createElement(gp,{name:fh(),className:ps(Vc.transition,"custom-scroll"),slideClassName:Vc.transitionSlide,activeKey:B,nextKey:_,onStop:x},P))})));function Xw(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const r=ue(e,t);return de((()=>(0,c.sg)(r,n,!a,!o)),[r,n,a,o])}function Jw(){const{width:e,height:t,screenHeight:n}=ia(),[a,o]=ie(e),[r,i]=ie(t),[s,l]=ie(n),[d,u]=ie(!1),m=Xw(u,[u],250,!0);return le((()=>{const e=(0,c.nF)((()=>{u(!0)}),250,!0),t=(0,c.nF)((()=>{const{width:e,height:t,screenHeight:n}=ia();o(e),i(t),l(n),m(!1)}),250,!1),n=()=>{e(),t()};return window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}}),[m]),de((()=>({width:a,height:r,screenHeight:s,isResizing:d})),[r,d,s,a])}const Zw=pe((function(e){let{tonToken:t,timestamp:n,profit:a,isSensitiveDataHidden:o}=e;const r=vs(),i=de((()=>Hv(4,10,n.toString())),[n]);return he.createElement("div",{className:"nq4YjGn3"},he.createElement("i",{className:ps("jLdRlENh","icon-earn"),"aria-hidden":!0}),he.createElement("div",{className:"nxAiUgO_"},he.createElement("div",{className:"uDw7ob8E"},r("Earned")),he.createElement("div",{className:"aJl0mknc"},(0,Xn.N5)(r,n),", ",(0,Xn.fU)(n))),he.createElement(Xv,{isActive:o,cellSize:8,rows:2,cols:i,align:"right",className:"x2kd8DjZ"},vr(a,t.symbol)))})),ey=pe($e((t=>{var n,a;const o=t.currentAccountId,r=Ze(t),i=o?$n(t,o):void 0,s=o?Vn(t,o):void 0,l="nominators"===(null==s?void 0:s.type)?s.end:null===(n=t.stakingInfo)||void 0===n?void 0:n.round.end,c=o?zn(t,o):void 0,d=o?function(t,n){var a,o;const r=et(t,n);return null!==(a=Vn(t,n).tokenSlug===e.Tu9.slug?null==r||null===(o=r.staking)||void 0===o?void 0:o.totalProfit:void 0)&&void 0!==a?a:0n}(t,o):0n;return{stakingState:s,states:i,totalProfit:d,stakingHistory:c,tokens:kt(t),tokenBySlug:t.tokenInfo.bySlug,endOfStakingCycle:l,theme:t.settings.theme,shouldUseNominators:null==r||null===(a=r.staking)||void 0===a?void 0:a.shouldUseNominators,isSensitiveDataHidden:t.settings.isSensitiveDataHidden}}))((function(t){let{states:n,stakingState:a,isActive:o,isStatic:r,totalProfit:i,stakingHistory:s,tokens:l,tokenBySlug:c,endOfStakingCycle:d,theme:u,shouldUseNominators:m,isSensitiveDataHidden:p,onClose:f}=t;const{startStaking:h,startUnstaking:g,startStakingClaim:v,fetchStakingHistory:w,changeCurrentStaking:y}=He(),{id:b,tokenSlug:E,balance:k,annualYield:C=0,isUnstakeRequested:N}=null!=a?a:{},S=de((()=>E?null==l?void 0:l.find((e=>{let{slug:t}=e;return E===t})):void 0),[E,l]),{decimals:A,symbol:T}=null!=S?S:{},I=vs(),B=void 0===k,_=Boolean(null==s?void 0:s.length),{shouldRender:x,transitionClassNames:L}=ws(B&&o),D=de((()=>null==l?void 0:l.find((t=>{let{slug:n}=t;return n===e.Tu9.slug}))),[l]),O=ge(),{height:P}=Jw(),F=Fd(u),{shouldRender:R,transitionClassNames:M}=ws(!p),U="jetton"===(null==a?void 0:a.type)?a.unclaimedRewards:void 0;sf(O,N?3e4:void 0),le((()=>{o&&w()}),[w,o]);const H=$r((()=>{null==f||f(),h()})),W=$r((()=>{null==f||f(),g()})),$=$r((()=>{null==f||f(),v()}));let V="0",z="0";k&&(V=(0,wt.CF)(k).round(e.Vxu).toString(),z=(0,wt.CF)(k).mul(C/100+1).round(e.Vxu).toString());const q=de((()=>c&&n?Ps({tokenBySlug:c,states:n,shouldUseNominators:m}):[]),[c,n,m]),K=ps(Vw.stakingInfo,!r&&Vw.stakingInfo_modal,!_&&Vw.stakingInfoNoHistory,r&&"staking-info"),j=$r((e=>{null==f||f(),y({stakingId:e,shouldReopenModal:!r})})),Y=Uw([r,b],!r);return he.createElement(gp,{name:"fade",activeKey:Y,shouldCleanup:!0,className:Vw.stakingTransition,slideClassName:r?"staking-info":void 0},he.createElement(he.Fragment,null,he.createElement("div",{className:K},!r&&he.createElement(yf,{title:I("Staking"),closeClassName:Vw.stakingInfoClose,onClose:f}),he.createElement($w,{isSensitiveData:!0,isSensitiveDataHidden:p,sensitiveDataMaskSkin:"purple",labelText:I("Currently Staked"),zeroValue:"...",value:V,decimals:A,className:Vw.stakingBalance,labelClassName:Vw.balanceStakedLabel,valueClassName:Vw.balanceStakedResult},he.createElement("div",{className:Vw.stakingInfoLoading},x&&he.createElement(Ph,{className:ps(Vw.stakingInfoLoadingAnimation,L)})),he.createElement(Mh,{items:q,selectedValue:b,className:Vw.tokenDropdown,itemClassName:Vw.tokenDropdownItem,menuClassName:Vw.tokenDropdownMenu,onChange:j})),N?he.createElement("div",{className:ps(Vw.unstakeTime,Vw.unstakeTime_purple)},he.createElement(xm,{play:o,size:e.wg4,className:Vw.unstakeTimeIcon,nonInteractive:!0,noLoop:!1,tgsUrl:Ju[F].iconClockPurple,previewUrl:Ju[F].preview.iconClockPurple}),he.createElement("div",null,Boolean(d)&&I("$unstaking_when_receive",{time:he.createElement("strong",null,(0,Xn.YG)(I.code,d))}))):he.createElement(he.Fragment,null,he.createElement($w,{isSensitiveData:!0,isSensitiveDataHidden:p,sensitiveDataMaskSkin:"purple",labelText:I("Est. balance in a year"),zeroValue:"...",value:z,decimals:A,suffix:T,labelClassName:Vw.balanceStakedLabel,valueClassName:Vw.balanceResult}),he.createElement("div",{className:ps(Vw.stakingInfoButtons,!!U&&Vw.stakingInfoButtonsWithMargin)},he.createElement(ec,{className:Vw.stakingInfoButton,isPrimary:!0,isDisabled:B,onClick:H},I("Stake More")),he.createElement(ec,{className:Vw.stakingInfoButton,isDisabled:B,onClick:W},I("Unstake"))),!!U&&function(){const e=(0,wt.nI)(U,A);return he.createElement(he.Fragment,null,he.createElement($w,{isSensitiveData:!0,isSensitiveDataHidden:p,sensitiveDataMaskSkin:"purple",labelText:I("Accumulated Rewards"),zeroValue:"...",value:e,decimals:A,suffix:T,labelClassName:Vw.balanceStakedLabel,valueClassName:Vw.balanceResult}),he.createElement("div",{className:Vw.stakingInfoButtons},he.createElement(ec,{className:Vw.stakingInfoButton,isDisabled:B,onClick:$},I("Claim"))))}())),_&&he.createElement("div",{className:ps(Vw.history,r&&Vw.history_static)},R&&he.createElement("div",{className:ps(Vw.historyTotal,M)},I("$total",{value:he.createElement("span",{className:Vw.historyTotalValue},gr((0,wt.nI)(i),e.Tu9.symbol))})),he.createElement("div",{className:Vw.historyTitle},I("Earning History")),he.createElement("div",{className:ps(Vw.historyList,r&&Vw.historyList_static,r&&"custom-scroll",!r&&P>=640&&"custom-scroll")},null==s?void 0:s.map((e=>he.createElement(Zw,{key:e.timestamp,profit:e.profit,timestamp:e.timestamp,tonToken:D,isSensitiveDataHidden:p})))))))}))),ty=pe($e((e=>{const t=e.currentAccountId,n=t?zn(e,t):void 0,a=t?Vn(e,t):void 0;return{tokenSlug:null==a?void 0:a.tokenSlug,hasHistory:Boolean(null==n?void 0:n.length)}}))((function(t){let{isOpen:n,tokenSlug:a,hasHistory:o,onClose:r}=t;const{fetchStakingHistory:i}=He(),s=a!==e.Tu9.slug;return le((()=>{n&&i()}),[i,n]),he.createElement(Yc,{isOpen:n,contentClassName:ps(Vw.stakingInfoModalContent,s&&Vw.withBackground),nativeBottomSheetKey:"staking-info",onClose:r,forceFullNative:o},he.createElement(ey,{isActive:n,onClose:r}))}))),ny=new Set([cn.UnstakeInitial,cn.UnstakePassword,cn.UnstakeConnectHardware,cn.UnstakeConfirmHardware,cn.UnstakeComplete]),ay=new Set([cn.UnstakePassword,cn.UnstakeConnectHardware,cn.UnstakeConfirmHardware]),oy=pe($e((e=>{const t=e.currentAccountId,n=kt(e),a=e.settings.baseCurrency,o=ut(e,t),r=Vn(e,t),i="nominators"===(null==r?void 0:r.type),{hardwareState:s,isLedgerConnected:l,isTonAppConnected:c}=e.hardware;return{...e.currentStaking,tokens:n,stakingInfo:e.stakingInfo,baseCurrency:a,isNominators:i,hardwareState:s,isLedgerConnected:l,isTonAppConnected:c,theme:e.settings.theme,isMultichainAccount:o,stakingState:r,isSensitiveDataHidden:e.settings.isSensitiveDataHidden}}))((function(n){var a,o,r;let{state:i,isLoading:s,error:l,tokens:c,stakingInfo:d,baseCurrency:u,isNominators:m,hardwareState:p,isLedgerConnected:f,isTonAppConnected:h,isMultichainAccount:g,theme:v,amount:w,stakingState:y,isSensitiveDataHidden:b}=n;const{setStakingScreen:E,cancelStaking:k,clearStakingError:C,submitStakingInitial:N,submitStakingPassword:S,submitStakingHardware:A,fetchStakingHistory:T}=He(),{type:I,tokenSlug:B,balance:_}=null!=y?y:{},x="nominators"===(null==y?void 0:y.type)?y.end:null==d||null===(a=d.round)||void 0===a?void 0:a.end,L=vs(),D=ny.has(i),{gas:O,real:P}=ds(null==y?void 0:y.type).stake,F=de((()=>null==c?void 0:c.find((t=>{let{slug:n}=t;return n===e.Tu9.slug}))),[c]),R=F&&F.amount>=O,M="liquid"===I&&null!==(o=null==d||null===(r=d.liquid)||void 0===r?void 0:r.available)&&void 0!==o?o:0n,U=de((()=>B?null==c?void 0:c.find((e=>{let{slug:t}=e;return t===B})):void 0),[B,c]),H=U&&(Os[U.symbol.toLowerCase()]||U.image),[W,$]=ie(!1),[V,z]=ie(!1),[q,K]=ie(!1),[j,Y]=ie(m?_:void 0),[G,Q]=ie(void 0),X=br(u);le((()=>{if(!y)return;let e=!0;switch(y.type){case"nominators":e=!1;break;case"liquid":e=!w||w<M;break;case"jetton":e=!0}z(!e)}),[M,w,y]);const[J,Z]=ie(null!=x?x:Date.now()+e.Xhd),ee=ge(),te=Fd(v),{renderingKey:ne,nextKey:ae,updateNextKey:oe}=hh(i,D),re=U&&U.price&&j?(0,wt.CF)(j,U.decimals).mul(U.price).round(U.decimals,yt.z.roundHalfUp).toString():void 0,se=pf(re,!0),ce=!R||q||!j,{shouldRender:ue,transitionClassNames:me}=ws(Boolean(re));le((()=>{D&&(T(),Y(m?_:void 0),$(!1),K(!1))}),[D,T,m,_]),_l((()=>{x&&Z(x)}),[x]);const pe=$r((()=>{J<Date.now()&&T(),ee()}));sf(pe,3e4);const fe=$r((()=>{i===cn.UnstakePassword&&E({state:cn.UnstakeInitial})})),ve=$r((()=>{N({isUnstaking:!0,amount:j})})),we=$r((e=>{Q(w),S({password:e,isUnstaking:!0})})),ye=$r((()=>{Q(w),A({isUnstaking:!0})})),be=$r((function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]||($(!1),K(!1)),void 0!==e?e<0?$(!0):((!_||e>_)&&($(!0),K(!0)),Y(e)):Y(void 0)})),Ee=$r((()=>{_&&be(_)})),ke=$r((e=>{const t=e?(0,wt.UH)(e,null==U?void 0:U.decimals):void 0;be(t)}));function Ce(){return he.createElement("div",{className:ps(Vw.unstakeTime)},he.createElement(xm,{play:D,size:e.wg4,className:Vw.unstakeTimeIcon,nonInteractive:!0,noLoop:!1,tgsUrl:Ju[te].iconClockGray,previewUrl:Ju[te].preview.iconClockGray}),he.createElement("div",null,L("$unstaking_when_receive",{time:he.createElement("strong",null,(0,Xn.YG)(L.code,J))})))}function Ne(n,a,o){switch(o){case cn.UnstakeInitial:return he.createElement(he.Fragment,null,he.createElement(yf,{title:L("$unstake_asset",{symbol:null==U?void 0:U.symbol}),onClose:k}),he.createElement("div",{className:Vc.transitionContent},!m&&he.createElement(Hw,{maxAmount:_,token:U,isLoading:void 0===_||!U,isSensitiveDataHidden:b,isAllMode:!0,onAmountClick:Ee}),he.createElement(lw,{key:"unstaking_amount",id:"unstaking_amount",hasError:W,value:void 0===j?void 0:(0,wt.nI)(j,null==U?void 0:U.decimals),labelText:L("Amount to unstake"),onChange:ke,className:Vw.amountInput,decimals:null==U?void 0:U.decimals,disabled:m},he.createElement("div",{className:Vw.ton},he.createElement("img",{src:H,alt:"",className:Vw.tonIcon}),he.createElement("span",{className:Vw.tonName},null==U?void 0:U.symbol))),he.createElement("div",{className:Vw.amountBottomWrapper},he.createElement("div",{className:Vw.amountBottom},ue&&he.createElement("span",{className:ps(Vw.amountInCurrency,me)},"≈ ",gr(se||"0",X)),function(){const e=q?0:R?M?2:3:1;let t=U?L("$fee_value",{fee:he.createElement(Ag,{terms:{native:P},precision:"approximate",token:U})}):"";if(U)if(q)t=he.createElement("span",{className:Vw.balanceError},L("Insufficient balance"));else if(R)M&&(t=L("$unstake_up_to_information",{value:gr((0,wt.nI)(M,U.decimals),U.symbol)}));else{var n;t=he.createElement("span",{className:Vw.balanceError},L("$insufficient_fee",{fee:gr((0,wt.CF)(O),null!==(n=null==F?void 0:F.symbol)&&void 0!==n?n:"")}))}return he.createElement(gp,{className:Vw.amountBottomRight,slideClassName:Vw.amountBottomRight_slide,name:"fade",activeKey:e},t)}())),function(){const e=!q&&j;return he.createElement(gp,{name:"fade",activeKey:e?V?2:1:0},e?V?Ce():he.createElement("div",{className:Vw.unstakeInfo},L("$unstake_information_instantly")):void 0)}(),he.createElement("div",{className:Vc.buttons},he.createElement(ec,{isPrimary:!0,isLoading:s,isDisabled:ce,onClick:ve},L("Unstake")))));case cn.UnstakePassword:return function(t){return he.createElement(he.Fragment,null,!Qo()&&he.createElement(yf,{title:L("Confirm Unstaking"),onClose:k}),he.createElement(sp,{isActive:t,isLoading:s,withCloseButton:e.UMQ,operationType:"unstaking",error:l,placeholder:"Confirm operation with your password",submitLabel:L("Confirm"),cancelLabel:L("Back"),onSubmit:we,onCancel:fe,onUpdate:C},function(){if(U&&j)return he.createElement(Fw,{tokenIn:U,withChainIcon:g,color:"green",text:gr((0,wt.nI)(j,U.decimals),U.symbol),className:Qo()?void 0:Vw.transactionBanner})}()))}(n);case cn.UnstakeConnectHardware:return he.createElement(Yh,{isActive:n,state:p,isLedgerConnected:f,isTonAppConnected:h,onConnected:ye,onClose:k});case cn.UnstakeConfirmHardware:return he.createElement(Ah,{text:L("Please confirm operation on your Ledger"),error:l,onClose:k,onTryAgain:ye});case cn.UnstakeComplete:return function(e){return he.createElement(he.Fragment,null,he.createElement(yf,{title:(0,t.v3)()?L("Request is sent!"):L("Request for unstaking is sent!"),onClose:k}),he.createElement("div",{className:Vc.transitionContent},he.createElement(Mw,{color:"green",playAnimation:e,amount:G,tokenSymbol:null==U?void 0:U.symbol,noSign:!0}),V&&Ce(),he.createElement("div",{className:Vc.buttons},he.createElement(ec,{onClick:k,isPrimary:!0},L("Close")))))}(n)}}return he.createElement(Yc,{isOpen:D,hasCloseButton:!0,noBackdropClose:!0,dialogClassName:Vw.modalDialog,nativeBottomSheetKey:"unstake",forceFullNative:ay.has(ne),onClose:k,onCloseAnimationEnd:oe},he.createElement(gp,{name:fh(),className:ps(Vc.transition,"custom-scroll"),slideClassName:Vc.transitionSlide,activeKey:ne,nextKey:ae,onStop:oe},Ne))}))),ry=pe($e((e=>({isAppUpdateAvailable:e.isAppUpdateAvailable,newAppVersion:e.latestAppVersion,isAppUpdateRequired:e.isAppUpdateRequired})))((function(n){let{isAppUpdateAvailable:a,newAppVersion:o,isAppUpdateRequired:r}=n;const i=vs(),{shouldRender:s,transitionClassNames:l}=ws(e.VL7&&a||r);if(s)return he.createElement("button",{type:"button",className:ps("eU8arlH4",l),onClick:()=>{var n;t.u2?window.location.reload():to((n=o,e.VL7?n?`${e.V3_}/releases/download/v${encodeURIComponent(n||"")}/${encodeURIComponent(e.C39)}.apk`:"https://github.com/mytonwalletorg/mytonwallet/releases/latest":t.xy?`${e.W1_}android-store`:t.ZH?`${e.W1_}ios`:t.iF?`${e.W1_}${t.pr?"edge-extension":"chrome-extension"}`:e.v5B?`${e.W1_}firefox-extension`:e.W1_),{isExternal:!0})}},he.createElement("i",{className:ps("icon icon-download-filled","X9C5VDdJ"),"aria-hidden":!0}),i("Update %app_name%",{app_name:e.C39}))})));function iy(e,t){return e.reduce(((e,n)=>e+n.parts.reduce(((e,n)=>e+(t.includes(n.status)?n.amount:0)),0)),0).toString()}const sy="WYLJUay4",ly="af6G76Qu",cy=pe($e((e=>{const t=Ze(e),{info:n,unfreezeRequestedIds:a}=(null==t?void 0:t.vesting)||{};return{isOpen:e.isVestingModalOpen,vesting:n,isUnfreezeRequested:Boolean(null==a?void 0:a.length),mycoin:It(e),theme:e.settings.theme}}))((function(t){let{isOpen:n,isUnfreezeRequested:a,vesting:o,mycoin:r,theme:i}=t;const{fetchStakingHistory:s,closeVestingModal:l,startClaimingVesting:c}=He(),d=vs(),u=ge(),m=de((()=>o?iy(o,["frozen","ready"]):"0"),[o]),p=de((()=>o?iy(o,["ready"]):"0"),[o]),f="0"===p,h=Fd(i);sf(u,a?3e4:void 0),le((()=>{n&&s()}),[s,n]);const g=$r((()=>{c()}));if(r)return he.createElement(Yc,{isOpen:n,contentClassName:"Z3AdvY3j",nativeBottomSheetKey:"vesting-info",forceFullNative:!0,onClose:l},he.createElement(he.Fragment,null,he.createElement("div",{className:"nmSXdbkU"},he.createElement(yf,{title:d("Vesting"),className:"UGaC6iSp",closeClassName:"gj76sp0s",onClose:l}),he.createElement($w,{labelText:d("Vesting Balance"),zeroValue:"...",value:m||"0",decimals:e.Vxu,suffix:"MY",className:sy,labelClassName:ly,valueClassName:"W2jkzSKT"}),a?he.createElement("div",{className:"nOY_rRWD"},he.createElement(xm,{play:n,size:e.wg4,className:"B_mbvdNt",nonInteractive:!0,noLoop:!1,tgsUrl:Ju[h].iconClockBlue,previewUrl:Ju[h].preview.iconClockBlue}),he.createElement("div",null,d("You will receive your unfrozen coins in a few minutes."))):he.createElement(he.Fragment,null,he.createElement($w,{labelText:d("Ready to Unfreeze"),zeroValue:"...",value:p,decimals:e.Vxu,suffix:"MY",className:sy,inputClassName:"laFaO54G",labelClassName:ly,valueClassName:"Da5SKOto"}),he.createElement("div",{className:"TDJhFbKs"},he.createElement(ec,{className:"q0MWzlSV",isPrimary:!0,isDisabled:f,onClick:f?void 0:g},d("Unfreeze"))))),he.createElement("div",{className:"qVDajNe7"},he.createElement("div",{className:"mwrjA2Wq"},d("Vesting Schedule")),he.createElement("div",{className:ps("Gvf3taGj","custom-scroll")},null==o?void 0:o.map((function(e){return he.createElement("div",{key:e.id,className:"N60lIj1U"},he.createElement("div",{className:"aLa4cQLd"},he.createElement("div",{className:"RlCMRY3O"},e.title),he.createElement("div",{className:"A2xAIJdW"},d("%volume% in %amount% parts",{volume:he.createElement("b",null,gr(e.initialAmount,r.symbol,r.decimals)),amount:e.parts.length.toString()}))),e.parts.map((e=>{const t="frozen"===e.status?"icon-snow":"missed"===e.status?"icon-missed":"unfrozen"===e.status?"icon-check":"icon-fire",n="frozen"===e.status?"Frozen":"missed"===e.status?"Missed":"unfrozen"===e.status?"Unfrozen":"Ready to Unfreeze",o=!a&&"ready"===e.status,i="frozen"===e.status?e.time:"ready"===e.status?e.timeEnd:void 0;return he.createElement("div",{key:e.id,role:o?"button":void 0,className:ps("tbB7hrjM",e.status,o&&"Fi06J8yl"),onClick:o?g:void 0},he.createElement("i",{className:ps("Bc1llfyb",t,e.status),"aria-hidden":!0}),he.createElement("div",{className:"SkSkSLJA"},d(n),Boolean(i)&&he.createElement("div",{className:"F8H8tP5h"},d("until %date%",{date:he.createElement(he.Fragment,null,he.createElement("span",{className:"_7RDFG6sc"},(0,Xn.TK)(d.code,i)),","," ",(0,Xn.fU)(i))}))),he.createElement("div",{className:ps("oTZtwcWo",e.status)},gr(e.amount,r.symbol,r.decimals)))})))}))))))}))),dy=pe($e((e=>{const{addressByChain:t}=Je(e,e.currentAccountId)||{},n=Ze(e),a=ot(e),{isConfirmRequested:o,info:r,isLoading:i,error:s,unfreezeState:l}=(null==n?void 0:n.vesting)||{},c=kt(e),{hardwareState:d,isLedgerConnected:u,isTonAppConnected:m}=e.hardware;return{isOpen:o,vesting:r,tokens:c,isLoading:i,error:s,address:null==t?void 0:t.ton,state:l,mycoin:It(e),hardwareState:d,isLedgerConnected:u,isTonAppConnected:m,isHardwareAccount:a,isMultichainAccount:ut(e,e.currentAccountId)}}))((function(t){let{isOpen:n,vesting:a,tokens:o,isLoading:r,address:i,error:s,mycoin:l,state:c=dn.Password,hardwareState:d,isLedgerConnected:u,isTonAppConnected:m,isHardwareAccount:p,isMultichainAccount:f}=t;const{submitClaimingVesting:h,submitClaimingVestingHardware:g,cancelClaimingVesting:v,clearVestingError:w}=He(),y=vs(),{amount:b}=de((()=>null==o?void 0:o.find((t=>{let{slug:n}=t;return n===e.Tu9.slug}))),[o])||{},E=(0,wt.CF)(e.aEZ),k=!b||b<e.aEZ,{renderingKey:C,nextKey:N,updateNextKey:S}=hh(c,Boolean(n)),A=!p&&!Qo(),T=de((()=>a?iy(a,["ready"]):"0"),[a]),I=$r((e=>{k||h({password:e})})),B=$r((()=>{k||g()}));if(l)return he.createElement(Yc,{isOpen:n,title:A?y("Confirm Unfreezing"):void 0,hasCloseButton:A,forceFullNative:!0,nativeBottomSheetKey:"vesting-confirm",contentClassName:"TSf_GkYf",onClose:v},he.createElement(gp,{name:fh(),className:ps(Vc.transition,"custom-scroll"),slideClassName:Vc.transitionSlide,activeKey:C,nextKey:N,onStop:S},_));function _(t,a,o){switch(o){case dn.ConnectHardware:return he.createElement(Yh,{isActive:t,state:d,isLedgerConnected:u,isTonAppConnected:m,onConnected:B,onClose:v});case dn.ConfirmHardware:return he.createElement(Ah,{text:y("Please confirm transaction on your Ledger"),error:s,onClose:v,onTryAgain:B});case dn.Password:return he.createElement(sp,{isActive:Boolean(n),isLoading:r,withCloseButton:!0,operationType:"unfreeze",error:k?y("Insufficient Balance for Fee"):s,submitLabel:y("Confirm"),onSubmit:I,onCancel:v,onUpdate:w},function(){const t=ps("V5IIeyTC",!Qo()&&"ZROURKjf");return he.createElement(he.Fragment,null,he.createElement(Fw,{tokenIn:l,withChainIcon:f,text:gr(T,l.symbol,l.decimals),className:Qo()?void 0:"pu3vP7ZP",secondText:xt(i)}),he.createElement("div",{className:t},dr(y("$fee_value_bold",{fee:gr(E,e.Tu9.symbol)}))))}())}}})));const uy={modalDialog:"tGUq61Uw",scrollContent:"m5XAGki9",amountInput:"SZC58ifv",amountInputBuy:"uBBR78Gi",inputLabel:"EeV5B584",amountInputInner:"L752Cv1F",advancedSlippageContainer:"jiH3u0SA",content:"dQUuISOK",inputContainer:"IkAedzyb",advancedSlippageButton:"nnFruaI2",slippageLabel:"BCxUm5xP",swapButtonWrapper:"eEwTqlEP",swapButtonWrapperStatic:"z1UgQ2yi",swapButton:"hrHymNJu",footerBlock:"yPmfwG9j",footerBlockStatic:"Edk19FlP",dot:"ru4rAllW",advancedBlock:"dx6Hf2xp",advancedRow:"QPeOMoOM",advancedDescription:"YzXjxATB",advancedTooltip:"QdMU2Tgb",advancedTooltipContainer:"VGq4FFXS",advancedTooltipMessage:"VLNF6T4k",advancedValue:"JTLP1WRv",advancedSlippageError:"NW_aag3U",advancedSlippage:"K4rGLITC",advancedInput:"uWjxL_tL",advancedInputValue:"Y_KEhiFS",isEmpty:"lP4fP0kG",advancedError:"X2kTDRkO",advancedLink:"NlT_I8kT",advancedLinkIcon:"A0XDmIY2",advancedPlaceholder:"vvtzW7L0",footerButtonWrapper:"_5_NPQXE0",footerButton:"qzfAPYMD",swapArrowIcon:"Vzdj7mTH",changellyInfo:"gCMqbJwS",priceImpact:"nwwHhwFa",feeLine:"vz3aF88G",priceImpactSticker:"YaZn9OUh",priceImpactContent:"UUOZvXZT",priceImpactTitle:"sbyrAyQC",priceImpactArrow:"cEk2aQ7Z",priceImpactDescription:"olGNOU3k",swapCornerTop:"csDd7Ni1",swapCornerBottom:"xyxUxtsY",swapCornerStaticTop:"B7ECmlJ1",swapCornerStaticBottom:"WuHn_HeC",selectBlockchainBlock:"prVCHnG1",inputAddressWrapper:"DTAq0std",inputAddress:"b7EwDSEo",blockchainHintWrapper:"ywkeppF2",changellyDescription:"V7p8St7r",blockchainHintText:"CBP3_LjF",blockchainHintTextError:"t2EtyAQD",inputButton:"IpN3STYq",inputButtonShifted:"xDE5m07O",changellyInfoStatic:"EvrCvWOD",priceImpactStatic:"eoiWwJ0m",changellyInfoTitle:"fwJQ9lpO",changellyInfoDescription:"Y38OidS3",changellyIcon:"ieB34P8k",changellyInfoBlock:"aQOSkXKG",blockchainButtons:"pQ9YM0ta",changellyTextField:"cTKYWTLL",textFieldWrapperFullWidth:"VR4c3lOH",changellyImportantRed:"M_DwJtlB",arrowContainer:"abK4XtWe",arrowContainerInverted:"OSP7z62u",arrow:"ZktBDvds",arrowNew:"Z8CqJe5c",arrowOld:"G_2MIwOh",animateDisappear:"PpIbnc8v","arrow-disappear":"VKHzIRP6",arrowDisappear:"VKHzIRP6",animateAppear:"STVPF9rF","arrow-appear":"igBksUDT",arrowAppear:"igBksUDT",transactionBanner:"T1jLnRBM",changellyDescriptionBold:"Vbj5MEAN",qrCode:"MuLyFrfU",qrCodeHidden:"Fn7oQpnQ",textFieldLabel:"ak6Vmppj"},my=250+e.xB5,py=pe((function(e){var t,n,a,o;let{tokenIn:r,tokenOut:i,amountIn:s,amountOut:l,swapType:c,isEstimating:d,isSending:u,isNotEnoughNative:m,nativeToken:p,dieselStatus:f,isPriceImpactError:h,canSubmit:g,errorType:v,limits:w}=e;const y=vs(),b=void 0!==v,E=u&&c===rn.CrosschainToWallet,k=!g||E,C=d||E,N={[on.UnexpectedError]:y("Unexpected Error"),[on.InvalidPair]:y("Invalid Pair"),[on.NotEnoughLiquidity]:y("Insufficient liquidity"),[on.ChangellyMinSwap]:y("Minimum amount",{value:wr(null!==(t=null==w?void 0:w.fromMin)&&void 0!==t?t:"0",null!==(n=null==r?void 0:r.symbol)&&void 0!==n?n:"",null==r?void 0:r.decimals)}),[on.ChangellyMaxSwap]:y("Maximum amount",{value:wr(null!==(a=null==w?void 0:w.fromMax)&&void 0!==a?a:"0",null!==(o=null==r?void 0:r.symbol)&&void 0!==o?o:"",null==r?void 0:r.decimals)}),[on.NotEnoughForFee]:y("Not Enough %symbol%",{symbol:null==r?void 0:r.symbol}),[on.TooSmallAmount]:y("$swap_too_small_amount")},S=Boolean(s||l);let A="$swap_from_to";S&&(b?A=N[v]:p&&(m&&"ton"===(null==r?void 0:r.chain)&&null!=r&&r.tokenAddress?"not-available"===f?A=y("Not Enough %symbol%",{symbol:"TON"}):"pending-previous"===f?A=y("Awaiting Previous Fee"):"not-authorized"===f&&(A=y("Authorize %token% Fee",{token:null==r?void 0:r.symbol})):m&&(A=y("Not Enough %symbol%",{symbol:null==p?void 0:p.symbol}))));const T=Array.isArray(A)?A.join(""):A,I=S&&!d&&(h||b||p&&m&&(!f||"not-available"===f||"pending-previous"===f)),B=me(0),_=function(e,t){const n=function(e,t,n){return Wd((t=>{t(e())}),t,n,arguments.length>3&&void 0!==arguments[3]&&arguments[3])}((()=>e()),[e],t,arguments.length>2&&void 0!==arguments[2]&&arguments[2]);return zv(n,[n,e],!0)}(zv((()=>{const e="$swap_from_to"===T?y("$swap_from_to",{from:null==r?void 0:r.symbol,icon:he.createElement("i",{className:ps("icon-chevron-right",uy.swapArrowIcon),"aria-hidden":!0}),to:null==i?void 0:i.symbol}):T;return he.createElement(gp,{name:"semiFade",className:uy.footerButtonWrapper,activeKey:B.current++},he.createElement(ec,{isPrimary:!0,isSubmit:!0,className:uy.footerButton,isDisabled:k,isLoading:C,isDestructive:I},he.createElement("span",null,e)))}),[I,k,C,y,T,null==r?void 0:r.symbol,null==i?void 0:i.symbol]),my);return nf(_)})),fy=new Set(["jWBTC","oWBTC","BTC"]),hy=new Set(["jUSDT","oUSDT","USDT","jUSDC","oUSDC","USDC","USD₮"]),gy=new Set(["USD","RUB","EUR","CNY"]);function vy(t){return gy.has(t)?5:hy.has(t)?4:fy.has(t)?3:t===e.Tu9.symbol?2:1}function wy(e,t,n,a){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!(e&&t&&n&&a))return;let r,i=n.symbol,s=a.symbol;const l=new yt.z(e),c=new yt.z(t);if(l.eq(0)||c.eq(0))return;const d=vy(i);if(vy(s)<d){i=a.symbol,s=n.symbol;const e=l.div(t),c=o&&e.gte(1e3);r=hr(e.toNumber(),c?0:4)}else{const t=c.div(e),n=o&&t.gte(1e3);r=hr(t.toNumber(),n?0:4)}return{firstCurrencySymbol:i,secondCurrencySymbol:s,price:r}}const yy="mdHmid9q",by="y7MeqLtP",Ey="VF77TUMq",ky="sRFnXBUF",Cy="e9qAwzfb",Ny=i.p+"dedust.76618cc56dfd6341f305.png",Sy=i.p+"stonfi.bf33a92c06cc67840d20.png",Ay=/^\d{5,}([.,]|$)/,Ty=pe($e((e=>({currentSwap:e.currentSwap})))((function(t){let{tokenIn:n,tokenOut:a,isStatic:o,currentSwap:{amountOut:r,amountIn:i,estimates:s,currentDexLabel:l,bestRateDexLabel:c,inputSource:d,ourFeePercent:u=e.YDh}}=t;const{setSwapDex:m}=He(),p=vs(),[f,h,g]=Rd(!1),[v,w]=ie(l),y=pf(null!=s&&s.length?s:void 0,!0),b=pf(l,!0),E=pf(c,!0),k=Boolean(c&&c===v),C=k?p("Use Best Rate"):p("Switch to %dex_name%",{dex_name:v?e.S7e[v]:""}),{shouldRender:N,transitionClassNames:S}=ws(!!(null!=s&&s.length&&a&&r&&i)),A=$r((()=>{v&&m({dexLabel:v}),g()})),{shouldRender:T,value:I}=de((()=>function(e){let{ourFeePercent:t,decimals:n,bestRateDexLabel:a,estimates:o,inputSource:r}=e;if(!o||o.length<2)return{shouldRender:!1,value:"0"};const i=o.find((e=>{let{dexLabel:t}=e;return t===a})),s=o.find((e=>{let{dexLabel:t}=e;return t!==a}));if(!s||!i)return{shouldRender:!1,value:"0"};const l=r===an.In,c=l?"toAmount":"fromAmount",d=Number(i[c])/100*t,u=((0,wt.UH)(i[c],n)-(0,wt.UH)(s[c],n))*(l?1n:-1n);return{shouldRender:u-(0,wt.UH)(d,n)>0n,value:(0,wt.nI)(u,n)}}({ourFeePercent:u,decimals:d===an.In?null==a?void 0:a.decimals:null==n?void 0:n.decimals,estimates:s,inputSource:d,bestRateDexLabel:E})),[E,s,d,u,null==n?void 0:n.decimals,null==a?void 0:a.decimals]),B=de((()=>{if(null!=y&&y.length&&!(y.length<2))return y.reduce(((t,o)=>{const{fromAmount:r,toAmount:i,dexLabel:s}=o,l=d===an.In?i:r,c=d===an.In?a:n;if(Ay.test(l)){const n=function(t,n){const a=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.Tu9.decimals;const a=Ww(n);return t.match(a)||void 0}(t,e.Vxu);if(!a)return;const[,o,r,i]=a,s=i||r?`.${(i||"").substring(0,e.Vxu)}`:"",l=o.replace(/\d(?=(\d{3})+($))/g,`$&${e.MS3}`);return he.createElement(he.Fragment,null,l,he.createElement("span",{className:"jQ6cgMjD"},s," ",n.symbol))}(l,c);n&&(t[s]=n)}else t[s]=gr(l,c.symbol);return t}),{})}),[d,y,n,a]);if(!N||null==y||!y.length)return;const _=he.createElement(he.Fragment,null,E===b&&y.length>1&&he.createElement("span",{className:"Er8PXP6e"},he.createElement("span",{className:"IIv2eCYK"},p("Best Rate"))),p("via %dex_name%",{dex_name:he.createElement("strong",null,e.S7e[b])}),y.length>1&&he.createElement("i",{className:ps("icon-chevron-right","jDHaQfBV"),"aria-hidden":!0}));return 1===y.length?he.createElement("div",{className:ps(yy,S)},he.createElement("div",{className:by},he.createElement("span",{className:ps("M5luQatq",o&&Ey)},_))):he.createElement("div",{className:ps(yy,S)},he.createElement("div",{className:by},he.createElement("button",{type:"button",className:ps("bmtS8v9y",o&&Ey),onClick:function(){f?g():(w(l),h())}},_),he.createElement(Yc,{isOpen:f,isCompact:!0,title:p("Built-in DEX Aggregator"),onClose:g},he.createElement("div",{className:"NlzL4Voz"},y.map((t=>function(t){const o=wy(t.fromAmount,t.toAmount,n,a);return he.createElement("div",{key:t.dexLabel,tabIndex:0,role:"button",className:ps("lL1VFeQA",E===t.dexLabel&&"AC6eCyuu",v===t.dexLabel&&"_F70O58C"),onClick:()=>{w(t.dexLabel)}},he.createElement("div",{className:"YT_HY2ps"},he.createElement("img",{src:"dedust"===t.dexLabel?Ny:Sy,alt:e.S7e[t.dexLabel],className:"V0Td82aA"}),e.S7e[t.dexLabel]),he.createElement("div",{className:"J5iGiLKz"},null==B?void 0:B[t.dexLabel]),he.createElement("div",{className:"JAHr4SCc"},o?he.createElement(he.Fragment,null,o.firstCurrencySymbol," ≈ ",o.price," ",o.secondCurrencySymbol):void 0),t.dexLabel===E&&he.createElement("span",{className:"gq26TBf_"},p("Best")))}(t)))),he.createElement("p",{className:ps(ky,!k&&Cy)},dr(p("$swap_dex_chooser_rate_title"))),T&&(d===an.Out?he.createElement("p",{className:ps(ky,!k&&Cy)},dr(p("You will spend %amount% **less**.",{amount:he.createElement("strong",null,gr(I,n.symbol))}))):he.createElement("p",{className:ps(ky,!k&&Cy)},dr(p("You will receive %amount% **more**.",{amount:he.createElement("strong",null,gr(I,a.symbol))})))),he.createElement("div",{className:ps(Vc.buttons,"IfkI_jwY")},he.createElement(gp,{activeKey:k?0:1,name:"semiFade",slideClassName:"i8eq5QM3"},he.createElement(ec,{isPrimary:!0,className:ps(Vc.buttonFullWidth,k&&"MevYjouy"),onClick:A},C))))))}))),Iy="DsxlgjFS",By=.6875*t.$,_y=2*t.$,xy=pe((e=>{let{message:n,emoji:a,iconClassName:o,tooltipClassName:r}=e;const[i,s,l]=Rd(),{transitionClassNames:c,shouldRender:d}=ws(i),u=me(null),m=me(null),p=me(),f=me(),h=we(),g=$r((e=>{e.target.closest(`[data-tooltip-key="${h}"]`)||l()}));return le((()=>{if(i)return document.addEventListener("touchstart",g),()=>{document.removeEventListener("touchstart",g)}}),[i,l,g]),le((()=>{if(!u.current||!m.current)return;const{top:e,left:t,width:n}=u.current.getBoundingClientRect(),{width:a,height:o}=m.current.getBoundingClientRect(),r=(window.innerWidth-a)/2,i=t-r+n/2-By/2,s=i<_y?_y-i:0,l=`top: ${e-o-By}px;`,c=`left: ${r-s}px;`,d=`left: ${i+s}px;`,h=`top: ${o-By/2-1}px;`;p.current=`${l} ${c}`,f.current=`${h} ${d}`}),[d]),he.createElement("div",{className:"nLt5kPU7","data-tooltip-key":h},d&&he.createElement($c,null,he.createElement("div",{className:ps("DL3GDV2h",c),onClick:fs,style:p.current},he.createElement("div",{ref:m,className:ps("pPTN8epJ",r)},n),he.createElement("div",{className:"mw4HrHNN",style:f.current}))),a?he.createElement("div",{ref:u,className:ps(Iy,o),onClick:t.TF?fs:void 0,onMouseEnter:s,onMouseLeave:l},he.createElement(wf,{from:a})):he.createElement("i",{ref:u,className:ps(Iy,"icon-question",o),onClick:t.TF?fs:void 0,onMouseEnter:s,onMouseLeave:l}))}));function Ly(){return Ly=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ly.apply(null,arguments)}const Dy=[.5,1,2,5,10],Oy=pe($e((e=>{var t;const{tokenInSlug:n,amountIn:a,amountOut:o,networkFee:r,realNetworkFee:i,slippage:s,priceImpact:l,amountOutMin:c,ourFee:d,ourFeePercent:u,dieselStatus:m,dieselFee:p}=e.currentSwap,f=n?null===(t=wn(Cn(n)))||void 0===t?void 0:t.nativeToken:void 0,h=f?Ct(e,f.slug):void 0;return{amountIn:a,amountOut:o,networkFee:r,realNetworkFee:i,swapType:Ln(e),tokenIn:_n(e),tokenOut:xn(e),slippage:s,priceImpact:l,amountOutMin:c,ourFee:d,ourFeePercent:u,dieselStatus:m,dieselFee:p,nativeTokenInBalance:h}}))((function(t){var n;let{onClose:a,amountIn:o,amountOut:r,swapType:i,tokenIn:s,tokenOut:l,slippage:c,priceImpact:d,networkFee:u,realNetworkFee:m,amountOutMin:p,ourFee:f,ourFeePercent:h=e.YDh,dieselStatus:g,dieselFee:v,nativeTokenInBalance:w,showFullNetworkFee:y,onNetworkFeeClick:b}=t;const{setSlippage:E}=He(),k=vs(),C=i===rn.OnChain,[N,S,A]=Rd(),[T,I]=ie(c),B=(null!=d?d:0)>=5,_=void 0===T?"Slippage not specified":T>50?"Slippage too high":"",x=$r((()=>{E({slippage:T}),a()})),L=$r((e=>{const t=e?Number(e):void 0;I(t)})),D=de((()=>Qc({swapType:i,tokenInSlug:null==s?void 0:s.slug,networkFee:u,realNetworkFee:m,ourFee:f,dieselStatus:g,dieselFee:v,nativeTokenInBalance:w})),[i,s,u,m,f,g,v,w]);return he.createElement(he.Fragment,null,C&&he.createElement("div",{className:uy.advancedInput},function(){const e=Dy.map(((e,t)=>he.createElement("div",{key:e,className:uy.advancedSlippageButton},he.createElement("div",{role:"button",tabIndex:0,onClick:()=>I(e),className:uy.balanceLink},e,"%"),t+1!==Dy.length&&he.createElement("i",{className:uy.dot,"aria-hidden":!0}))));return he.createElement("div",{className:uy.advancedSlippageContainer},he.createElement("span",{className:uy.advancedSlippage},e))}(),he.createElement(lw,{labelText:he.createElement(he.Fragment,null,k("Slippage"),he.createElement(xy,{message:he.createElement("div",{className:uy.advancedTooltipMessage},he.createElement("span",null,k("$swap_slippage_tooltip1")),he.createElement("span",null,k("$swap_slippage_tooltip2"))),tooltipClassName:uy.advancedTooltipContainer,iconClassName:ps(uy.advancedTooltip,_&&uy.advancedError)})),labelClassName:uy.slippageLabel,value:null==T?void 0:T.toString(),hasError:Boolean(_),decimals:2,suffix:N?"":"%",size:"normal",onChange:L,onFocus:S,onBlur:A}),he.createElement("div",{className:uy.advancedSlippageError},he.createElement("span",null,k(_)))),he.createElement("div",{className:uy.advancedBlock},function(){const e=wy(o,r,s,l,!0);return he.createElement("div",{className:uy.advancedRow},he.createElement("span",{className:uy.advancedDescription},k("Exchange Rate")),he.createElement("span",{className:uy.advancedValue},e?`${e.firstCurrencySymbol} ≈ ${e.price} ${e.secondCurrencySymbol}`:he.createElement(Fy,null)))}(),function(){const e=y?D.fullFee:D.realFee;let t=e&&s&&he.createElement(Ag,{terms:e.networkTerms,precision:e.precision,token:s});return t&&b&&(t=he.createElement("span",{role:"button",tabIndex:0,className:uy.advancedLink,onClick:()=>b()},he.createElement("span",null,t),he.createElement("i",{className:ps("icon-chevron-right",uy.advancedLinkIcon),"aria-hidden":!0}))),he.createElement("div",{className:uy.advancedRow},he.createElement("span",{className:uy.advancedDescription},k("Blockchain Fee")),he.createElement("span",{className:uy.advancedValue},t||he.createElement(Fy,null)))}(),D.shouldShowOurFee&&he.createElement("div",{className:uy.advancedRow},he.createElement("span",{className:uy.advancedDescription},k("Aggregator Fee"),he.createElement(xy,{message:he.createElement("div",{className:uy.advancedTooltipMessage},he.createElement("span",null,dr(k("$swap_aggregator_fee_tooltip",{percent:`${h}%`})))),tooltipClassName:uy.advancedTooltipContainer,iconClassName:uy.advancedTooltip})),he.createElement("span",{className:uy.advancedValue},void 0!==f?gr(f,null!==(n=null==s?void 0:s.symbol)&&void 0!==n?n:"",void 0,!0):he.createElement(Fy,null))),i===rn.OnChain&&he.createElement(he.Fragment,null,he.createElement("div",{className:uy.advancedRow},he.createElement("span",{className:ps(uy.advancedDescription,B&&uy.advancedError)},k("Price Impact"),he.createElement(xy,{message:he.createElement("div",{className:uy.advancedTooltipMessage},he.createElement("span",null,k("$swap_price_impact_tooltip1")),he.createElement("span",null,k("$swap_price_impact_tooltip2"))),tooltipClassName:uy.advancedTooltipContainer,iconClassName:ps(uy.advancedTooltip,B&&uy.advancedError)})),he.createElement("span",{className:ps(uy.advancedValue,B&&uy.advancedError)},void 0!==d?`${d}%`:he.createElement(Fy,null))),he.createElement("div",{className:uy.advancedRow},he.createElement("span",{className:uy.advancedDescription},k("Minimum Received"),he.createElement(xy,{message:he.createElement("div",{className:uy.advancedTooltipMessage},he.createElement("span",null,k("$swap_minimum_received_tooltip1")),he.createElement("span",null,k("$swap_minimum_received_tooltip2"))),tooltipClassName:uy.advancedTooltipContainer,iconClassName:uy.advancedTooltip})),he.createElement("span",{className:uy.advancedValue},void 0!==p&&l?gr(p,l.symbol):he.createElement(Fy,null))))),he.createElement("div",{className:Vc.buttons},he.createElement(ec,{className:Vc.button,onClick:a},k("Close")),C&&he.createElement(ec,{isPrimary:!0,isDisabled:Boolean(_),className:Vc.button,onClick:x},k("Save"))))})));function Py(e){let{isOpen:t,onClose:n,...a}=e;const o=vs();return he.createElement(Yc,{isOpen:t,onClose:n,isCompact:!0,title:o("Swap Details")},he.createElement(Oy,Ly({onClose:n},a)))}function Fy(){const e=vs();return he.createElement("span",{className:uy.advancedPlaceholder},e("No Data"))}const Ry=pe($e((e=>{const t=Xe(e);return{accountId:e.currentAccountId,currentSwap:e.currentSwap,tokens:Bn(e),addressByChain:null==t?void 0:t.addressByChain,isMultichainAccount:ut(e,e.currentAccountId),swapType:Ln(e),isSensitiveDataHidden:e.settings.isSensitiveDataHidden}}),((e,t,n)=>n(e.currentAccountId)))((function(t){var n,a,o,r,i,s,l,c;let{currentSwap:{tokenInSlug:d,tokenOutSlug:u,amountIn:m,amountOut:p,errorType:f,isEstimating:h,networkFee:g,realNetworkFee:v,priceImpact:w=0,inputSource:y,limits:b,isLoading:E,pairs:k,dieselStatus:C,ourFee:N,ourFeePercent:S,dieselFee:A},accountId:T,addressByChain:I,tokens:B,isActive:_,isStatic:x,isMultichainAccount:L,swapType:D,isSensitiveDataHidden:O}=t;const{setDefaultSwapParams:P,setSwapAmountIn:F,setSwapAmountOut:R,switchSwapTokens:M,estimateSwap:U,setSwapScreen:H,loadSwapPairs:W,setSwapCexAddress:$,authorizeDiesel:V,showNotification:z}=He(),q=vs(),K=me(null),j=me(null),Y=null!=d?d:e.Tu9.slug,G=null!=u?u:e.rKC,Q=Bl(T,!0),X=de((()=>null==B?void 0:B.find((e=>e.slug===Y))),[Y,B]),J=de((()=>null==B?void 0:B.find((e=>e.slug===G))),[G,B]),Z=L||"ton"===(null==X?void 0:X.chain)?null===(n=wn(null==X?void 0:X.chain))||void 0===n?void 0:n.nativeToken.slug:void 0,ee=de((()=>null==B?void 0:B.find((e=>e.slug===Z))),[Z,B]),te=null!==(a=null==ee?void 0:ee.amount)&&void 0!==a?a:0n,ne=m&&X?(0,wt.UH)(m,X.decimals):void 0,ae=p&&J?(0,wt.UH)(p,J.decimals):void 0,oe=null!==(o=null==X?void 0:X.amount)&&void 0!==o?o:0n,re=de((()=>Qc({swapType:D,tokenInSlug:d,networkFee:g,realNetworkFee:v,ourFee:N,dieselStatus:C,dieselFee:A,nativeTokenInBalance:te})),[D,d,g,v,N,C,A,te]),se=Xc({swapType:D,tokenInBalance:oe,tokenIn:X,fullNetworkFee:null===(r=re.fullFee)||void 0===r?void 0:r.networkTerms,ourFeePercent:S}),ce=function(e){var t,n;const{swapType:a,amountIn:o,tokenInBalance:r,nativeTokenInBalance:i,tokenIn:s,fullNetworkFee:l}=e;if(a===rn.CrosschainToWallet)return!0;if(void 0===o||!s||void 0===r||void 0===i||!l)return;const c=null===(t=wn(Cn(s.slug)))||void 0===t?void 0:t.nativeToken;if(!c)return;const d=Xc(e);if(void 0===d)return;const u=(0,wt.UH)(o,s.decimals),m=(0,wt.UH)(null!==(n=l.native)&&void 0!==n?n:"0",c.decimals);return u<=d&&m<=i}({swapType:D,tokenInBalance:oe,tokenIn:X,fullNetworkFee:null===(i=re.fullFee)||void 0===i?void 0:i.networkTerms,ourFeePercent:S,amountIn:m,nativeTokenInBalance:te}),ue=void 0!==g&&ee?(0,wt.UH)(g,ee.decimals):0n,pe=te>=ue,fe=re.isGasless&&"not-authorized"===C,ge=fe||(null!=ne?ne:0n)>0n&&(null!=ae?ae:0n)>0n&&ce&&(!re.isGasless||"available"===C||"stars-fee"===C)&&!h&&void 0===f,ve=void 0!==ne&&void 0!==se&&ne>se,we=(null!=ne?ne:0n)<=0n&&y===an.In?"":null==p?void 0:p.toString(),ye=!1===ce&&!(void 0!==oe&&void 0!==ne&&ne>oe)&&"not-authorized"!==C&&"pending-previous"!==C,be=w>=5,Ee=D===rn.CrosschainFromWallet||D===rn.CrosschainToWallet,[ke,Ce]=function(e,t,n,a,o,r){var i;const s=e||(null==t||null===(i=t[n])||void 0===i||null===(i=i[a])||void 0===i?void 0:i.isReverseProhibited);return[s,de((()=>s?()=>{tr(),o({message:r("$swap_reverse_prohibited")})}:void 0),[s,r,o])]}(Ee,null==k?void 0:k.bySlug,Y,G,z,q),Ne=$r((()=>{(_&&!Gr()||h)&&U()})),Se=Xw(F,[F],500,!0),Ae=Xw(R,[R],500,!0),[Te,Ie,Be,_e]=function(e){var t;const n="exact"!==(null===(t=e.realFee)||void 0===t?void 0:t.precision),[a,o]=ie();return[a,$r((()=>o("settings"))),de((()=>n?()=>o("feeDetails"):void 0),[n]),$r((()=>o(void 0)))]}(re);le((()=>{d||u||P()}),[d,u]),le((()=>{h&&Ne();const e=setInterval(Ne,1e3);return()=>clearInterval(e)}),[h]),le((()=>{const e=T!==Q;Y&&W({tokenSlug:Y,shouldForceUpdate:e}),G&&W({tokenSlug:G,shouldForceUpdate:e})}),[T,Q,Y,G]);const xe=$r((e=>{Se({amount:e||void 0})})),Le=$r((()=>{H({state:nn.SelectTokenFrom})})),De=$r((()=>{H({state:nn.SelectTokenTo})})),Oe=$r((e=>{Ae({amount:e||void 0})})),Pe=$r((()=>{if(void 0===se)return;tr();const e=(0,wt.nI)(se,X.decimals);F({amount:e,isMaxAmount:!0})})),Fe=$r((e=>{if(fs(e),ge)if(fe)V();else{if(tr(),Ee)return $({toAddress:""}),void(D===rn.CrosschainToWallet?H({state:nn.Password}):L&&I[X.chain]&&I[J.chain]?($({toAddress:I[J.chain]}),H({state:nn.Password})):H({state:nn.Blockchain}));H({state:nn.Password})}})),Re=$r((()=>{tr(),M()}));return he.createElement(he.Fragment,null,he.createElement("form",{className:x?void 0:Vc.transitionContent,onSubmit:Fe},he.createElement("div",{className:uy.content},he.createElement("div",{ref:K,className:uy.inputContainer},he.createElement(Hw,{maxAmount:se,token:X,isSensitiveDataHidden:O,onAmountClick:Pe}),he.createElement(lw,{id:"swap-sell",labelText:q("You sell"),className:uy.amountInput,hasError:ve,value:null==m?void 0:m.toString(),isLoading:h&&y===an.Out,onChange:xe,onPressEnter:Fe,decimals:null==X?void 0:X.decimals,labelClassName:uy.inputLabel,inputClassName:uy.amountInputInner,cornerClassName:ps(uy.swapCornerTop,x&&uy.swapCornerStaticTop),isStatic:x},he.createElement(Rv,{token:X,onClick:Le}))),he.createElement("div",{className:ps(uy.swapButtonWrapper,x&&uy.swapButtonWrapperStatic)},he.createElement(My,{onClick:Re})),he.createElement("div",{ref:j,className:uy.inputContainer},he.createElement(lw,{id:"swap-buy",labelText:q("You buy"),className:uy.amountInputBuy,value:we,isLoading:h&&y===an.In,disabled:ke,onChange:Oe,onPressEnter:Fe,onInputClick:Ce,decimals:null==J?void 0:J.decimals,labelClassName:uy.inputLabel,inputClassName:uy.amountInputInner,cornerClassName:ps(uy.swapCornerBottom,x&&uy.swapCornerStaticBottom),isStatic:x},he.createElement(Rv,{token:J,onClick:De})))),he.createElement(Ty,{tokenIn:X,tokenOut:J,isStatic:x}),he.createElement("div",{className:ps(uy.footerBlock,x&&uy.footerBlockStatic)},function(){let e,t="exact";if(m&&p||(m||p)&&f){const n=ye?re.fullFee:void 0;n&&({terms:e,precision:t}=n)}return he.createElement(Og,{isStatic:x,terms:e,token:X,precision:t,keepDetailsButtonWithoutFee:!0,onDetailsClick:Ie,className:uy.feeLine})}(),function(){if(w&&be&&!Ee)return he.createElement("div",{className:ps(uy.priceImpact,x&&uy.priceImpactStatic),onClick:Ie},he.createElement(xm,{play:_,tgsUrl:Ju.run,previewUrl:Ju.runPreview,noLoop:!1,nonInteractive:!0,size:e.YO8,className:uy.priceImpactSticker}),he.createElement("div",{className:uy.priceImpactContent},he.createElement("span",{className:uy.priceImpactTitle},q("The exchange rate is below market value!",{value:`${w}%`}),he.createElement("i",{className:ps(uy.priceImpactArrow,"icon-chevron-right"),"aria-hidden":!0})),he.createElement("span",{className:uy.priceImpactDescription},q("We do not recommend to perform an exchange, try to specify a lower amount."))))}(),function(){if(Ee)return he.createElement("div",{className:ps(uy.changellyInfo,x&&uy.changellyInfoStatic)},he.createElement("span",{className:uy.changellyInfoTitle},he.createElement("i",{className:ps("icon-changelly",uy.changellyIcon),"aria-hidden":!0}),q("Cross-chain exchange provided by Changelly")),he.createElement("span",{className:uy.changellyInfoDescription},q("$swap_changelly_agreement_message",{terms:he.createElement("a",{href:e.Kq_,target:"_blank",rel:"noreferrer"},q("$swap_changelly_terms_of_use")),policy:he.createElement("a",{href:e.kuw,target:"_blank",rel:"noreferrer"},q("$swap_changelly_privacy_policy")),kyc:he.createElement("a",{href:e.BZS,target:"_blank",rel:"noreferrer"},"Changelly AML/KYC")})))}(),he.createElement(py,{tokenIn:X,tokenOut:J,amountIn:m,amountOut:p,swapType:D,isEstimating:h,isNotEnoughNative:!pe,nativeToken:ee,dieselStatus:C,isSending:E,isPriceImpactError:be,canSubmit:ge,errorType:f,limits:b}))),he.createElement(Py,{isOpen:"settings"===Te,onClose:_e,onNetworkFeeClick:Be,showFullNetworkFee:ye}),he.createElement(Lg,{isOpen:"feeDetails"===Te,onClose:_e,fullFee:null===(s=re.fullFee)||void 0===s?void 0:s.networkTerms,realFee:null===(l=re.realFee)||void 0===l?void 0:l.networkTerms,realFeePrecision:null===(c=re.realFee)||void 0===c?void 0:c.precision,excessFee:re.excessFee,excessFeePrecision:"approximate",token:X}))})));function My(t){let{onClick:n}=t;const a=Me().settings.animationLevel===e.zP3,[o,r,i]=Rd(!1),s=$r((()=>{a&&(r(),window.setTimeout((()=>{i()}),350)),null==n||n()}));function l(e){return he.createElement("div",{className:ps(uy.arrowContainer,e&&uy.arrowContainerInverted)},he.createElement("div",{className:uy.arrow},he.createElement("i",{className:"icon-arrow-up-swap","aria-hidden":!0})),he.createElement("div",{className:ps(uy.arrowOld,o&&uy.animateDisappear)},he.createElement("i",{className:"icon-arrow-up-swap","aria-hidden":!0})),he.createElement("div",{className:ps(uy.arrowNew,o&&uy.animateAppear)},he.createElement("i",{className:"icon-arrow-up-swap","aria-hidden":!0})))}return he.createElement("div",{className:uy.swapButton,onClick:s},l(),l(!0))}let Uy=(0,t.v3)();function Hy(){const t=ge();return gs((()=>{e.UMQ&&!Uy&&Ld.isSupported().then((e=>{Uy=e.supported,t()}))})),Uy}const Wy=pe((function(e){let{nfts:t,isStatic:n}=e;const a=vs(),[o,,r]=Rd(!0),i=o&&t.length>11,s=de((()=>i?t.slice(0,10):t),[i,t]);return he.createElement("div",{className:ps("OW45fd9i",n&&"h6wiRr_r","custom-scroll")},s.map((function(e){return he.createElement("div",{key:e.address,className:"HmnTdlh8"},he.createElement("img",{src:e.thumbnail,alt:e.name,className:"H3EA9Tak"}),he.createElement("span",{className:"_gZbYTeY"},e.name||e.address))})),i&&he.createElement("button",{type:"button",className:"T7bQHi3K",onClick:()=>r()},"+",a("%amount% NFTs",{amount:t.length-10})))})),$y="AryS2PDZ",Vy="erx70q4_",zy="Jag9KEHr",qy="fVQ8S1pD",Ky="Pne6FnQc",jy="eBKrZtom",Yy="RJsBtjCe",Gy="U6ZAbMe2",Qy="pUMdj3j5",Xy=[{value:"raw",name:"Comment or Memo"},{value:"encrypted",name:"Encrypted Message"}],Jy=new Set([tn.Initial,tn.None]),Zy=Xn.Z2,eb="input-clear-button",tb=(0,c.sg)((e=>e()),500,!1);function nb(e,t){const n=t.toLowerCase(),{address:a,name:o}=e;return a.toLowerCase().startsWith(n)||a.toLowerCase().endsWith(n)||o.toLowerCase().split(/\s+/).some((e=>e.startsWith(n)))}const ab=pe($e((e=>{const{toAddress:t,amount:n,comment:a,shouldEncrypt:o,fee:r,realFee:i,tokenSlug:s,isLoading:l,state:c,nfts:d,binPayload:u,isMemoRequired:m,diesel:p,stateInit:f}=e.currentTransfer,h=ot(e),g=Ze(e),v=e.settings.baseCurrency;return{toAddress:t,amount:n,comment:a,shouldEncrypt:o,fee:r,realFee:i,nfts:d,tokenSlug:s,binPayload:u,stateInit:f,tokens:kt(e),savedAddresses:null==g?void 0:g.savedAddresses,isEncryptedCommentSupported:!(h||null!=d&&d.length||m),isMemoRequired:m,isLoading:l&&Jy.has(c),baseCurrency:v,currentAccountId:e.currentAccountId,accounts:Ge(e),diesel:p,isDieselAuthorizationStarted:null==g?void 0:g.isDieselAuthorizationStarted,isMultichainAccount:ut(e,e.currentAccountId),isSensitiveDataHidden:e.settings.isSensitiveDataHidden}}),((t,n,a)=>{let{isStatic:o}=n;if(!o)return a(t.currentAccountId);const{nfts:r,tokenSlug:i=e.Tu9.slug}=t.currentTransfer,s=null!=r&&r.length?`${r[0].address}_${r.length}`:i;return a(`${t.currentAccountId}_${s}`)}))((function(n){var a,o,r,i,s;let{isStatic:l,tokenSlug:c,toAddress:d="",amount:u,comment:m="",shouldEncrypt:p,tokens:f,fee:h,realFee:g,savedAddresses:v,accounts:w,currentAccountId:y,isEncryptedCommentSupported:b,isMemoRequired:E,isLoading:k,baseCurrency:C,nfts:N,binPayload:S,stateInit:A,diesel:T,isDieselAuthorizationStarted:I,isMultichainAccount:B,isSensitiveDataHidden:_}=n;const{submitTransferInitial:x,showNotification:L,fetchTransferFee:D,fetchNftFee:O,changeTransferToken:P,setTransferAmount:F,setTransferToAddress:R,setTransferComment:M,setTransferShouldEncrypt:U,cancelTransfer:H,requestOpenQrScanner:W,showDialog:$,authorizeDiesel:V,fetchTransferDieselState:z}=He(),q=Boolean(null==N?void 0:N.length);q&&(c=e.Tu9.slug,u=void 0);const K=me(null),j=me(null),Y=vs(),G=de((()=>null==f?void 0:f.find((e=>e.slug===c))),[c,f]),{amount:Q,decimals:X,price:J,symbol:Z,chain:ee,codeHash:te}=G||{},[ne,ae]=ie(t.Et),[oe,re,se]=Rd(),[ce,ue,pe]=Rd(),[fe,ge]=ie(),[ve,we]=ie(),ye=d.length>22?xt(d,11)||"":d,be=ee?Mn(d,ee):void 0,Ee=de((()=>w?Object.keys(w).filter((e=>e!==y)):[]),[y,w]),ke=de((()=>Ee.length>0||v&&v.length>0),[Ee.length,v]),Ce=de((()=>null==f?void 0:f.find((e=>!e.tokenAddress&&e.chain===ee))),[f,ee]),Ne=c===e.Tu9.slug,Se=!(d||m||S||p||(q?l:void 0!==u)),Ae=Hy(),Te=J&&u?(0,wt.CF)(u,X).mul(J).round(X,yt.z.roundHalfUp).toString():void 0,Ie=pf(Te,!0),Be=ne&&""===d,_e=!!d.length,xe=br(C),Le=de((()=>On({fee:h,realFee:g,diesel:T,tokenSlug:c})),[h,g,T,c]),De=function(e){var t,n;let{tokenBalance:a,nativeTokenBalance:o,transferAmount:r,fullFee:i,canTransferFullBalance:s}=e;if(void 0===r||void 0===a||void 0===o||!i)return;const l=r===a&&s,c=(null!==(t=i.token)&&void 0!==t?t:0n)+(l?0n:r),d=null!==(n=i.native)&&void 0!==n?n:0n;return c<=a&&d<=o}({tokenBalance:Q,nativeTokenBalance:Ce.amount,transferAmount:q?0n:u,fullFee:null===(a=Le.fullFee)||void 0===a?void 0:a.terms,canTransferFullBalance:Le.canTransferFullBalance}),Oe=!q&&!u,Pe=me(!1),Fe=Pn({tokenBalance:Q,tokenSlug:c,fullFee:null===(o=Le.fullFee)||void 0===o?void 0:o.terms,canTransferFullBalance:Le.canTransferFullBalance}),Re="not-authorized"===(null==T?void 0:T.status),Me=Re&&I?Zy:void 0,{shouldRender:Ue,transitionClassNames:We}=ws(Boolean(Te)),$e=$r((()=>{z({tokenSlug:c})}));sf($e,Me);const Ve=de((()=>f?f.reduce(((e,t)=>((t.amount>0&&!t.isDisabled||t.slug===c)&&e.push({value:t.slug,icon:Os[t.symbol.toLowerCase()]||t.image,overlayIcon:B?Ov(t.chain):void 0,name:t.symbol}),e)),[]):[]),[B,c,f]);le((()=>{Ne&&Q&&u&&h&&u<Q&&h<Q&&u+h>=Q&&F({amount:Q-h})}),[Ne,u,Q,h]),le((()=>{if(Oe||!be)return;const e=()=>{q?O({toAddress:d,comment:m,nfts:null!=N?N:[]}):D({tokenSlug:c,toAddress:d,comment:m,shouldEncrypt:p,binPayload:S,stateInit:A})};Pe.current?(Pe.current=!1,e()):tb(e)}),[Oe,S,m,p,be,q,N,A,d,c]),le((()=>{(e.Svl.has(c)||e.kuH.has(null!=te?te:""))&&$({title:Y("Warning!"),message:Y("$service_token_transfer_warning")})}),[c,te,Y]);const ze=$r((e=>{P({tokenSlug:e})})),qe=$r((()=>{ke&&ce&&(pe(),j.current&&window.clearTimeout(j.current))})),Ke=$r((()=>{const e=K.current;requestAnimationFrame((()=>{const t=e.selectionStart;re(),requestAnimationFrame((()=>{const n=t<=14?t:Math.max(0,e.value.length-(ye.length-t));e.setSelectionRange(n,n),n>22&&(e.scrollLeft=e.scrollWidth-e.clientWidth)}))})),ke&&(t.Ni?j.current=window.setTimeout(ue,300):ue())})),je=$r((e=>{var t;se(),(null===(t=e.relatedTarget)||void 0===t?void 0:t.id)!==eb?((0,Rn.iy)(d)&&d!==d.toLowerCase()?R({toAddress:d.toLowerCase().trim()}):d!==d.trim()&&R({toAddress:d.trim()}),requestAnimationFrame((()=>{qe()}))):qe()})),Ye=$r((e=>{R({toAddress:e})})),Ge=$r((()=>{R({toAddress:void 0})})),Qe=$r((()=>{W(),H()})),Xe=$r((()=>{l?H({shouldReset:!0}):(Ge(),F({amount:void 0}),M({comment:void 0}),U({shouldEncrypt:!1}))})),Je=$r((async()=>{try{const{type:e,text:t}=await ir();"text/plain"===e&&(Pe.current=!0,R({toAddress:t.trim()}))}catch(e){L({message:Y("Error reading clipboard")}),ae(!1)}})),Ze=$r((e=>{Pe.current=!0,R({toAddress:e}),pe()})),et=$r((e=>{ge(e),we(ee),pe()})),tt=$r((()=>{ge(void 0),we(void 0)})),nt=$r((e=>{const t=e?(0,wt.UH)(e,X):void 0;(void 0===t||t>=0)&&F({amount:t})})),at=$r((()=>{Q&&(tr(),Pe.current=!0,F({amount:Fe}))})),ot=$r((()=>{Pe.current=!0})),rt=$r((e=>{M({comment:ob(e,5e3)})})),it=d.length>0&&!be,st=!q&&void 0!==Q&&void 0!==u&&u>Q,lt=!1===De&&!st&&"not-authorized"!==(null==T?void 0:T.status)&&"pending-previous"!==(null==T?void 0:T.status),ct=!q&&void 0!==u&&(void 0!==Fe&&u>Fe||lt),dt=Boolean(d)&&E,ut=Re||Boolean(be&&!Oe&&!ct&&De&&!(dt&&!m)&&(!Le.isGasless||"available"===(null==T?void 0:T.status)||"stars-fee"===(null==T?void 0:T.status))&&!(q&&(null==N||!N.length))),mt=$r((e=>{var t;fs(e),Re?V():ut&&(tr(),x({tokenSlug:c,amount:null!==(t=u)&&void 0!==t?t:0n,toAddress:d,comment:m,binPayload:S,shouldEncrypt:p,nfts:N,withDiesel:Le.isGasless,isGaslessWithStars:"stars-fee"===(null==T?void 0:T.status),stateInit:A}))})),pt=$r((e=>{U({shouldEncrypt:"encrypted"===e})})),[ft,ht,gt]=function(e){var t;const n="exact"!==(null===(t=e.realFee)||void 0===t?void 0:t.precision),[a,o,r]=Rd(!1);return[a,n?o:void 0,r]}(Le),vt=de((()=>{if(v&&0!==v.length)return v.filter((e=>(!q||"ton"===e.chain)&&nb(e,d))).map((e=>rb({key:`saved-${e.address}-${e.chain}`,address:e.address,name:e.name,chain:B?e.chain:void 0,deleteLabel:Y("Delete"),onClick:Ze,onDeleteClick:et})))}),[v,q,d,B,Y]),bt=de((()=>{var t;if(0===Ee.length)return;const n=null!==(t=null==v?void 0:v.map((e=>`${e.chain}:${e.address}`)))&&void 0!==t?t:[],a=new Set;return Ee.reduce(((t,o)=>{const r=w[o];return Object.keys(r.addressByChain).forEach((o=>{const i=r.addressByChain[o],s=`${o}:${i}`;a.has(s)||q&&"ton"!==o||!B&&o!==e.Tu9.chain||n.includes(`${o}:${i}`)||(a.add(s),t.push({name:r.title||xt(i),address:i,chain:o,isHardware:r.isHardware}))})),t}),[]).filter((e=>nb(e,d))).map((e=>{let{address:t,name:n,chain:a,isHardware:o}=e;return rb({key:`address-${t}-${a}`,address:t,name:n,chain:B?a:void 0,isHardware:o,onClick:Ze})}))}),[Ee,v,w,B,q,d]),Et=!(null==vt||!vt.length)||!(null==bt||!bt.length),kt=Ae||Be||_e,Ct=ce&&Et;return he.createElement(he.Fragment,null,he.createElement("form",{className:l?void 0:Vc.transitionContent,onSubmit:mt,onPaste:ot},1===(null==N?void 0:N.length)&&he.createElement(ig,{nft:N[0],isStatic:l,withMediaViewer:!0}),Boolean(null==N?void 0:N.length)&&N.length>1&&he.createElement(Wy,{nfts:N,isStatic:l}),he.createElement(Wm,{ref:K,className:ps(l&&Yy,kt&&"uMO1BRcS"),isRequired:!0,label:Y("Recipient Address"),placeholder:Y("Wallet address or domain"),value:oe?d:ye,error:it&&!Ct?Y("Incorrect address"):void 0,autoCorrect:!1,onInput:Ye,onFocus:Ke,onBlur:je},he.createElement(gp,{className:"lRz9la7D",activeKey:d.length?0:1,name:"fade"},d.length?he.createElement(ec,{isSimple:!0,id:eb,className:ps($y,"P0VxxOpY"),onClick:Ge,ariaLabel:Y("Clear")},he.createElement("i",{className:"icon-close-filled","aria-hidden":!0})):he.createElement(he.Fragment,null,Ae&&he.createElement(ec,{isSimple:!0,className:ps($y,Be&&"KYWbK7EG"),onClick:Qe,ariaLabel:Y("Scan QR Code")},he.createElement("i",{className:"icon-qr-scanner-alt","aria-hidden":!0})),Be&&he.createElement(ec,{isSimple:!0,className:$y,onClick:Je,ariaLabel:Y("Paste")},he.createElement("i",{className:"icon-paste","aria-hidden":!0}))))),ke&&function(){if(Et)return he.createElement(xh,{positionX:"right",type:"suggestion",noBackdrop:!0,bubbleClassName:"keyC_8Hs",isOpen:ce,onClose:pe},vt,bt)}(),function(){if(!q)return he.createElement(Hw,{maxAmount:Fe,token:G,isLoading:void 0===Fe,isSensitiveDataHidden:_,onAmountClick:at})}(),!q&&he.createElement(he.Fragment,null,he.createElement(lw,{key:"amount",id:"amount",hasError:ct,value:void 0===u?void 0:(0,wt.nI)(u,X),labelText:Y("Amount"),onChange:nt,onPressEnter:mt,decimals:X,className:"lJJMNmjc",inputClassName:l?"BrNIQCUa":void 0},he.createElement(Mh,{items:Ve,selectedValue:c,className:"NHWRtRzL",itemClassName:"Qkrt8RTy",onChange:ze})),he.createElement("div",{className:"pzJTzb6I"},he.createElement("div",{className:"NwaO39Nr"},Ue&&he.createElement("span",{className:ps("GgT8dw74",We)},"≈ ",gr(Ie||"0",xe,void 0,!0)),function(){let e=0,t=" ";return u&&(st?(e=1,t=he.createElement("span",{className:zy},Y("Insufficient balance"))):lt&&(e=2,t=he.createElement("span",{className:zy},Y("Insufficient fee")))),he.createElement(gp,{className:ps("Zkzr1Luh",l&&"EY9Piz6P"),slideClassName:"M4tMPnH0",name:"fade",activeKey:e},t)}()))),"ton"===ee&&(S||A?he.createElement(he.Fragment,null,S&&he.createElement(he.Fragment,null,he.createElement("div",{className:Vy},Y("Signing Data")),he.createElement(bg,{text:S,copyNotification:Y("Data was copied!"),className:qy})),A&&he.createElement(he.Fragment,null,he.createElement("div",{className:Vy},Y("Contract Initialization Data")),he.createElement(bg,{text:A,copyNotification:Y("Data was copied!"),className:qy})),he.createElement("div",{className:Qy},dr(Y("$signature_warning")))):he.createElement(Wm,{wrapperClassName:jy,className:l?Yy:void 0,label:he.createElement(Mh,{items:b?Xy:[Xy[0]],selectedValue:Xy[p?1:0].value,theme:"light",disabled:"tron"===ee,menuPositionHorizontal:"left",shouldTranslateOptions:!0,className:"SXy2g5zj",onChange:pt}),placeholder:Y(dt?"Required":"Optional"),value:m,isMultiline:!0,isDisabled:"tron"===ee,onInput:rt,isRequired:dt})),he.createElement("div",{className:ps("yVExFE73",l&&"ton"!==ee&&"NGWUkuR3")},function(){let e,t="exact";if(!Oe){const n=lt?Le.fullFee:Le.realFee;n&&({terms:e,precision:t}=n)}return he.createElement(Og,{isStatic:l,terms:e,token:G,precision:t,onDetailsClick:ht})}(),he.createElement("div",{className:"oMCN3Z8P"},he.createElement(ec,{isDisabled:Se||k,className:Gy,onClick:Xe},Y("Clear")),he.createElement(ec,{isPrimary:!0,isSubmit:!0,isDisabled:!ut,isLoading:k,className:Gy},"not-authorized"===(null==T?void 0:T.status)?Y("Authorize %token% Fee",{token:Z}):"pending-previous"===(null==T?void 0:T.status)?Y("Awaiting Previous Fee"):Y("$send_token_symbol",q?"NFT":Z||"TON"))))),he.createElement(fg,{isOpen:Boolean(fe),address:fe,chain:ve,onClose:tt}),he.createElement(Lg,{isOpen:ft,onClose:gt,fullFee:null===(r=Le.fullFee)||void 0===r?void 0:r.terms,realFee:null===(i=Le.realFee)||void 0===i?void 0:i.terms,realFeePrecision:null===(s=Le.realFee)||void 0===s?void 0:s.precision,excessFee:Le.excessFee,excessFeePrecision:"approximate",token:G}))})));function ob(e,t){const n=new TextDecoder("utf-8"),a=(new TextEncoder).encode(e);return n.decode(a.slice(0,t)).replace(/\uFFFD/g,"")}function rb(e){let{key:n,address:a,name:o,chain:r,isHardware:i,deleteLabel:s,onClick:l,onDeleteClick:c}=e;const d=!!c,u=e=>{e.preventDefault(),e.stopPropagation(),c(a)};return he.createElement("div",{key:n,tabIndex:-1,role:"button",onMouseDown:t.TF?void 0:()=>l(a),onClick:t.TF?()=>l(a):void 0,className:"WI13wV5I"},he.createElement("span",{className:"ZEsl45OR"},he.createElement("span",{className:"HLnOPUyB"},o||xt(a)),i&&he.createElement("i",{className:ps("bdYXzf2H","icon-ledger"),"aria-hidden":!0})),d&&he.createElement("span",{className:"ozjjQpYQ"},he.createElement("span",{tabIndex:-1,role:"button",className:"UWDrZutz",onMouseDown:u},s)),o&&he.createElement("span",{className:"sDGTQ4jr"},r&&he.createElement("i",{className:ps("g2vfXFiv",`icon-chain-${r}`),"aria-hidden":!0}),xt(a)),d&&he.createElement("span",{className:"rO6SGoH9",role:"button",tabIndex:-1,onMouseDown:u,onClick:fs,"aria-label":s},he.createElement("i",{className:"icon-trash","aria-hidden":!0})))}const ib={container:"oiB1R7GB",tabs:"Sue0UN3j",notAllTabs:"QLxHVfeT",tab:"qUqbpDN6",active:"PSKCyspY",tab_purple:"Hw7rCAOU",tabPurple:"Hw7rCAOU",tab_purpleText:"Y4BNELoX",tabPurpleText:"Y4BNELoX",tabDelimiter:"CLfyAuI6",tabDecoration:"SSnDTAfy",tabIcon:"nIk_Y_3d",tabText:"IfCQ498V",contentHeader:"LzaI7YWC",firstActive:"G0Sd_POg",contentHeaderInner:"rWtZ588N",lastActive:"Y80L38VI",contentBg:"ibE61V3n",contentFooter:"WvrNEDxt",contentSlideStaked:"F0M6K6CS","tab-0":"NmGloXOI",tab0:"NmGloXOI","tab-1":"S7XD0emA",tab1:"S7XD0emA",slideContent:"bTsglo_e",transitionContent:"YJuoqMiV",slideContentAddBuy:"QO6jMpRA",transferSlideContent:"PkpRKi3Q",spinner:"KCsGLTLM"},sb=[pn.Receive,pn.Transfer,pn.Swap,pn.Stake];let lb=0;const cb=pe($e((t=>{var n,a;const o=null!==(n=et(t,t.currentAccountId))&&void 0!==n?n:{},{isSwapDisabled:r,isOnRampDisabled:i}=t.restrictions,{nfts:s,tokenSlug:l}=t.currentTransfer,c=Cn(l)===e.Tu9.chain;return{activeTabIndex:null==o?void 0:o.landscapeActionsActiveTabIndex,isTestnet:t.settings.isTestnet,nfts:s,tokenSlug:l,isTransferWithComment:c,isSwapDisabled:r,isOnRampDisabled:i,accentColorIndex:null===(a=at(t))||void 0===a?void 0:a.accentColorIndex}}),((e,t,n)=>n(e.currentAccountId)))((function(n){let{stakingStatus:a,isLedger:o,theme:r,activeTabIndex:i=e.Dde,nfts:s,tokenSlug:l,isTransferWithComment:c,isTestnet:d,isSwapDisabled:u,isOnRampDisabled:m,accentColorIndex:p}=n;const{setLandscapeActionsActiveTabIndex:f}=He(),h=vs(),g=i===pn.Stake&&"inactive"!==a,{renderedBgHelpers:v,transitionRef:w}=function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=me(null),r=me(null),i=me(null),s=me(),l=$r((function(){var n,l;let c=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const d=`.${e}.${fp}`,u=a?" .staking-info":"",m=`${d} .${t}.${hp}, ${d} .${t}.${fp}`,p=`.${e}.${hp}${u}, ${d}${u}`,f=((null===(n=o.current)||void 0===n?void 0:n.querySelector(m))||(null===(l=o.current)||void 0===l?void 0:l.querySelector(p))).getBoundingClientRect(),h=!s.current||c;s.current!==f.height&&r.current&&(0,k.RK)((()=>{if(!r.current||!i.current)return;const e=r.current.style,t=i.current.style;h&&(e.transition="none",t.transition="none"),e.transform=`scaleY(calc(${f.height} / 100))`,t.transform=`translateY(${Math.floor(f.height)}px)`,h&&(0,k.RK)((()=>{r.current&&i.current&&(r.current.style.transition="",i.current.style.transition="")})),s.current=f.height}))}));le((()=>{l(!0);const e=new ResizeObserver((e=>{e.length&&l()}));return o.current&&e.observe(o.current),()=>{e.disconnect()}}),[l]);return{renderedBgHelpers:de((()=>he.createElement(he.Fragment,null,he.createElement("div",{ref:r,className:ps(ib.contentBg,n)}),he.createElement("div",{ref:i,className:ps(ib.contentFooter,n)}))),[n]),transitionRef:o}}(ib.slideContent,ib.transferSlideContent,g?ib.contentSlideStaked:void 0,g),y=!d&&!o&&!u,b=!d&&!m,E=!d&&!e.OuE,C=!y||!E,N=!E&&!y&&i===pn.Transfer||!E&&y&&i===pn.Swap||E&&i===pn.Stake,S=de((()=>(null==s?void 0:s.map((e=>e.address)).join(","))||l),[s,l]),[A,T,I]=Rd(),[B,_,x]=Rd(),[L,D,O]=Rd(),[P,F,R]=Rd(),M=Fd(r),U=Ju[M],H=p?Lp[M][p]:void 0,W=me(0);function $(e,t){switch(i){case pn.Receive:return he.createElement("div",{className:ps(ib.slideContent,ib.slideContentAddBuy)},he.createElement(Dw,{isOpen:e,isStatic:!0}));case pn.Transfer:return he.createElement("div",{className:ps(ib.slideContent,ib.slideContentTransfer)},he.createElement(gp,{activeKey:lb,name:t?"semiFade":"none",direction:c?void 0:"inverse",shouldCleanup:!0,slideClassName:ib.transferSlideContent},he.createElement(ab,{key:lb,isStatic:!0})));case pn.Swap:return he.createElement("div",{className:ib.slideContent},he.createElement(Ry,{isStatic:!0,isActive:e}));case pn.Stake:return he.createElement("div",{className:ib.slideContent},he.createElement("inactive"===a?Kw:ey,{isStatic:!0,isActive:e}));default:return}}function V(e,n){t.TF&&n(),f({index:e},{forceOnHeavyAnimation:!0})}return _l((()=>{W.current++}),[H]),_l((()=>{lb+=1}),[S]),le((()=>{(!y&&i===pn.Swap||!E&&i===pn.Stake)&&f({index:pn.Transfer})}),[i,d,o,y,E]),he.createElement("div",{className:ib.container},he.createElement("div",{className:ps(ib.tabs,C&&ib.notAllTabs)},he.createElement("div",{className:ps(ib.tab,i===pn.Receive&&ib.active),onMouseEnter:t.TF?void 0:T,onClick:()=>{V(pn.Receive,T)}},he.createElement(xm,{play:A,size:e.lk4,speed:2,className:ib.tabIcon,key:H,color:H,nonInteractive:!0,forceOnHeavyAnimation:!0,tgsUrl:U.iconAdd,iconPreviewClass:"icon-action-add",onEnded:I}),he.createElement("span",{className:ib.tabText},h(y||b?"Add / Buy":"Add")),he.createElement("span",{className:ib.tabDecoration,"aria-hidden":!0})),he.createElement("div",{className:ps(ib.tab,i===pn.Transfer&&ib.active),onMouseEnter:t.TF?void 0:_,onClick:()=>{V(pn.Transfer,_)}},he.createElement(xm,{play:B,size:e.lk4,speed:2,className:ib.tabIcon,key:H,color:H,nonInteractive:!0,forceOnHeavyAnimation:!0,tgsUrl:U.iconSend,iconPreviewClass:"icon-action-send",onEnded:x}),he.createElement("span",{className:ib.tabText},h("Send")),he.createElement("span",{className:ib.tabDecoration,"aria-hidden":!0}),he.createElement("span",{className:ib.tabDelimiter,"aria-hidden":!0})),y&&he.createElement("div",{className:ps(ib.tab,i===pn.Swap&&ib.active),onMouseEnter:t.TF?void 0:D,onClick:()=>{V(pn.Swap,D)}},he.createElement(xm,{play:L,size:e.lk4,speed:2,className:ib.tabIcon,key:H,color:H,nonInteractive:!0,forceOnHeavyAnimation:!0,tgsUrl:U.iconSwap,iconPreviewClass:"icon-action-swap",onEnded:O}),he.createElement("span",{className:ib.tabText},h("Swap")),he.createElement("span",{className:ib.tabDecoration,"aria-hidden":!0}),he.createElement("span",{className:ib.tabDelimiter,"aria-hidden":!0})),E&&he.createElement("div",{className:ps(ib.tab,i===pn.Stake&&ib.active,g&&ib.tab_purple,"inactive"!==a&&ib.tab_purpleText),onMouseEnter:t.TF?void 0:F,onClick:()=>{V(pn.Stake,F)}},he.createElement(xm,{play:P,size:e.lk4,speed:2,className:ib.tabIcon,key:H,color:H,nonInteractive:!0,forceOnHeavyAnimation:!0,tgsUrl:U["inactive"!==a?"iconEarnPurple":"iconEarn"],iconPreviewClass:ps("icon-action-earn","inactive"!==a&&ib.tab_purpleText),onEnded:R}),he.createElement("span",{className:ib.tabText},h({inactive:"Earn",active:"Earning",unstakeRequested:"$unstaking_short"}[a])),he.createElement("span",{className:ib.tabDecoration,"aria-hidden":!0}),he.createElement("span",{className:ib.tabDelimiter,"aria-hidden":!0}))),he.createElement("div",{className:ps(ib.contentHeader,i===pn.Receive&&ib.firstActive,N&&ib.lastActive)},he.createElement("div",{className:ps(ib.contentHeaderInner,g&&ib.contentSlideStaked)})),v,he.createElement(gp,{ref:w,name:"slideFade",activeKey:i,renderCount:sb.length,className:ps(ib.transitionContent,"static-container")},$))}))),db="f9uDJdvE",ub="iQddp8Ac",mb=pe((function(t){let{isTestnet:n,stakingStatus:a,onEarnClick:o,isLedger:r,isSwapDisabled:i,isOnRampDisabled:s}=t;const{startTransfer:l,startSwap:c,openReceiveModal:d}=He(),u=vs(),m=!n&&!r&&!i,p=!n&&!s,f=!n&&!e.OuE,h=e.TI6?"Receive":m||p?"Add / Buy":"Add",g=$r((()=>{tr(),c()})),v=$r((()=>{tr(),l({isPortrait:!0})})),w=$r((()=>{tr(),d()})),y=$r((()=>{tr(),o()}));return he.createElement("div",{className:"oAYeit4x"},he.createElement("div",{className:"Xw7VtigI"},he.createElement(ec,{isSimple:!0,className:db,onClick:w},he.createElement("i",{className:ps(ub,"icon-action-add"),"aria-hidden":!0}),u(h)),he.createElement(ec,{isSimple:!0,className:db,onClick:v},he.createElement("i",{className:ps(ub,"icon-action-send"),"aria-hidden":!0}),u("Send")),m&&he.createElement(ec,{isSimple:!0,className:db,onClick:g},he.createElement("i",{className:ps(ub,"icon-action-swap"),"aria-hidden":!0}),u("Swap")),f&&he.createElement(ec,{isSimple:!0,className:ps(db,"inactive"!==a&&"DSist0sY"),onClick:y},he.createElement("i",{className:ps(ub,"icon-action-earn"),"aria-hidden":!0}),u({inactive:"Earn",active:"Earning",unstakeRequested:"$unstaking_short"}[a]))))})),pb={containerWrapper:"wKxh3a3S",isLoading:"iGGNu8pc",center:"JhiFICIH",container:"DeiKNEF2",backstage:"Z0VKHxKs",tokenCard:"lPzc1tFZ",containerInner:"CJuAKeNp",balanceTransition:"Q_lPdCwD",primaryValue:"_jSits6S",primaryFractionPart:"L4sI_b_K",iconCaret:"S_WiTJlv",iconCaretSmall:"AyZvbJo1",iconCaretFraction:"UPrAgVuY",currencySwitcher:"JRDSCLUm",addressContainer:"Hscx8f3y",address:"xtFe1Hpt",icon:"Z4odaM4f",menuItem:"DYEcCh8V",menuIcon:"reCfAfE0",menuItemName:"XG4JwTZX",menuFontIcon:"SR492iSb",menuExplorerIcon:"F5fuBEwJ",explorerButton:"a6nY4qXV",changeSpoiler:"u3xBtJOM",blurred:"VWmNqmzU",change:"p0ADnah2",changeCourseUp:"_4aE_WOLG",changeCourseDown:"YOGTFZhO",tokenInfo:"bGU6MKkV",tokenLogo:"KjXvLECZ",tokenInfoHeader:"JX6roGM_",tokenInfoSubheader:"RxOFnjoX",tokenAmount:"eIbQBxJS",tokenName:"BnrECUAN",tokenValue:"FJv4OzYN",tokenChange:"GGm5XDND",tokenChangeSensitiveData:"f4V9saRa",tokenChangeSpoiler:"_12taTXqz",tokenTitle:"RmC9TfSK",tokenHistoryPrice:"_4dlU8cE",tokenCurrentPrice:"gV90_PgX",tokenPriceDate:"iPGWJEAe",apy:"NuM0o0NU",tokenExplorerButton:"OG4bpDUn",chart:"lKplVEJ6",chartImg:"RidGreTo",backButton:"rzhYg9wP",periodChooser:"fJhqjFVE",periodChooserHidden:"xPL1t22b",periodItem:"il0Zz8yE",periodItem_active:"fcYKEjig",periodItemActive:"fcYKEjig",periodInput:"PIahT0n2",dapp:"LHIzI0Gu",dappIcon:"dwmUjn3W",loadingDotsContainer:"iRUbIPAX",cardCustomBackground:"A2ptDHpn",visible:"aEg2wczx",black:"ah_6og0J",platinum:"nnklDXWY",gold:"c4y77fMq",silver:"M9_HMKD7",borderShine_down:"VoOVf4tq",borderShineDown:"VoOVf4tq",borderShine_left:"dWc8MTsx",borderShineLeft:"dWc8MTsx",borderShine_up:"k8VOGUyt",borderShineUp:"k8VOGUyt",borderShine_right:"tqABUy73",borderShineRight:"tqABUy73"};function fb(e,t){const n=(0,s.dU)(null!=t?t:[],"tokenSlug"),a=e.reduce(((e,t)=>{const a=n[t.slug];if(a){let n=(0,wt.CF)(a.balance,t.decimals);"jetton"===a.type&&(n=n.plus((0,wt.CF)(a.unclaimedRewards,t.decimals))),e=e.plus(n.mul(t.price))}return e.plus(t.totalValue)}),(0,yt.z)(0)),[o,r]=hr(a).split("."),i=e.reduce(((e,t)=>{return e.plus((n=t.totalValue,a=t.change24h,n=(0,yt.z)(n),a=(0,yt.z)(a),n.minus(n.div(a.plus(1)))));var n,a}),(0,yt.z)(0)).round(4).toNumber(),l=Ws(a?i/(a.toNumber()-i)*100:0,2),c=l>0?pb.changeCourseUp:l<0?pb.changeCourseDown:void 0,d=i>0?"↑":i<0?"↓":void 0;return{primaryValue:a.toString(),primaryWholePart:o,primaryFractionPart:r,changeClassName:c,changePrefix:d,changePercent:l,changeValue:i}}function hb(e){const{mtwCardType:t,mtwCardTextType:n}=(null==e?void 0:e.metadata)||{};return"gold"===t?"cardGoldText":"silver"===t||"dark"===n?"cardDarkText":"cardLightText"}function gb(e){const[t,n]=ie(!1);return sf((()=>{if(!e)return void n(!1);const t=Date.now()-e;n(t>2e3)}),1e3,!1),t}const vb=pe($e((e=>{const t=Ze(e),{config:n}=Ze(e)||{};return{hasCardsInfo:Boolean(null==n?void 0:n.cardsInfo),isCardMinting:null==t?void 0:t.isCardMinting}}))((function(t){let{isCardMinting:n,hasCardsInfo:a}=t;const{openMintCardModal:o}=He(),r=vs(),{shouldRender:i,transitionClassNames:s}=ws(a||n);if(i)return he.createElement("button",{type:"button",className:ps("XUXxtxF8",s),"aria-label":r("Mint Cards"),title:r("Mint Cards"),onClick:()=>o()},he.createElement("i",{className:n?"icon-magic-wand-loading":"icon-magic-wand","aria-hidden":!0}),n&&he.createElement(xm,{play:!0,size:e.wg4,className:"uN651IGD",nonInteractive:!0,noLoop:!1,tgsUrl:Ju.clockWhite,previewUrl:Ju.clockWhitePreview}))})));let wb=0;const yb=(0,c.Fe)((()=>{wb=0})),bb=pe((t=>{let{text:n,isDisabled:a}=t;const o=Me().settings.animationLevel,{isRtl:r}=vs(),i=Bl(n),s=ge(),l=!(!(!a&&o===e.zP3&&void 0!==i&&i!==n)||wb>=10||(0===wb&&yb(),wb++,0)),c=de((()=>l?function(e,t){var n;const a=[],o=e.length,r=null!==(n=null==t?void 0:t.length)&&void 0!==n?n:0;for(let n=0;n<=o;n++){const c=o-n,d=r-n;var i,s,l;t&&d>=0&&e[c]!==t[d]?a.unshift(he.createElement("div",{className:"o6dPPa5S"},he.createElement("div",{className:"wT7hwE_a"},null!==(i=e[c])&&void 0!==i?i:""),he.createElement("div",{className:"pSP5fUMh"},t[d]),he.createElement("div",{className:"FtEeojTc"},null!==(s=e[c])&&void 0!==s?s:""))):a.unshift(he.createElement("span",null,null!==(l=e[c])&&void 0!==l?l:""))}return a}(n,i):n),[l,i,n]);return le((()=>{if(!l)return;const e=window.setTimeout((()=>{s()}),200);return()=>{window.clearTimeout(e)}}),[l,n]),he.createElement("span",{className:!a&&"UizaBW8F",dir:r?"rtl":void 0},c)})),Eb=pe($e((e=>{const{isFullscreen:t,shouldForceAccountEdit:n,walletVersions:a,settings:{isAppLockEnabled:o,byAccountId:r,isSensitiveDataHidden:i}}=e,s=Ge(e),l=e.currentAccountId;return{currentAccountId:l,currentAccount:null==s?void 0:s[l],accounts:s,shouldForceAccountEdit:n,currentWalletVersion:null==a?void 0:a.currentVersion,isAppLockEnabled:o,settingsByAccountId:r,isFullscreen:t,isSensitiveDataHidden:i}}),((e,t,n)=>n(e.currentAccountId)))((function(e){let{currentAccountId:n,currentAccount:a,canEdit:o,forceClose:r,accountClassName:i,accountSelectorClassName:s,menuButtonClassName:l,noSettingsButton:c,withAccountSelector:d,accounts:u,isInsideSticky:m,shouldForceAccountEdit:p,currentWalletVersion:f,isAppLockEnabled:h,isFullscreen:g,isSensitiveDataHidden:v,settingsByAccountId:w}=e;const{switchAccount:y,renameAccount:b,openAddAccountModal:E,openSettings:k,requestOpenQrScanner:C,openSettingsWithState:N,setIsManualLockActive:S,setIsSensitiveDataHidden:A}=He(),T=me(null),I=me(null),B=vs(),[_,x,L]=Rd(!1),[D,O,P]=Rd(p),{shouldRender:F,transitionClassNames:R}=ws(_&&!D,void 0,void 0,"slow"),[M,U]=ie((null==a?void 0:a.title)||""),H=Hy(),W=Boolean(null==a?void 0:a.addressByChain.tron),$=c||m&&H,V=!("W5"===f||null!=a&&a.isHardware||W),z=de((()=>Object.keys(u||{}).length),[u]);le((()=>{_&&r&&L()}),[r,_]),vl((e=>{let[t]=e;t&&!p&&P()}),[p]),le((()=>F?Ih(L):void 0),[L,_,F]),le((()=>D?Ih(P):void 0),[P,D]),le((()=>F&&T.current?nl(T.current):void 0),[F]),Zu(I,!D),le((()=>{D&&U((null==a?void 0:a.title)||"")}),[null==a?void 0:a.title,D]);const q=$r((()=>{A({isHidden:!v})})),K=$r((e=>{tr(),L(),y({accountId:e})})),j=$r((()=>{b({accountId:n,title:M.trim()}),L(),P()})),Y=$r((()=>{tr(),L(),E()}));le((()=>{D&&m&&j()}),[D,m]);const G=$r((()=>{tr(),L(),N({state:un.WalletVersion})})),Q=$r((e=>{"Enter"===e.code?j():U(e.currentTarget.value)})),X=$r((()=>{C(),L()})),J=$r((()=>{var e,t;g?null===(e=ya())||void 0===e||e.exitFullscreen():null===(t=ya())||void 0===t||t.requestFullscreen()})),Z=$r((()=>{S({isActive:!0,shouldHideBiometrics:!0})})),ee=ps("PpBNJGXa",R,s),te=ps("OmlnPb32",d&&"Fldd4MBh",i,H&&!$&&"qroBIVHK");return he.createElement(he.Fragment,null,!D&&he.createElement(he.Fragment,null,he.createElement("div",{className:te,onClick:d?()=>{x()}:void 0},he.createElement("span",{className:"YGITDXg2"},(null==a?void 0:a.title)||xt((null==a||null===(ne=a.addressByChain)||void 0===ne?void 0:ne.ton)||"")),d&&he.createElement("i",{className:ps("icon icon-caret-down","npqBgt0Z"),"aria-hidden":!0})),he.createElement("div",{className:ps("vqWRGYSE",m&&"W68g0iId")},!m&&he.createElement(ec,{className:ps(vh,l),isText:!0,isSimple:!0,kind:"transparent",ariaLabel:B(v?"Show Sensitive Data":"Hide Sensitive Data"),onClick:q},he.createElement("i",{className:v?"icon-eye":"icon-eye-closed","aria-hidden":!0})),h&&he.createElement(ec,{className:ps(vh,l),isText:!0,isSimple:!0,kind:"transparent",ariaLabel:B("App Lock"),onClick:Z},he.createElement("i",{className:"icon-manual-lock","aria-hidden":!0})),!$&&he.createElement(ec,{className:ps(vh,l),isText:!0,isSimple:!0,kind:"transparent",ariaLabel:B("Main menu"),onClick:k},he.createElement("i",{className:"icon-cog","aria-hidden":!0})),H&&he.createElement(ec,{className:ps(vh,l),isText:!0,isSimple:!0,kind:"transparent",ariaLabel:B("Scan QR Code"),onClick:X},he.createElement("i",{className:"icon-qr-scanner","aria-hidden":!0})),(0,t.v3)()&&he.createElement(ec,{className:ps(vh,l),isText:!0,isSimple:!0,kind:"transparent",ariaLabel:B("Toggle fullscreen"),onClick:J},he.createElement("i",{className:g?"icon-fullscreen-exit":"icon-fullscreen","aria-hidden":!0})))),D&&!m&&he.createElement("div",{className:ps("XNPgjyNM","account-edit-input")},he.createElement("input",{ref:I,className:"b5kkV6B7",value:M,onKeyDown:Q,onChange:e=>U(e.target.value)}),he.createElement(ec,{isSimple:!0,className:"BIi0915d",onClick:j},B("Done"))),F&&function(){const e=ps("rSsbSpKy",z<=2&&"aMGXe7oo");return he.createElement("div",{ref:T,className:ee,tabIndex:-1,role:"dialog"},he.createElement("div",{className:"qHXAdLTy",onClick:()=>L()}),he.createElement("div",{className:e},u&&Object.entries(u).map((e=>{let[t,{title:a,addressByChain:r,isHardware:i}]=e;return function(e,t,a,r){const{cardBackgroundNft:i}=(null==w?void 0:w[e])||{};return he.createElement(bh,{key:e,accountId:e,addressByChain:t,isHardware:a,isActive:e===n,title:r,canEditAccount:o,cardBackgroundNft:i,onClick:K,onEdit:O})}(t,r,i,a)})),V&&he.createElement(ec,{className:wh,onClick:G},B("Switch to W5"),he.createElement("i",{className:ps(yh,"icon-versions"),"aria-hidden":!0})),he.createElement(ec,{className:wh,onClick:Y},B("Add Wallet"),he.createElement("i",{className:ps(yh,"icon-plus"),"aria-hidden":!0}))))}());var ne}))),kb=pe($e((e=>{const{addressByChain:t,isHardware:n}=Je(e,e.currentAccountId)||{};return{addressByChain:t,isTestnet:e.settings.isTestnet,isHardwareAccount:n}}))((function(e){let{addressByChain:t,isTestnet:n,isHardwareAccount:a,withTextGradient:o}=e;const{showNotification:r}=He(),i=vs(),[s,l,c]=Rd(!1),d=de((()=>Object.keys(t||{})),[t]),u=i("View on Explorer"),m=de((()=>{if(!(d.length<2))return d.map((e=>({value:t[e],name:xt(t[e]),icon:Ov(e),fontIcon:"copy",chain:e,label:i("View address on %ton_explorer_name%",{ton_explorer_name:Ya(e)}).join("")})))}),[t,d,i]),p=$r((e=>{r({message:i("Address was copied!"),icon:"icon-copy"}),rr(e)})),f=$r(((e,t)=>{p(t),c()})),h=$r(((e,t,a)=>{to(Xa(t,a,n)),c()}));if(m)return he.createElement("div",{className:pb.addressContainer},he.createElement("button",{type:"button",className:ps(pb.address,o&&"gradientText"),onClick:()=>l()},he.createElement("span",{className:ps(pb.itemName,"itemName")},i("Multichain")),he.createElement("i",{className:ps(pb.icon,"icon-caret-down"),"aria-hidden":!0})),he.createElement(xh,{isOpen:s,type:"dropdown",onClose:c},m.map(((e,t)=>{const n=ps(Lh.button,t>0&&Lh.separator,pb.menuItem);return he.createElement("div",{key:e.value,className:n},he.createElement("img",{src:e.icon,alt:"",className:ps("icon",Lh.itemIcon,pb.menuIcon)}),he.createElement("span",{className:ps(Lh.itemName,pb.menuItemName),tabIndex:0,role:"button",onClick:t=>f(t,e.value)},e.name,he.createElement("i",{className:ps(`icon icon-${e.fontIcon}`,Lh.fontIcon,pb.menuFontIcon),"aria-hidden":!0})),he.createElement("i",{tabIndex:0,role:"button",className:ps(Lh.close,"icon icon-tonexplorer-small",pb.menuExplorerIcon),"aria-label":e.label,onClick:t=>h(t,e.chain,e.value)}))}))));const g=d[0];return g?he.createElement("div",{className:pb.addressContainer},a&&he.createElement("i",{className:ps(pb.icon,"icon-ledger"),"aria-hidden":!0}),he.createElement("button",{type:"button",className:ps(pb.address,o&&"gradientText"),"aria-label":i("Copy wallet address"),onClick:()=>p(t[g])},xt(t[g]),he.createElement("i",{className:ps(pb.icon,"icon-copy"),"aria-hidden":!0})),he.createElement("a",{href:Xa(g,t[g],n),className:pb.explorerButton,title:u,"aria-label":u,target:"_blank",rel:"noreferrer noopener"},he.createElement("i",{className:ps(pb.icon,"icon-tonexplorer-small"),"aria-hidden":!0}))):void 0}))),Cb=pe($e((e=>({currentCurrency:e.settings.baseCurrency})))((function(t){let{isOpen:n,currentCurrency:a,excludedCurrency:o,menuPositionHorizontal:r,onClose:i,onChange:s}=t;const{changeBaseCurrency:l}=He(),c=de((()=>e.PiQ.filter((e=>e.value!==o))),[o]),d=$r((e=>{i(),e!==a&&(l({currency:e}),null==s||s(e))}));return he.createElement(Dh,{isOpen:n,onClose:i,items:c,shouldTranslateOptions:!0,selectedValue:a,menuPositionHorizontal:r,onSelect:d})})));function Nb(t){const{result:n}=((e,t,n)=>{const[a,o]=ie(!1),[r,i]=ie(),[s,l]=ie(n);return le((()=>{o(!0);let t=!1;return e().then((e=>{t||(o(!1),l(e))}),(e=>{t||(o(!1),i(e))})),()=>{t=!0}}),t),{isLoading:a,error:r,result:s}})((()=>t?async function(t){const n=await caches.open(e.F9m),a=await n.match(t);if(a){const e=await a.blob();return URL.createObjectURL(e)}const o=await fetch(t);if(!o.ok)throw new Error(`Image loading error: ${o.statusText}. URL: ${t}`);await n.put(t,o.clone());const r=await o.blob();return URL.createObjectURL(r)}(t):Promise.resolve(void 0)),[t]);return le((()=>n?()=>{URL.revokeObjectURL(n)}:void 0),[n]),{imageUrl:n}}const Sb={root:"UUXTSSNb",sticky:"GydVN6zu",image:"GnuUYTcY",borderShine_down:"eZtdmQCz",borderShineDown:"eZtdmQCz",borderShine_left:"u_5j0LEw",borderShineLeft:"u_5j0LEw",borderShine_up:"DBu8v2wg",borderShineUp:"DBu8v2wg",borderShine_right:"iOyJF5OB",borderShineRight:"iOyJF5OB",borderShine_radioactive:"omctwMWw",borderShineRadioactive:"omctwMWw",shadow:"rm7OVuVh"},Ab=pe((function(e){var t;let{isSticky:n,nft:a,noShowAnimation:o,shouldHide:r,onLoad:i,onTransitionEnd:s}=e;const{imageUrl:l}=Nb(a?eo(a):void 0),[c,d]=Rd(),u=Vd(o||c&&!r),{borderShineType:m,withTextGradient:p,classNames:f}=gh(a),h=ps(Sb.root,n&&Sb.sticky,f,m&&Sb[`borderShine_${m}`],c&&!r&&Sb.loaded,r&&Sb.hide),g="standard"===(null===(t=a.metadata)||void 0===t?void 0:t.mtwCardType);return he.createElement("div",{className:ps(h,u),onTransitionEnd:s},l&&he.createElement("img",{src:l,alt:a.name,className:Sb.image,onLoad:function(){d(),null==i||i(p,f)}}),g&&he.createElement("div",{className:Sb.shadow}))})),Tb=pe((function(e){let{isSticky:t,nft:n,onCardChange:a}=e;const o=me(void 0),r=ge();((e,t)=>{const n=me();_l((()=>{const a=n.current;return n.current=t,e(a||[])}),t)})((e=>{let[t,r]=e;(null==n?void 0:n.address)!==r&&(o.current=t),n||a(!1,void 0)}),[n,null==n?void 0:n.address]);const i=o.current,s=me(!0),l=n&&s.current;s.current=!1;const c=$r((()=>{o.current=void 0,r()}));return he.createElement("div",{teactFastList:!0},i&&he.createElement(Ab,{key:i.address,isSticky:t,nft:i,shouldHide:!n,onTransitionEnd:c}),n&&he.createElement(Ab,{key:n.address,isSticky:t,nft:n,noShowAnimation:l,onLoad:a,onTransitionEnd:c}))})),Ib={green:[80,135,51],orange:[173,84,54],pink:[154,60,144],purple:[104,48,149],red:[156,52,75],sea:[43,116,123],tegro:[3,93,229],blue:[47,108,173]},Bb={[e.Tu9.slug]:"blue",[e.X7T.slug]:"red",[e.QSz]:"green",[e.vsz]:"green",[e.Bqy]:"green"};const _b=pe((function(e){let{width:t,height:n,prices:a,selectedIndex:o,className:r,imgClassName:i,onSelectIndex:s,isUpdating:l}=e;const c=vs(),d=de((()=>{const e=a.map((e=>{let[,t]=e;return t})),t=Math.min(...e),n=Math.max(...e);return{width:a.length-1,height:Math.max(1e-9,n-t),min:t}}),[a]),u=de((()=>{const e=t/d.width,o=n/d.height;return a.map(((t,n)=>{let[,a]=t;return{x:n*e+3,y:(a-d.min)*o+3}}))}),[d.height,d.min,d.width,n,t,a]);function m(e){const t=u.length-1,n=e<0?0:e>t?t:e,a=u[n],o=.9999,r=n/t,i=u[0],s=u[t].x-i.x,l=u[t].y-i.y;return{x:o*a.x+(1-o)*(i.x+r*s),y:o*a.y+(1-o)*(i.y+r*l)}}function p(e){const t=m(e),n=m(e-1),a=m(e-2);return`C ${(2*a.x+n.x)/3} ${(2*a.y+n.y)/3} ${(a.x+2*n.x)/3} ${(a.y+2*n.y)/3} ${(a.x+4*n.x+t.x)/6} ${(a.y+4*n.y+t.y)/6}`}function f(e){const{x:t,width:n}=e.currentTarget.getBoundingClientRect(),{clientX:a}="touches"in e?e.touches[0]:e,o=a-t-n/u.length/2,r=Math.max(0,Math.min(Math.round(u.length*(o/n)),u.length-1));s(r)}function h(){s(-1),Sa()}return he.createElement("div",{className:r,onMouseMove:f,onMouseLeave:h,onTouchStart:function(e){f(e),Na()},onTouchMove:f,onTouchEnd:h,onTouchCancel:h},he.createElement(gp,{activeKey:l?1:0,name:"semiFade",shouldCleanup:!0},he.createElement("img",{src:function(){const e=u[o]||u[u.length-1];return`data:image/svg+xml;utf8,<svg viewBox="0 0 ${t+6} ${n+6}" height="${n+6}" width="${t+6}"\n        xmlns="http://www.w3.org/2000/svg" style="transform: scale(1,-1)">\n        <g fill="none" stroke="white">\n          <path stroke-linejoin="round" stroke-width="1.5" d="${function(){let e=u.reduce(((e,t,n)=>{const a=p(n);return 0===n?`M ${t.x} ${t.y} `:`${e} ${a} `}),"");return e+=p(u.length),e+=`L ${(t=u[u.length-1]).x} ${t.y}`,e;var t}()}" style="stroke-linecap: round" />\n          <circle r="2.5" fill="white" cx="${e.x}" cy="${e.y}" />\n        </g>\n      </svg>`}(),className:ps(i,l&&"glare-image"),alt:c("Currency History")})))})),xb=e.Kfi.map((e=>({value:e,name:"ALL"===e?"All":e}))),Lb=pe($e((e=>{const t=Ze(e);return{currentPeriod:null==t?void 0:t.currentTokenPeriod}}))((function(e){let{isOpen:t,currentPeriod:n,onClose:a,onChange:o}=e;const{setCurrentTokenPeriod:r}=He(),i=$r((e=>{a(),e!==n&&(tr(),r({period:e}),null==o||o(e))}));return he.createElement(Dh,{isOpen:t,onClose:a,items:xb,className:"Lfs6oB99",bubbleClassName:"EJsuJXfx",buttonClassName:"J7O_MmwF",selectedValue:n,menuPositionHorizontal:"right",onSelect:i})}))),Db=i.p+"ton.93b235d12cedc24e0b6b.svg",Ob=12e4,Pb=5*Xn.Z2,Fb=e.Kfi[0],Rb=pe($e(((e,t)=>{var n;const a=t.token.slug,o=Ze(e),r=null===(n=e.tokenInfo.bySlug[a])||void 0===n?void 0:n.tokenAddress,i=$n(e,e.currentAccountId);return{isTestnet:e.settings.isTestnet,period:null==o?void 0:o.currentTokenPeriod,baseCurrency:e.settings.baseCurrency,historyPeriods:e.tokenPriceHistory.bySlug[t.token.slug],tokenAddress:r,stakingStates:i,isSensitiveDataHidden:e.settings.isSensitiveDataHidden}}))((function(n){var a,o,r;let{isTestnet:i,token:s,classNames:l,period:c=Fb,isUpdating:d,baseCurrency:u,historyPeriods:m,tokenAddress:p,stakingStates:f,isSensitiveDataHidden:h,onYieldClick:g,onClose:v}=n;const{loadPriceHistory:w}=He(),y=vs(),b=ge(),[E,k,C]=Rd(!1),[N,S,A]=Rd(!1),T=void 0===u||u===s.symbol,I=br(T?e.wOb:u),[B,_]=ie(-1);_l((e=>{let[n]=e;t.pz&&void 0!==n&&tr()}),[B]);const{slug:x,symbol:L,amount:D,image:O,name:P,price:F,decimals:R}=s,{annualYield:M,yieldType:U,id:H}=null!==(a=de((()=>{if(!e.TI6)return null==f?void 0:f.reduce(((e,t)=>t.tokenSlug===x&&(!e||t.balance>e.balance)?t:e),void 0)}),[f,x]))&&void 0!==a?a:{},W=x===e.Tu9.slug?Db:O||Os[L.toLowerCase()],$=$r((e=>{w({slug:x,period:null!=e?e:c})})),V=$r((e=>{w({slug:x,period:c,currency:e})}));sf($,Pb);const z=null==m?void 0:m[c],q=null!=z&&z.length?1e3*z[z.length-1][0]:void 0,K=null!=z&&z.length?z[z.length-1][1]:F,j=null==z?void 0:z[B],Y=null!==(o=null!==(r=null==j?void 0:j[1])&&void 0!==r?r:T?K:void 0)&&void 0!==o?o:F,G=h?F:Y,Q=!q||Date.now()-q>Ob,X=j?(0,Xn.mf)(y.code,1e3*j[0],!0,!0):Q&&q?(0,Xn.mf)(y.code,q,!0,!1):y("Now");lf(b,Q?void 0:Ob,[q]);const J=de((()=>{var e;return null==z||null===(e=z.find((e=>{let[,t]=e;return Boolean(t)})))||void 0===e?void 0:e[1]}),[z]),Z=J&&Y?Y-J:0,ee=J&&G?G-J:0,te=(0,wt.CF)(D,R).mul(Y).toString(),ne=void 0===Z?Z:Z>0?"↑":Z<0?"↓":0,ae=ee?Math.abs(bt(ee,4)):0,oe=Z?Math.abs(bt(Z/J*100,2)):0,re=Boolean(void 0!==Z),se=null!=z&&z.length?new Date(1e3*z[0][0]):void 0,le=Boolean(s.cmcSlug||p),ce=!(null!=z&&z.length)&&0===s.priceUsd,ue=de((()=>function(e){let t="blue",n=1/0;if(!e)return t;if(Bb[e.slug])return Bb[e.slug];if(!e.color)return t;const a=hm(e.color);return Object.entries(Ib).forEach((e=>{let[o,r]=e;const i=function(e,t){const[n,a,o]=gm(e),[r,i,s]=gm(t),l=Math.sqrt(a*a+o*o),c=l-Math.sqrt(i*i+s*s),d=a-i,u=o-s,m=(n-r)/1,p=c/(1+.045*l),f=Math.sqrt(d*d+u*u-c*c)/(1+.015*l);return Math.sqrt(m*m+p*p+f*f)}(a,r);i<n&&(n=i,t=o)})),n>35?"blue":t}(s)),[s]);return he.createElement("div",{className:ps(pb.container,pb.tokenCard,l,ue,"token-card")},he.createElement("div",{className:pb.tokenInfo},he.createElement(ec,{className:pb.backButton,isSimple:!0,onClick:v,ariaLabel:y("Back")},he.createElement("i",{className:"icon-chevron-left","aria-hidden":!0})),he.createElement("img",{className:pb.tokenLogo,src:W,alt:s.name}),he.createElement("div",{className:pb.tokenInfoHeader},he.createElement("b",{className:pb.tokenAmount},he.createElement(Xv,{isActive:h,maskSkin:"cardLightText",cols:10,rows:2,cellSize:8},gr((0,wt.nI)(D,s.decimals),L))),re&&he.createElement("div",{className:pb.tokenValue},he.createElement(Xv,{isActive:h,maskSkin:"cardLightText",align:"right",cols:10,rows:2,cellSize:8},he.createElement("div",{className:pb.currencySwitcher,role:"button",tabIndex:0,onClick:k},"≈ ",gr(te,I,void 0,!0),he.createElement("i",{className:ps("icon","icon-caret-down",pb.iconCaretSmall),"aria-hidden":!0})),he.createElement(Cb,{isOpen:E,menuPositionHorizontal:"right",excludedCurrency:s.symbol,onClose:C,onChange:V})))),he.createElement("div",{className:pb.tokenInfoSubheader},he.createElement("span",{className:pb.tokenTitle},he.createElement("span",{className:pb.tokenName},P),U&&he.createElement("span",{className:pb.apy,onClick:()=>g(H)},U," ",M,"%")),re&&Boolean(ae)&&he.createElement("div",{className:pb.tokenChange},ne," ",Math.abs(oe),"% ·",he.createElement(Xv,{isActive:h,align:"right",maskSkin:"cardLightText",cols:6,rows:2,cellSize:8,className:pb.tokenChangeSensitiveData,maskClassName:pb.tokenChangeSpoiler},gr(Math.abs(ae),I))))),he.createElement(gp,{activeKey:z?z.length?e.Kfi.indexOf(c)+1:-1:0,name:"fade"},z?null!=z&&z.length?he.createElement(he.Fragment,null,he.createElement(_b,{className:pb.chart,imgClassName:pb.chartImg,width:300,height:64,prices:z,selectedIndex:B,onSelectIndex:_,isUpdating:d}),he.createElement("div",{className:pb.tokenHistoryPrice},gr(z[0][1],I,2,!0),he.createElement("div",{className:pb.tokenPriceDate},(0,Xn.mf)(y.code,se)))):void 0:he.createElement("div",{className:ps(pb.isLoading)},he.createElement(Ph,{color:"white",className:pb.center}))),he.createElement("span",{className:ps(pb.periodChooser,ce&&pb.periodChooserHidden),role:"button",tabIndex:0,onClick:S},"ALL"===c?"All":c,he.createElement("i",{className:ps("icon","icon-caret-down",pb.iconCaretSmall),"aria-hidden":!0}),he.createElement(Lb,{isOpen:N,onChange:$,onClose:A})),he.createElement("div",{className:pb.tokenCurrentPrice},gr(Y,I,-1===B?2:4,!0),he.createElement("div",{className:pb.tokenPriceDate},X,le&&function(){const e=function(e,t,n,a){if(t||n)return n?function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Ka[e].explorer.replace("{base}",Ga(e,t))}(e,a).replace("{address}",n):`https://coinmarketcap.com/currencies/${t}/`}(s.chain,s.cmcSlug,p,i);if(!e)return;const t=y("Open on %ton_explorer_name%",{ton_explorer_name:Ya(s.chain)}).join("");return he.createElement(he.Fragment,null," · ",he.createElement("a",{href:e,title:t,"aria-label":t,target:"_blank",rel:"noreferrer",className:pb.tokenExplorerButton,onClick:no},he.createElement("i",{className:"icon-tonexplorer-small","aria-hidden":!0})))}())))}))),Mb=pe($e((e=>{const t=Ze(e),n=$n(e,e.currentAccountId),{cardBackgroundNft:a}=at(e)||{};return{tokens:kt(e),activeDappOrigin:null==t?void 0:t.activeDappOrigin,currentTokenSlug:null==t?void 0:t.currentTokenSlug,baseCurrency:e.settings.baseCurrency,stakingStates:n,balanceUpdateStartedAt:e.balanceUpdateStartedAt,cardNft:a,isSensitiveDataHidden:e.settings.isSensitiveDataHidden,isNftBuyingDisabled:e.restrictions.isNftBuyingDisabled}}),((e,t,n)=>n(e.currentAccountId)))((function(n){let{ref:a,tokens:o,activeDappOrigin:r,currentTokenSlug:i,forceCloseAccountSelector:s,onTokenCardClose:l,onYieldClick:c,baseCurrency:d,stakingStates:u,isSensitiveDataHidden:m,isNftBuyingDisabled:p,balanceUpdateStartedAt:f,cardNft:h}=n;const g=br(d),[v,w]=ie(void 0),[y,b]=ie(!1),{isPortrait:E}=po(),k=gb(f),[C,N,S]=Rd(!1),A=pf(de((()=>o?o.find((e=>e.slug===i)):void 0),[i,o]),!0),{shouldRender:T,transitionClassNames:I}=ws(Boolean(i),void 0,!0),B=hb(h),_=$r(((e,t)=>{w(t),b(e)})),x=de((()=>{if(!r)return;let e;try{e=new URL(r).hostname}catch(t){e=xt(r)}return e}),[r]),L=pf(x,!0),D=de((()=>o?fb(o,u):void 0),[o,u]),{shouldRender:O,transitionClassNames:P}=ws(Boolean(x)),F=e.hL1&&O;Ql({isActive:Boolean(i),onBack:l}),le((()=>T?Ih(l):void 0),[T,l]);const{primaryValue:R,primaryWholePart:M,primaryFractionPart:U,changeClassName:H,changePrefix:W,changePercent:$,changeValue:V}=D||{};return he.createElement("div",{ref:a,className:pb.containerWrapper},he.createElement(gp,{activeKey:k?1:0,name:"fade",shouldCleanup:!0,className:pb.loadingDotsContainer},k?he.createElement(Jl,{isActive:!0,isDoubled:!0}):void 0),he.createElement("div",{className:ps(pb.container,i&&pb.backstage,v)},he.createElement(Tb,{nft:h,onCardChange:_}),he.createElement("div",{className:ps(pb.containerInner,v)},he.createElement(Eb,{withAccountSelector:!e.TI6,noSettingsButton:E,accountClassName:ps(y&&"gradientText"),forceClose:s,canEdit:!e.TI6}),F&&he.createElement("div",{className:ps(pb.dapp,P)},he.createElement("i",{className:ps(pb.dappIcon,"icon-laptop"),"aria-hidden":!0}),L),D?function(){const e=ps("icon","icon-caret-down",U||g.length>1?pb.iconCaretFraction:pb.iconCaret),n=!k||t.Yw||t.pz;return he.createElement(he.Fragment,null,he.createElement(gp,{activeKey:k&&!m?1:0,name:"fade",shouldCleanup:!0,className:pb.balanceTransition},he.createElement(Xv,{isActive:m,maskSkin:B,rows:3,cols:14,cellSize:13.33,maskClassName:pb.blurred},he.createElement("div",{className:ps(pb.primaryValue,"rounded-font")},he.createElement("span",{className:ps(pb.currencySwitcher,k&&"glare-text",!k&&y&&"gradientText"),role:"button",tabIndex:0,onClick:N},1===g.length&&g,he.createElement(bb,{isDisabled:n,text:null!=M?M:""}),U&&he.createElement("span",{className:pb.primaryFractionPart},he.createElement(bb,{isDisabled:n,text:`.${U}`})),g.length>1&&he.createElement("span",{className:pb.primaryFractionPart}," ",g),he.createElement("i",{className:e,"aria-hidden":!0}))))),he.createElement(Cb,{isOpen:C,onClose:S}),"0"!==R&&he.createElement(Xv,{isActive:m,maskSkin:B,rows:2,cols:11,cellSize:12,className:pb.changeSpoiler,maskClassName:pb.blurred},he.createElement("div",{className:ps(pb.change,H,"rounded-font")},W," ",he.createElement(bb,{text:`${Math.abs($)}%`})," · ",he.createElement(bb,{text:gr(Math.abs(V),g)}))))}():he.createElement("div",{className:ps(pb.isLoading)},he.createElement(Ph,{color:"white",className:pb.center})),he.createElement(kb,{withTextGradient:y}),!e.TI6&&!p&&he.createElement(vb,null))),T&&he.createElement(Rb,{token:A,classNames:I,isUpdating:k,onYieldClick:c,onClose:l}))}))),Ub="kBYrVlBo",Hb=pe($e((e=>{const{cardBackgroundNft:t}=at(e)||{},n=$n(e,e.currentAccountId);return{tokens:kt(e),baseCurrency:e.settings.baseCurrency,cardNft:t,stakingStates:n,isSensitiveDataHidden:e.settings.isSensitiveDataHidden}}),((e,t,n)=>n(e.currentAccountId)))((function(n){let{classNames:a,tokens:o,baseCurrency:r,stakingStates:i,cardNft:s,isSensitiveDataHidden:l}=n;const[c,d]=ie(void 0),[u,m]=ie(!1),[p,f,h]=Rd(!1),g=de((()=>o?fb(o,i):void 0),[o,i]),v=$r(((e,t)=>{d(t),m(e)})),w=hb(s),y=br(r),{primaryWholePart:b,primaryFractionPart:E}=g||{},k=ps("icon","icon-caret-down","EDC1Bcor",E&&"uTPq0gij");return he.createElement("div",{className:"d8E3jNRv"},he.createElement("div",{className:ps("sWp81HgH",s&&"MHtSlPVW",a)},!e.TI6&&he.createElement(Tb,{isSticky:!0,nft:s,onCardChange:v}),he.createElement("div",{className:ps("duM9JHY8",c)},he.createElement(Eb,{isInsideSticky:!0,accountClassName:ps("NEB0Tl4P",u&&"gradientText"),accountSelectorClassName:"sticky-card-account-selector",menuButtonClassName:"ucgPS0OB",noSettingsButton:!0,withAccountSelector:!(t.cp&&t.MP||e.TI6)}),he.createElement("div",{className:"EDIvoE0D"},he.createElement(Xv,{isActive:l,shouldHoldSize:!0,align:"center",maskSkin:w,cols:10,rows:2,cellSize:9.5},he.createElement("span",{role:"button",tabIndex:0,className:ps("JdDnaL44",u&&"gradientText"),onClick:f},1===y.length&&y,b,E&&he.createElement("span",{className:Ub},".",E),y.length>1&&he.createElement("span",{className:Ub}," ",y),he.createElement("i",{className:k,"aria-hidden":!0})),he.createElement(Cb,{isOpen:p,onClose:h}))))))}))),Wb=pe((function(e){let{isOpen:t,selectedNftsToHide:n}=e;const{addNftsToBlacklist:a,closeNftCollection:o,closeHideNftModal:r}=He(),i=vs(),s=$r((()=>{a({addresses:n.addresses}),null!=n&&n.isCollection&&o(),r()}));return he.createElement(Yc,{isOpen:t,isCompact:!0,onClose:r,title:i("Hide NFTs")},he.createElement("p",{className:Vc.text},null!=n&&n.isCollection?i("Are you sure you want to hide this NFT collection containing %number% NFTs?",{number:null==n?void 0:n.addresses.length}):i("Are you sure you want to hide these %number% NFTs?",{number:null==n?void 0:n.addresses.length})),he.createElement("div",{className:Vc.buttons},he.createElement(ec,{onClick:r,className:Vc.button},i("Cancel")),he.createElement(ec,{isDestructive:!0,onClick:s,className:Vc.button},i("Hide"))))}));function $b(e,t,n,a){const{length:o}=e,r=a?e.indexOf(a):0,i=t===gn.Forwards?r:r+1||o,s=Math.max(0,i-n),l=i+n-1,c=e.slice(Math.max(0,s),l+1);let d,u;switch(t){case gn.Forwards:d=i>=0,u=s>=0;break;case gn.Backwards:d=i<o,u=l<=o-1}return{newViewportIds:c,areSomeLocal:d,areAllLocal:u,newIsOnTop:c[0]===e[0]}}const Vb=function(e,t){var n;let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30,r=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,l=arguments.length>6&&void 0!==arguments[6]&&arguments[6];const c=me(),d=me();if(!d.current&&t&&!a){const{newViewportIds:e,newIsOnTop:n}=$b(t,gn.Forwards,o,t[0]);d.current={viewportIds:e,isOnTop:n}}const u=ge();a&&(c.current={});const m=tv(r),p=$r((()=>{if(null==t||!t.length)return;const{newViewportIds:e,newIsOnTop:n}=$b(t,gn.Forwards,o,t[0]);d.current={viewportIds:e,isOnTop:n},c.current={}}));_l((()=>{(r!==m||l&&!i)&&p()}),[i,m,r,l]);const f=Bl(t),h=Bl(a);if(!t||a||t===f&&a===h)t||(d.current=void 0);else{const{viewportIds:e,isOnTop:n}=d.current||{},a=e&&!n?e[Math.round(e.length/2)]:void 0,r=a&&t.includes(a)?a:t[0],{offsetId:i=r,direction:l=gn.Forwards}=c.current||{},{newViewportIds:u,newIsOnTop:m}=$b(t,l,o,i);c.current={},e&&(0,s.k)(e,u)||(d.current={viewportIds:u,isOnTop:m})}const g=$r((n=>{let{direction:a}=n;if(!i)return;const{viewportIds:r}=d.current||{},l=r?a===gn.Backwards?r[r.length-1]:r[0]:void 0;if(c.current={direction:a,offsetId:l},!t)return void(e&&e({offsetId:l}));const{newViewportIds:m,areSomeLocal:p,areAllLocal:f,newIsOnTop:h}=$b(t,a,o,l);!p||r&&(0,s.k)(r,m)||(d.current={viewportIds:m,isOnTop:h},u()),!f&&e&&e({offsetId:l})}));return a?[t]:[null===(n=d.current)||void 0===n?void 0:n.viewportIds,g,p]},zb=".ListItem",qb=20,Kb=800,jb=e=>{let{ref:n,style:a,className:o,items:r,itemSelector:i=zb,preloadBackwards:s=qb,sensitiveArea:l=Kb,withAbsolutePositioning:d,maxHeight:u,noScrollRestore:m=!1,noScrollRestoreOnTop:p=!1,noFastList:f,cacheBuster:h,beforeChildren:g,scrollContainerClosest:v,children:w,onLoadMore:y,onScroll:b,onWheel:E,onClick:C,onKeyDown:N,onDragOver:S,onDragLeave:A}=e,T=me(null);n&&(T=n);const I=me({}),[B,_]=de((()=>y?[(0,c.sg)((()=>{y({direction:gn.Backwards})}),Xn.Z2,!0,!1),(0,c.sg)((()=>{y({direction:gn.Forwards})}),Xn.Z2,!0,!1)]:[]),[y,r]);le((()=>{if(!B)return;if(s>0&&(!r||r.length<s))return void B();const e=v?T.current.closest(v):T.current,{scrollHeight:t,clientHeight:n}=e;n&&t<=n&&B()}),[r,B,s,v]),((e,t,n)=>{const a=me();ce((()=>{const n=a.current;return a.current=t,e(n||[])}),t,n)})((e=>{let[n]=e;const a=v?T.current.closest(v):T.current,o=I.current,r=a.querySelectorAll(i);o.listItemElements=r,null!=n&&n.length&&(0,k.gm)((()=>{let e;if(o.currentAnchor&&Array.from(r).includes(o.currentAnchor)){const{scrollTop:t}=a,n=o.currentAnchor.getBoundingClientRect().top;e=t+(n-o.currentAnchorTop)}else{const e=r[0];e&&(o.currentAnchor=e,o.currentAnchorTop=e.getBoundingClientRect().top)}if(d||m)return;const{scrollTop:n}=a;return p&&0===n?void 0:()=>{((e,n)=>{t.pz&&(e.style.overflow="hidden"),void 0!==n&&(e.scrollTop=n),t.pz&&(e.style.overflow="")})(a,e),o.isScrollTopJustUpdated=!0}}))}),[r,i,m,p,h,d,v]);const x=$r((e=>{if(_&&B){const{isScrollTopJustUpdated:e,currentAnchor:t,currentAnchorTop:n}=I.current,a=I.current.listItemElements;if(e)return void(I.current.isScrollTopJustUpdated=!1);const o=a.length,r=v?T.current.closest(v):T.current,{scrollTop:i,scrollHeight:s,offsetHeight:c}=r,d=i<=(o?a[0].offsetTop:0)+l,u=(o?a[o-1].offsetTop+a[o-1].offsetHeight:s)-(i+c)<=l;let m=!1;if(d){const e=a[0];if(e){const a=e.getBoundingClientRect().top,o=null!=t&&t.offsetParent&&t!==e?t.getBoundingClientRect().top:a;t&&void 0!==n&&o>n&&(I.current.currentAnchor=e,I.current.currentAnchorTop=a,m=!0,_())}}if(u){const e=a[o-1];if(e){const a=e.getBoundingClientRect().top,o=null!=t&&t.offsetParent&&t!==e?t.getBoundingClientRect().top:a;t&&void 0!==n&&o<n&&(I.current.currentAnchor=e,I.current.currentAnchorTop=a,m=!0,B())}}if(!m)if(null!=t&&t.offsetParent)I.current.currentAnchorTop=t.getBoundingClientRect().top;else{const e=a[0];e&&(I.current.currentAnchor=e,I.current.currentAnchorTop=e.getBoundingClientRect().top)}}b&&b(e)}));return ce((()=>{if(!v)return;const e=T.current.closest(v);if(!e)return;const t=e=>x(e);return e.addEventListener("scroll",t),()=>{e.removeEventListener("scroll",t)}}),[x,v]),he.createElement("div",{ref:T,className:o,onScroll:x,onWheel:E,teactFastList:!f&&!d,onKeyDown:N,onDragOver:S,onDragLeave:A,onClick:C,style:a},g,d&&null!=r&&r.length?he.createElement("div",{teactFastList:!f,style:dm("position: relative",t.Ni&&`height: ${u}px`)},w):w)},Yb={container:"k3PjQTgC",panel:"ZX_ET6v1",emptyList:"y3OrMGkQ",text:"W7PJUQAi",header:"vhx2gdHr",description:"iQxbUd1C"},Gb=pe((function(t){let{isActive:n,isMutlichainAccount:a,mode:o}=t;const r=vs();return he.createElement("div",{className:ps(Yb.container,Yb[o])},he.createElement(xm,{play:n,tgsUrl:Ju.hello,previewUrl:Ju.helloPreview,nonInteractive:!0,noLoop:!1,size:"emptyList"===o?e.igk:e.jzp}),he.createElement("div",{className:Yb.text},he.createElement("p",{className:Yb.header},r(a?"You have just created a new multichain wallet":"You have just created a new wallet")),he.createElement("p",{className:Yb.description},r(a?"Now you can transfer tokens from your TON and TRON wallets.":"You can now transfer your tokens from another wallet or exchange."))))})),Qb="dtfXKrc1",Xb="s5rKiBWU",Jb="Lj95SXyq",Zb="_ICqu0z2",eE="sjVip3sq",tE="ysalRrTJ",nE="mn7fmzAk",aE="cQDrPzK7",oE="Rymf6Lfn",rE="SFuQDDGL",iE="eBNgO37m",sE="x4oZwp8K",lE="kKU1dGwT",cE=4*t.$,dE=new Set(["new","waiting","confirming","exchanging","sending","hold"]),uE=new Set(["failed","expired","refunded","overdue"]),mE=new Set(["expired","failed"]),pE=pe((function(t){var n,a;let{ref:o,tokensBySlug:r,activity:i,isLast:s,isActive:l,appTheme:c,addressByChain:d,isSensitiveDataHidden:u,onClick:m}=t;const p=vs(),{id:f,timestamp:h,status:g,from:v,to:w,cex:y}=i,b=de((()=>{if(v&&r)return os(r,v)}),[v,r]),E=de((()=>{if(w&&r)return os(r,w)}),[w,r]),k=Number(i.fromAmount),C=Number(i.toAmount),N="pending"===g||dE.has(null!==(n=null==y?void 0:y.status)&&void 0!==n?n:""),S=mE.has(g)||uE.has(null!==(a=null==y?void 0:y.status)&&void 0!==a?a:""),A="hold"===(null==y?void 0:y.status),T=de((()=>Hv(5,13,h.toString())),[h]),I=v===e.Tu9.slug,B=is({from:b,to:E,toAddress:null==y?void 0:y.payoutAddress,addressByChain:d}),_=$r((()=>{m(f)}));return he.createElement(ec,{ref:o,key:f,className:ps(Qb,s&&Jb,l&&Xb),onClick:_,isSimple:!0},he.createElement("div",{className:ps(Zb,"FyZFW3rR"),"aria-hidden":!0},b&&he.createElement(Fv,{token:b,size:"x-middle",className:"Asq4Q63m"}),E&&he.createElement(Fv,{token:E,size:"x-middle",className:"pQba4LaN"}),N&&he.createElement(xm,{play:!0,size:e.wg4,className:eE,nonInteractive:!0,noLoop:!1,forceOnHeavyAnimation:!0,tgsUrl:Ju[c].iconClockGray,previewUrl:Ju[c].preview.iconClockGray}),S&&he.createElement("i",{className:ps("mGFBcSmx","icon-close-filled"),"aria-hidden":!0})),he.createElement("div",{className:tE},he.createElement("div",{className:aE},p(A||S?"SwapTitle":N?"Swapping":"Swapped")),function(){const t=ps(S&&"XhetBWmN",A&&"LuAdiHBF");return he.createElement(Xv,{isActive:u,cols:T,rows:2,cellSize:8,align:"right",contentClassName:ps(rE,"enfXRStc")},he.createElement("span",{className:ps("tnzn3bEs",t)},vr(Math.abs(k),(null==b?void 0:b.symbol)||e.Tu9.symbol,!0)),he.createElement("i",{className:ps("ZcG2fXCw","icon-chevron-right",t),"aria-hidden":!0}),he.createElement("span",{className:ps("Q2WugE4t",t)},vr(Math.abs(C),(null==E?void 0:E.symbol)||e.Tu9.symbol,!0)))}()),he.createElement("div",{className:nE},function(){const t=(0,Xn.fU)(h);let n="";const a=null==y?void 0:y.status;return"expired"===a||"overdue"===a?n=p("Expired"):"refunded"===a?n=p("Refunded"):"hold"===a?n=p("On Hold"):"failed"===a||S?n=p("Failed"):"waiting"!==a||I||B?N&&(n=p("In Progress")):n=p("Waiting for Payment"),he.createElement("div",{className:ps(S&&"shgP3pO5")},t,n?`${e.MS3}∙${e.MS3}${n}`:"")}(),function(){const e=wy(i.fromAmount,i.toAmount,b,E);if(!e)return;const[t,n]=e.price.split(".");return he.createElement("span",{className:oE},e.firstCurrencySymbol," ≈ ",he.createElement("span",{className:iE},t,he.createElement("small",null,".",n," ",e.secondCurrencySymbol)))}()))})),fE=4*t.$,hE=3.875*t.$,gE=2.375*t.$,vE=1.25*t.$,wE=pe((function(t){let{ref:n,tokensBySlug:a,transaction:o,isActive:r,annualYield:i,yieldType:s,savedAddresses:l,isLast:c,appTheme:d,withChainIcon:u,doesNftExist:m,isSensitiveDataHidden:p,onClick:f}=t;const{openMediaViewer:h}=He(),g=vs(),{txId:v,amount:w,fromAddress:y,toAddress:b,timestamp:E,comment:k,encryptedComment:C,isIncoming:N,type:S,metadata:A,slug:T,nft:I}=o,B="stake"===S,_=Ut.has(S),x=Ht.has(S),L=null==a?void 0:a[T],{chain:D}=L||{},O=N?y:b,P=de((()=>{var e;return O&&D&&(null==l||null===(e=l.find((e=>e.address===O&&e.chain===D)))||void 0===e?void 0:e.name)}),[O,D,l])||(null==A?void 0:A.name),F=$t(v),R=de((()=>Hv(5,13,E.toString())),[E]),M=yE(o);let U,H="iconClockGray";"burn"===S?(U="Oy9tOgXm",H="iconClockRed"):N?(U="VizBDkzf",H="iconClockGreen"):B&&(U="BmmX90To",H="iconClockPurpleWhite");const W=$r((()=>{f(v)})),$=$r((e=>{e.stopPropagation(),h({mediaId:I.address,mediaType:hn.Nft,txId:v})}));return he.createElement(ec,{ref:n,key:v,className:ps(Qb,c&&Jb,r&&Xb),onClick:W,isSimple:!0},function(){let t;return t=_?"icon-earn":"callContract"===S||"contractDeploy"===S?"icon-cog":x?"icon-globe-alt":"mint"===S?"icon-magic-wand":"burn"===S?"icon-fire":"auctionBid"===S?"icon-auction-alt":"liquidityDeposit"===S?"icon-can-in":"liquidityWithdraw"===S?"icon-can-out":N?"icon-receive-alt":"icon-send-alt",he.createElement("i",{className:ps(Zb,t,U),"aria-hidden":!0},F&&he.createElement(xm,{play:!0,size:e.wg4,className:eE,nonInteractive:!0,noLoop:!1,forceOnHeavyAnimation:!0,tgsUrl:Ju[d][H],previewUrl:Ju[d].preview[H]}))}(),he.createElement("div",{className:tE},he.createElement("div",{className:aE},Kt(o,!1,g),jt(o)&&he.createElement("img",{src:gg,alt:g("Scam"),className:"TqSKLa3F"})),function(){const t=Gt(o);let n,a=!1;if("hide"!==t){var r;const o="noSign"===t;n=vr((0,wt.nI)(o?(0,Dn.wg)(w):w,null!==(r=null==L?void 0:L.decimals)&&void 0!==r?r:e.I04),(null==L?void 0:L.symbol)||e.Tu9.symbol,o),a=!0}else if(x)n="TON DNS";else{if(!I)return;n="NFT"}return he.createElement(Xv,{isActive:p&&a,cols:R,rows:2,cellSize:8,align:"right",className:ps(rE,U)},n)}()),he.createElement("div",{className:nE},(0,Xn.fU)(E),function(){const t=Qt(o);return he.createElement("div",{className:oE},t&&g(N?"$transaction_from":"$transaction_to",{address:he.createElement("span",{className:iE},u&&Boolean(D)&&he.createElement("i",{className:ps("taalmW1o",`icon-chain-${D.toLowerCase()}`),"aria-label":D}),P||xt(O,e.bOf))}),!t&&B&&g("at %annual_yield%",{annual_yield:he.createElement("span",{className:iE},s," ",i,"%")}))}()),I&&he.createElement("div",{className:ps("ak_LCBLa",!m&&"VYPqbBxQ",N&&sE,k&&"KZh31z_P",U,M&&lE,"transaction-nft"),onClick:m?$:void 0,"data-nft-address":null==I?void 0:I.address,"data-tx-id":v},he.createElement("img",{src:I.thumbnail,alt:I.name,className:"sjeAoWgh"}),he.createElement("div",{className:"qHIX_uIs"},he.createElement("div",{className:"eCN9f1Sr"},I.name),he.createElement("div",{className:"EoWXh7mx"},I.collectionName))),Yt(o)&&function(){const e=ps("m3tsD5Lh",N&&sE,U,M&&lE);return he.createElement("div",{className:e},C&&he.createElement("i",{className:ps("axmClUqA","icon-lock"),"aria-hidden":!0}),C?he.createElement("i",null,g("Encrypted Message")):k)}())}));function yE(e){return!e.isIncoming&&(e.nft||Yt(e))&&!(Qt(e)||"stake"===e.type)}const bE="qI7nEtyA",EE="t2U79mme",kE=Xn.Z2,CE=.5*t.$,NE=2.125*t.$,SE=pe($e((e=>{var t,n;const a=e.currentAccountId,o=Xe(e),r=Ze(e),i=at(e),s=function(e,t){var n,a;const{byChain:o}=null!==(n=et(e,t))&&void 0!==n?n:{},{addressByChain:r}=null!==(a=Je(e,t))&&void 0!==a?a:{};return!(!o||!r)&&Object.keys(r).every((e=>{var t;return null===(t=o[e])||void 0===t?void 0:t.isFirstTransactionsLoaded}))}(e,e.currentAccountId),l=function(e,t){var n,a;const{activities:o}=null!==(n=Ze(e))&&void 0!==n?n:{};return(null==o||null===(a=o.idsMain)||void 0===a||!a.length)&&t}(e,s),c=null==r?void 0:r.currentTokenSlug,d=a?$n(e,a):void 0,{idsBySlug:u,byId:m,isMainHistoryEndReached:p,isHistoryEndReachedBySlug:f,idsMain:h}=null!==(t=null==r?void 0:r.activities)&&void 0!==t?t:{},{byAddress:g}=(null==r?void 0:r.nfts)||{};return{isMultichainAccount:ut(e,e.currentAccountId),currentAccountId:e.currentAccountId,slug:c,byId:m,isNewWallet:l,idsBySlug:u,idsMain:h,tokensBySlug:e.tokenInfo.bySlug,swapTokensBySlug:null===(n=e.swapTokenInfo)||void 0===n?void 0:n.bySlug,areTinyTransfersHidden:e.settings.areTinyTransfersHidden,savedAddresses:null==r?void 0:r.savedAddresses,isMainHistoryEndReached:p,isHistoryEndReachedBySlug:f,currentActivityId:null==r?void 0:r.currentActivityId,alwaysShownSlugs:null==i?void 0:i.alwaysShownSlugs,activitiesUpdateStartedAt:e.activitiesUpdateStartedAt,theme:e.settings.theme,isFirstTransactionsLoaded:s,addressByChain:null==o?void 0:o.addressByChain,stakingStates:d,isSensitiveDataHidden:e.settings.isSensitiveDataHidden,nftsByAddress:g}}),((t,n,a)=>{let{totalTokensAmount:o}=n;const r=Ze(t),i=o<=(fo()?e.nj6:e.hUs);return a(((null==r?void 0:r.activeContentTab)===fn.Activity||(null==r?void 0:r.activeContentTab)===fn.Assets&&i)&&t.currentAccountId)}))((function(t){let{isActive:n,currentAccountId:a,isNewWallet:o,isMultichainAccount:r,addressByChain:i,slug:l,idsBySlug:c,idsMain:d,byId:u,tokensBySlug:m,swapTokensBySlug:p,areTinyTransfersHidden:f,currentActivityId:h,savedAddresses:g,isMainHistoryEndReached:v,isHistoryEndReachedBySlug:w,alwaysShownSlugs:y,activitiesUpdateStartedAt:b=0,theme:E,isFirstTransactionsLoaded:k,isSensitiveDataHidden:C,stakingStates:N,nftsByAddress:S}=t;const{fetchTokenTransactions:A,fetchAllTransactions:T,showActivityInfo:I}=He(),B=vs(),{isLandscape:_}=po(),x=me(null),L=gb(b),D=Fd(E),O=de((()=>N?(0,s.dU)(N,"tokenSlug"):{}),[N]),P=de((()=>{let e;var t;if(u&&(e=l?null!==(t=(null!=c?c:{})[l])&&void 0!==t?t:[]:d),e)return e}),[u,l,c,d]),F=de((()=>{if(!P)return;const e=P.map((e=>null==u?void 0:u[e])).filter((e=>{return(null==e||!e.shouldHide)&&("swap"===(null==e?void 0:e.kind)?Boolean(!l||e.from===l||e.to===l):Boolean((null==e?void 0:e.slug)&&(!l||e.slug===l)&&(!f||l&&0===(null===(t=m[e.slug])||void 0===t?void 0:t.quote.priceUsd)||!ns(e,m[e.slug])||(null==y?void 0:y.includes(e.slug)))&&!Ft(e)));var t}));return e.length?e:[]}),[f,u,y,P,l,m]),{activityIds:R,activitiesById:M}=de((()=>{const e=[],t={};return null==F||F.forEach((n=>{e.push(n.id),t[n.id]=n})),{activityIds:e,activitiesById:t}}),[F]),U=de((()=>l?!(null==w||!w[l]):!!v),[w,v,l]),H=$r((()=>{l?A({slug:l,limit:60,shouldLoadWithBudget:!0}):T({limit:60,shouldLoadWithBudget:!0})})),W=Wd(H,[H],kE,!0),[$,V,z]=Vb(W,R,void 0,30,l,n),q=!F||!F.length,K=de((()=>{const e={};let t=0,n=0;return R.forEach(((a,o)=>{const r=M[a];if(!r)return;let i="transaction"===r.kind?fE+((s=r).nft?hE:0)+(Yt(s)?gE:0)-(yE(s)?vE:0):cE;var s;const l=0===o;l&&(i+=CE);const c=(0,Xn.CS)(r.timestamp),d=n!==c;d&&(n=c,i+=NE,o>0&&(e[R[o-1]].isLastInDay=!0)),e[a]={offset:t,height:i,isFirst:l,isFirstInDay:d,isLastInDay:o===R.length-1},t+=i})),e}),[M,R]),j=de((()=>{const e=$[$.length-1],t=K[e];return t?t.offset+t.height:0}),[K,$]);ce((()=>{const e=x.current;e&&Uc(e,{height:_?"":`${j}px`})}),[_,j]),le((()=>{!U&&P&&q&&W()}),[P,q,U,W]),le((()=>{n||_||null==z||z()}),[n,_,z]);const Y=$r((e=>{I({id:e})}));if(a)return q&&!k?he.createElement("div",{className:ps(bE,"BUMeW3vl")},he.createElement(Ph,null)):o?he.createElement("div",{className:ps(_&&"HZCBxAlC")},he.createElement(Gb,{isActive:n,isMutlichainAccount:r,mode:_?"emptyList":"panel"})):U&&q?he.createElement("div",{className:bE},he.createElement(xm,{play:n,tgsUrl:Ju.noData,previewUrl:Ju.noDataPreview,size:e.igk,className:"L93gae4c",noLoop:!1,nonInteractive:!0}),he.createElement("p",{className:"ddnxH_YM"},B("No Activity"))):he.createElement(jb,{ref:x,className:ps("custom-scroll","fUr4n5dv"),scrollContainerClosest:!_&&n?".app-slide-content":void 0,items:$,preloadBackwards:30,withAbsolutePositioning:!0,maxHeight:j,onLoadMore:V},$.map((e=>{const t=K[e],n=M[e];if(!n)return;const a=n.id===h;return he.createElement("div",{key:e,style:`top: ${t.offset}px`,className:ps("ListItem","ebD9lZA7")},t.isFirstInDay&&function(e,t){const n=(0,Xn.N5)(B,e),a=he.createElement("div",{className:EE},n);if(!t)return a;const o=he.createElement("div",{className:ps(EE,"vFLWFB14")},n,he.createElement(Jl,{isActive:!0,isDoubled:!0,className:"Ig34AhI2"}));return he.createElement(gp,{name:"semiFade",activeKey:L?1:0,className:"ubrkPkql",slideClassName:"rHTS83Rc"},L?o:a)}(n.timestamp,t.isFirst),function(e,t,n){if("swap"===e.kind)return he.createElement(pE,{key:e.id,activity:e,tokensBySlug:p,isLast:t,isActive:n,appTheme:D,addressByChain:i,isSensitiveDataHidden:C,onClick:Y});{var a,o;const i=Boolean(e.nft&&(null==S?void 0:S[e.nft.address]));return he.createElement(wE,{key:e.id,transaction:e,tokensBySlug:m,isActive:n,annualYield:null===(a=O[e.slug])||void 0===a?void 0:a.annualYield,yieldType:null===(o=O[e.slug])||void 0===o?void 0:o.yieldType,isLast:t,savedAddresses:g,withChainIcon:r,appTheme:D,doesNftExist:i,isSensitiveDataHidden:C,onClick:Y})}}(n,t.isLastInDay,a))})))}))),AE="vKLHR9fe",TE="JLnToFoo",IE="MWjR4yCQ",BE="zBTGbg76",_E="v9EXZKHv",xE="IJaceq0j",LE="JMnoFXEt",DE="yB7hzLme",OE="Fy56cR9i",PE="ka5acfM4",FE="osD2vwqW",RE="zJntRecr",ME="jN5w9AWO",UE="B9HfGrEc",HE="BcTpLjhN",WE="rE0JGav4",$E="LHgVJV2I",VE=7*Xn.d_,zE=pe((function(t){let{token:n,amount:a,stakingId:o,stakingStatus:r,vestingStatus:i,unfreezeEndDate:s,annualYield:l,isInvestorView:c,classNames:d,style:u,appTheme:m,isActive:p,baseCurrency:f,withChainIcon:h,isSensitiveDataHidden:g,yieldType:v,onClick:w}=t;const{name:y,symbol:b,slug:E,amount:k,price:C,change24h:N,decimals:S}=n,A=vs(),T=Boolean(null==i?void 0:i.length),I=null!=a?a:(0,wt.nI)(k,S,!0),B=(0,yt.z)(I).mul(C).toString(),_=N>0?"VR0vGdiX":N<0?FE:void 0,x=Math.abs(bt((L=Number(B))-L/(1+N),4));var L;const D=Math.abs(bt(100*N,2)),O=!e.TI6&&void 0!==l,P=ps("y_zyRtG4",p&&"gcp9pSal",d),F=br(f),R=Boolean(!T&&e.OZB[E]),M=de((()=>Hv(4,12,y)),[y]),U=5+M%6,{shouldRender:H,transitionClassNames:W}=ws(O),$=$r((()=>{w(null!=o?o:E)}));function V(){const e=ps(ME,"xWg00BgF",r&&"UeDUf_9U",W);return he.createElement("span",{className:e},v," ",l,"%")}function z(){if(0!==N)return he.createElement("i",{className:ps("zzgzZR90",N>0?"icon-arrow-up":"icon-arrow-down"),"aria-hidden":!0})}function q(){return"active"===r?he.createElement("i",{className:ps("icon-percent",TE),"aria-hidden":!0}):he.createElement(xm,{play:!0,size:e.wg4,className:TE,nonInteractive:!0,noLoop:!1,tgsUrl:Ju[m].iconClockPurple,previewUrl:Ju[m].preview.iconClockPurple})}return c?he.createElement(ec,{className:P,isSimple:!0,style:u,onClick:$},he.createElement(Fv,{size:"large",token:n,withChainIcon:h,className:HE},he.createElement(he.Fragment,null,r&&q(),i&&he.createElement("i",{className:ps("frozen"===i?"icon-snow":"icon-fire",AE),"aria-hidden":!0}))),he.createElement("div",{className:IE},he.createElement("div",{className:xE},he.createElement("span",{className:LE},y),H&&V(),R&&he.createElement("span",{className:ps(ME,UE)},e.OZB[E])),he.createElement("div",{className:_E},he.createElement(Xv,{isActive:g,cols:U,rows:2,cellSize:8},he.createElement(bb,{text:gr(I,b)})),he.createElement("i",{className:RE,"aria-hidden":!0}),he.createElement(bb,{text:gr(C,F,void 0,!0)}))),he.createElement("div",{className:BE},he.createElement(Xv,{isActive:g,cols:M,rows:2,cellSize:8,align:"right",className:ps(DE,r&&OE,T&&WE,T&&"readyToUnfreeze"===i&&$E)},he.createElement(bb,{text:gr(B,F)})),s?he.createElement("div",{className:ps(PE,s-Date.now()<VE&&FE)},A("Unfreeze")," ",A("until %date%",{date:`${(0,Xn.TK)(A.code,s)}`})):he.createElement(Xv,{isActive:g,cols:U,rows:2,cellSize:8,align:"right",className:ps(PE,_)},z(),he.createElement(bb,{text:String(D)}),"%",he.createElement("i",{className:RE,"aria-hidden":!0}),he.createElement(bb,{text:gr(x,F,void 0,!0)})))):function(){const t=(0,yt.z)(I).mul(C),a=void 0!==l;return he.createElement(ec,{className:P,style:u,onClick:$,isSimple:!0},he.createElement(Fv,{token:n,size:"large",withChainIcon:h,className:HE},he.createElement(he.Fragment,null,r&&q(),i&&he.createElement("i",{className:ps("frozen"===i?"icon-snow":"icon-fire",AE),"aria-hidden":!0}))),he.createElement("div",{className:IE},he.createElement("div",{className:xE},he.createElement("span",{className:LE},y),a&&V(),R&&he.createElement("span",{className:ps(ME,UE)},e.OZB[E])),he.createElement("div",{className:_E},he.createElement(bb,{text:gr(C,F,void 0,!0)}),!r&&he.createElement(he.Fragment,null,he.createElement("i",{className:RE,"aria-hidden":!0}),s?he.createElement("span",{className:s-Date.now()<VE&&FE},A("Unfreeze")," ",A("until %date%",{date:`${(0,Xn.TK)(A.code,s)}`})):he.createElement("span",{className:_},z(),he.createElement(bb,{text:String(D)}),"%")))),he.createElement("div",{className:BE},he.createElement(Xv,{isActive:g,cols:M,rows:2,cellSize:8,align:"right",className:ps(DE,r&&OE,T&&WE,T&&"readyToUnfreeze"===i&&$E)},he.createElement(bb,{text:gr(I,b)})),he.createElement(Xv,{isActive:g,cols:U,rows:2,cellSize:8,align:"right",className:_E},t.gt(0)?"≈":""," ",he.createElement(bb,{text:gr(t,F,void 0,!0)}))))}()})),qE={wrapper:"EmokOdHM",wrapperLoading:"QP7e6eAO",emptyList:"XSZ9FBiN",emptyListSeparate:"SHa5wmx_",noTokens:"KNRqFMNX",noTokens_text:"XwRCmsa8",noTokensText:"XwRCmsa8",noTokens_header:"qDi9Fjks",noTokensHeader:"qDi9Fjks",noTokens_description:"Lxfq6_5v",noTokensDescription:"Lxfq6_5v",openSettingsButton:"L2IEb5c3"},KE=pe($e((e=>{var t;const n=e.currentAccountId,a=kt(e),o=Ze(e),{isInvestorViewEnabled:r}=e.settings,i=$n(e,n);return{tokens:a,vesting:null==o||null===(t=o.vesting)||void 0===t?void 0:t.info,isInvestorViewEnabled:r,currentTokenSlug:null==o?void 0:o.currentTokenSlug,baseCurrency:e.settings.baseCurrency,mycoin:It(e),isMultichainAccount:ut(e,e.currentAccountId),isSensitiveDataHidden:e.settings.isSensitiveDataHidden,theme:e.settings.theme,states:i}}),((e,t,n)=>n(e.currentAccountId)))((function(n){let{isActive:a,tokens:o,vesting:r,isInvestorViewEnabled:i,isSeparatePanel:l,currentTokenSlug:c,onTokenClick:d,onStakedTokenClick:u,baseCurrency:m,mycoin:p,isMultichainAccount:f,isSensitiveDataHidden:h,theme:g,states:v}=n;const w=vs(),{openSettingsWithState:y}=He(),b=me(null),E=pf(o,!0),k=pf(p,!0),C=de((()=>{if(E&&k)return E.find((e=>{let{slug:t}=e;return t===k.slug}))}),[k,E]),{isLandscape:N,isPortrait:S}=po(),A=Fd(g),T=de((()=>{var t;return e.TI6?[]:null!==(t=null==v?void 0:v.filter(Rs))&&void 0!==t?t:[]}),[v]),I=de((()=>T.reduce(((e,t)=>{const n=null==o?void 0:o.find((e=>{let{slug:n}=e;return n===t.tokenSlug}));return n&&(e[t.tokenSlug]={token:n,state:t}),e}),{})),[o,T]),{shouldRender:B,transitionClassNames:_}=ws(Boolean(Object.keys(I).length)),{shouldRender:x,transitionClassNames:L,amount:D,vestingStatus:O,unfreezeEndDate:P,onVestingTokenClick:F}=function(e){let{vesting:t,userMycoin:n,isDisabled:a}=e;const{loadMycoin:o,openVestingModal:r}=He(),i=!a&&Boolean(null==t?void 0:t.length),s=Boolean(n);le((()=>{!s&&i&&o()}),[i,s]);const l=de((()=>{if(i)return iy(t,["frozen","ready"])}),[i,t]),c=de((()=>{if(i)for(const{parts:e}of t)for(const t of e)if("ready"===t.status)return new Date(t.timeEnd).getTime()}),[i,t]),{shouldRender:d,transitionClassNames:u}=ws(Boolean(i&&s&&n&&"0"!==l));return{shouldRender:d,transitionClassNames:u,amount:l,vestingStatus:c?"readyToUnfreeze":"frozen",unfreezeEndDate:c,onVestingTokenClick:$r((()=>{r()}))}}({vesting:r,userMycoin:C,isDisabled:e.TI6}),R=de((()=>null==E?void 0:E.filter((e=>{let{isDisabled:t}=e;return!t})).map((e=>{let{slug:t}=e;return t}))),[E]),[M,U]=Vb(void 0,R,void 0,void 0,void 0,a,S),H=de((()=>{if(!M)return-1;let e=R.indexOf(M[0]);return B&&(e+=Object.keys(I).length),x&&e++,e}),[B,x,R,M,I]),W=de((()=>E?(0,s.dU)(E,"slug"):void 0),[E]),$=R&&R.length>30,V=de((()=>{if($&&null!=M&&M.length&&!(H<0))return 4*(H+M.length)*t.$}),[H,null==M?void 0:M.length,$]);ce((()=>{const e=b.current;e&&Uc(e,{height:V&&!N?`${V}px`:""})}),[N,V]);const z=$r((()=>{y({state:un.Assets})})),q=(0,s.dU)(null!=v?v:[],"tokenSlug");return x||B||null!=R&&R.length?he.createElement(jb,{ref:b,className:ps(qE.wrapper,l&&!E&&qE.wrapperLoading),scrollContainerClosest:!N&&a?".app-slide-content":void 0,items:M,itemSelector:".token-list-item",withAbsolutePositioning:$,maxHeight:V,onLoadMore:U},!E&&he.createElement("div",{key:"loading",className:l?qE.emptyListSeparate:qE.emptyList},he.createElement(Ph,null)),x&&he.createElement(zE,{key:"vesting",token:C,vestingStatus:O,unfreezeEndDate:P,amount:D,isInvestorView:i,classNames:L,baseCurrency:m,appTheme:A,isSensitiveDataHidden:h,onClick:F}),B&&Object.values(I).map((e=>{let{state:t,token:n}=e;const{annualYield:a,yieldType:o,balance:r,id:s}=t,l=Fs(t);return he.createElement(zE,{key:`staking-${s}`,token:n,stakingId:s,stakingStatus:l,annualYield:a,yieldType:o,amount:(0,wt.nI)(r,n.decimals),isInvestorView:i,classNames:_,baseCurrency:m,appTheme:A,isSensitiveDataHidden:h,onClick:u})})),null==M?void 0:M.map(((e,t)=>function(e,t){const n=$?`position: absolute; top: ${4*(H+t)}rem`:void 0,{annualYield:a,yieldType:o}=!(e.slug in I)&&q[e.slug]||{};return he.createElement(zE,{classNames:"token-list-item",style:n,key:e.slug,token:e,annualYield:a,yieldType:o,isInvestorView:i,isActive:e.slug===c,baseCurrency:m,withChainIcon:f,appTheme:A,isSensitiveDataHidden:h,onClick:d})}(W[e],t)))):he.createElement("div",{className:qE.noTokens},he.createElement(xm,{tgsUrl:Ju.noData,previewUrl:Ju.noDataPreview,size:e.jzp,nonInteractive:!0,noLoop:!1,className:qE.sticker}),he.createElement("div",{className:qE.noTokensText},he.createElement("span",{className:qE.noTokensHeader},w("No tokens yet")),he.createElement("span",{className:qE.noTokensDescription},w("$no_tokens_description")),he.createElement(ec,{onClick:z,isPrimary:!0,isSmall:!0,className:qE.openSettingsButton},w("Add Tokens"))))}))),jE="aKYq5U9K",YE="_XXYEoWI",GE="bCLB_xx7",QE="ADFSqjjF",XE="L1JCMSY4",JE="vvSB5YmR",ZE="X205Pp2C",ek="S3NdyNSK",tk=[{name:"Send All",value:"sendAll"},{name:"Getgems",value:"getgems",fontIcon:"external"},{name:Ya("ton"),value:"tonExplorer",fontIcon:"external"},...e.TI6?[]:[{name:"Hide All",value:"hideAll"}],{name:"Burn All",value:"burnAll",isDangerous:!0},{name:"Select All",value:"selectAll",withSeparator:!0}],nk=pe($e((e=>{var t;const{byAddress:n,currentCollectionAddress:a}=(null===(t=Ze(e))||void 0===t?void 0:t.nfts)||{};return{isTestnet:e.settings.isTestnet,nfts:n,currentCollectionAddress:a}}))((function(t){let{isTestnet:n,nfts:a,currentCollectionAddress:o}=t;const{closeNftCollection:r,selectNfts:i,startTransfer:s,burnNfts:l,openHideNftModal:c}=He(),d=vs(),[u,m]=ie(),p=Boolean(u),f=me(null),h=de((()=>{if(o&&a)return Object.values(a).find((e=>e.collectionAddress===o))}),[o,a]),g=de((()=>{if(o&&a)return Object.values(a).reduce(((e,t)=>t.collectionAddress===o?e+1:e),0)}),[o,a]),v=pf(h,!0),w=pf(g,!0),y=Boolean(o);Ql({isActive:y,onBack:r}),le((()=>y?Ih(r):void 0),[y]);const b=$r((()=>f.current)),E=$r((()=>document.body)),k=$r((()=>document.querySelector("#portals .menu-bubble"))),C=$r((()=>({withPortal:!0}))),{positionY:N,transformOriginX:S,transformOriginY:A,style:T}=fw(u,b,E,k,C),I=$r((t=>{switch(t){case"sendAll":{const e=Object.values(a).filter((e=>e.collectionAddress===o&&!e.isOnSale));s({nfts:e,isPortrait:fo()});break}case"getgems":to(`${n?e.PKm:e.wln}collection/${null==v?void 0:v.collectionAddress}`);break;case"tonExplorer":{const e=function(e,t){if(e)return`${Ga("ton",t)}nft/${e}`}(null==v?void 0:v.collectionAddress,n);e&&to(e);break}case"selectAll":{const e=Object.values(a||{}).filter((e=>e.collectionAddress===o&&!e.isOnSale)).map((e=>e.address));i({addresses:e});break}case"burnAll":{const e=Object.values(a).filter((e=>e.collectionAddress===o&&!e.isOnSale));l({nfts:e});break}case"hideAll":{const e=Object.values(a).filter((e=>e.collectionAddress===o)).map((e=>e.address));c({addresses:e,isCollection:!0})}}})),B=$r((()=>{const{right:e,bottom:t}=f.current.getBoundingClientRect();m({x:e,y:t})})),_=$r((()=>{m(void 0)}));if(v)return he.createElement("div",{className:jE},he.createElement(ec,{className:YE,isSimple:!0,isText:!0,onClick:r},he.createElement("i",{className:ps(GE,"icon-chevron-left"),"aria-hidden":!0}),he.createElement("span",null,d("Back"))),he.createElement("div",{className:QE},he.createElement("div",{className:XE},(null==v?void 0:v.collectionName)||d("Unnamed Collection")),he.createElement("div",{className:"hsn7RdaK"},w>1?d("%amount% NFTs",{amount:w}):d("1 NFT"))),he.createElement(ec,{isSimple:!0,ref:f,className:JE,onClick:B,ariaLabel:d("Open Menu")},he.createElement("i",{className:"icon-menu-dots","aria-hidden":!0})),he.createElement(Dh,{isOpen:p,withPortal:!0,shouldTranslateOptions:!0,menuPositionHorizontal:"right",menuPosition:N,menuStyle:T,transformOriginX:S,transformOriginY:A,buttonClassName:ek,bubbleClassName:ZE,items:tk,onSelect:I,onClose:_}))}))),ak=pe((function(e){let{id:t,name:n,value:a,isChecked:o,className:r,onChange:i}=e;return he.createElement("div",{className:ps("OyHWXuOj",r,o&&"BCTrjQeD")},he.createElement("input",{id:t,type:"radio",name:n,className:"visually-hidden",value:a,checked:o,onChange:i}))})),ok={name:"Cannot be sent",value:"send",description:"NFT is for sale",isDisabled:!0},rk={name:"Configure DNS",value:"tondns",fontIcon:"external"},ik={name:"Send",value:"send"},sk={name:"Fragment",value:"fragment",fontIcon:"external"},lk={name:"Getgems",value:"getgems",fontIcon:"external"},ck={name:Ya("ton"),value:"tonExplorer",fontIcon:"external"},dk={name:"Collection",value:"collection"},uk={name:"Hide",value:"hide"},mk={name:"Not Scam",value:"not_scam"},pk={name:"Unhide",value:"unhide"},fk={name:"Burn",value:"burn",isDangerous:!0},hk={name:"Select",value:"select",withSeparator:!0},gk={name:"Install Card",value:"installCard"},vk={name:"Reset Card",value:"resetCard"},wk={name:"Apply Palette",value:"installAccentColor"},yk={name:"Reset Palette",value:"resetAccentColor"};function bk(t){let{nft:n,isNftBlacklisted:a,isNftWhitelisted:o,isNftInstalled:r,isNftAccentColorInstalled:i}=t;const{startTransfer:s,selectNfts:l,openNftCollection:c,burnNfts:d,addNftsToBlacklist:u,addNftsToWhitelist:m,closeMediaViewer:p,openUnhideNftModal:f,setCardBackgroundNft:h,clearCardBackgroundNft:g,installAccentColorFromNft:v,clearAccentColorFromNft:w}=He(),y=$r((t=>{const{isTestnet:a}=Me().settings;switch(t){case"send":s({isPortrait:fo(),nfts:[n]}),p();break;case"tonExplorer":to(Ja(n.address,a));break;case"getgems":{const t=a?e.PKm:e.wln;to(n.collectionAddress?`${t}collection/${n.collectionAddress}/${n.address}`:`${t}nft/${n.address}`);break}case"tondns":to(`https://dns.ton.org/#${(n.name||"").replace(/\.ton$/i,"")}`);break;case"installCard":h({nft:n}),v({nft:n});break;case"resetCard":g(),w();break;case"installAccentColor":v({nft:n});break;case"resetAccentColor":w();break;case"fragment":{let e;const{collectionName:t,name:a,metadata:{fragmentUrl:o}}=n;e=o||(null!=t&&t.toLowerCase().includes("numbers")?`https://fragment.com/number/${null==a?void 0:a.replace(/[^0-9]/g,"")}`:`https://fragment.com/username/${encodeURIComponent((null==a?void 0:a.substring(1))||"")}`),to(e);break}case"collection":c({address:n.collectionAddress},{forceOnHeavyAnimation:!0});break;case"hide":u({addresses:[n.address]}),p();break;case"not_scam":f({address:n.address,name:n.name});break;case"unhide":m({addresses:[n.address]}),p();break;case"burn":d({nfts:[n]}),p();break;case"select":l({addresses:[n.address]})}}));return{menuItems:de((()=>{if(!n)return[];const{collectionAddress:t,isOnSale:s,isOnFragment:l,isScam:c}=n,d=n.collectionAddress===e.nQN,u=!e.TI6&&n.collectionAddress===e.qL;return[...d?[rk]:[],...u?[r?vk:gk]:[],...u?[i?yk:wk]:[],{...s?ok:ik,...u&&{withSeparator:!0}},...l?[sk]:[],lk,ck,...t?[dk]:[],...e.TI6?[]:[...!c&&!a||o?[uk]:[],...c&&!o?[mk]:[],...!c&&a?[pk]:[]],...s?[]:[fk,hk]]}),[n,r,i,a,o]),handleMenuItemSelect:y}}const Ek=pe($e((e=>{const{blacklistedNftAddresses:t,whitelistedNftAddresses:n}=Ze(e)||{},{cardBackgroundNft:a,accentColorNft:o}=at(e)||{};return{blacklistedNftAddresses:t,whitelistedNftAddresses:n,cardBackgroundNft:a,accentColorNft:o}}))((function(e){let{nft:t,menuPosition:n,onOpen:a,onClose:o,blacklistedNftAddresses:r,whitelistedNftAddresses:i,cardBackgroundNft:s,accentColorNft:l}=e;const c=de((()=>null==r?void 0:r.includes(t.address)),[t,r]),d=de((()=>null==i?void 0:i.includes(t.address)),[t,i]),u=Th(t&&t.address===(null==s?void 0:s.address),_h),m=Th(t&&t.address===(null==l?void 0:l.address),_h),{menuItems:p,handleMenuItemSelect:f}=bk({nft:t,isNftBlacklisted:c,isNftWhitelisted:d,isNftInstalled:u,isNftAccentColorInstalled:m}),h=me(null),g=Boolean(n),v=$r((()=>h.current)),w=$r((()=>document.body)),y=$r((()=>document.querySelector("#portals .menu-bubble"))),b=$r((()=>({withPortal:!0}))),E=vs(),{positionY:k,transformOriginX:C,transformOriginY:N,style:S}=fw(n,v,w,y,b);return he.createElement(he.Fragment,null,he.createElement("button",{ref:h,type:"button",className:"Zwrm7aDb","aria-label":E("NFT Menu"),onClick:e=>{fs(e),g?o():a()}},he.createElement("i",{className:ps("lGtsxpv1","icon-menu-dots"),"aria-hidden":!0})),he.createElement(Dh,{isOpen:g,withPortal:!0,menuPositionHorizontal:"right",menuPosition:k,menuStyle:S,transformOriginX:C,transformOriginY:N,items:p,shouldTranslateOptions:!0,className:"Pc0Y7YGI",bubbleClassName:"UhvMK8mg",buttonClassName:"AZjbQROQ",shouldCleanup:!0,onClose:o,onSelect:f}))}))),kk="ITYna3lB",Ck="P5UTNS9t",Nk="wvB9itFX",Sk="xeApkBtH",Ak=pe((function(e){let{nft:n,selectedAddresses:a,observeIntersection:o}=e;const{openMediaViewer:r,selectNfts:i,clearNftSelection:s}=He(),l=vs(),c=me(null),{isLottie:d,shouldPlay:u,noLoop:m,markHover:p,unmarkHover:f}=function(e,n,a){var o;const r=Boolean(null===(o=e.metadata)||void 0===o?void 0:o.lottie),i=nf(of(n,r?a:void 0,void 0)),[s,l,c]=Rd();if(!r)return{isLottie:r};return{isLottie:r,shouldPlay:i||s,noLoop:!s,...!(t.pz||t.Ni)&&{markHover:l,unmarkHover:c}}}(n,c,o),[h,g]=ie(),v=!!a&&a.length>0,w=de((()=>null==a?void 0:a.includes(n.address)),[a,n.address]),y=Boolean(h),{shouldRender:b,transitionClassNames:E}=ws(v&&n.isOnSale),k=ps("wdIabR9U",!v&&n.isOnSale&&"TcBQN9hf",y&&"AFzPXqVX",v&&n.isOnSale&&"O3ePb4wF"),C=$r((()=>{const{right:e,y:t}=c.current.getBoundingClientRect();g({x:e,y:t})})),N=$r((()=>{g(void 0)}));return he.createElement("div",{key:n.address,ref:c,"data-nft-address":n.address,className:k,onMouseEnter:p,onMouseLeave:f,onClick:v&&n.isOnSale?void 0:function(){v?w?s({address:n.address}):i({addresses:[n.address]}):(tr(),r({mediaId:n.address,mediaType:hn.Nft}))}},v&&!n.isOnSale&&he.createElement(ak,{isChecked:w,name:"nft",value:n.address,className:"VqbpRLGL"}),!v&&he.createElement(Ek,{nft:n,menuPosition:h,onOpen:C,onClose:N}),d?he.createElement("div",{className:Nk},he.createElement(xm,{shouldStretch:!0,play:u,noLoop:m,tgsUrl:n.metadata.lottie,previewUrl:n.thumbnail,noPreviewTransition:!0,className:ps(Ck,w&&Sk)})):he.createElement(zd,{url:n.thumbnail,className:Nk,imageClassName:ps(Ck,w&&Sk)}),b&&he.createElement("div",{className:ps("qtSm9QOQ",E)},l("For sale. Cannot be sent and burned")),he.createElement("div",{className:"v0SE1VHL"},he.createElement("b",{className:"KokxXqZI"},n.name||xt(n.address,4))),he.createElement("div",{className:"_xEjK2pw"},n.collectionName))})),Tk=pe($e((e=>{var t;const{orderedAddresses:n,byAddress:a,currentCollectionAddress:o,selectedAddresses:r}=(null===(t=Ze(e))||void 0===t?void 0:t.nfts)||{},{isNftBuyingDisabled:i}=e.restrictions,{blacklistedNftAddresses:s,whitelistedNftAddresses:l}=Ze(e)||{};return{orderedAddresses:n,selectedAddresses:r,byAddress:a,currentCollectionAddress:o,blacklistedNftAddresses:s,whitelistedNftAddresses:l,isNftBuyingDisabled:i}}),((e,t,n)=>{var a;const{currentCollectionAddress:o}=(null===(a=Ze(e))||void 0===a?void 0:a.nfts)||{};return n(`${e.currentAccountId}_${o||"all"}`)}))((function(t){let{isActive:n,orderedAddresses:a,selectedAddresses:o,byAddress:r,currentCollectionAddress:i,isNftBuyingDisabled:s,blacklistedNftAddresses:l,whitelistedNftAddresses:c}=t;const{clearNftsSelection:d}=He(),u=vs(),{isPortrait:m,isLandscape:p}=po(),f=Boolean(null==o?void 0:o.length);le(d,[d,n,i]),le((()=>f?Ih(d):void 0),[f]);const h=de((()=>{if(!a||!r)return;const e=new Set(l),t=new Set(c);return a.map((e=>r[e])).filter((e=>!(!e||i&&e.collectionAddress!==i))).filter((n=>(!n.isHidden||t.has(n.address))&&!e.has(n.address)))}),[r,i,a,l,c]),{observe:g}=af({throttleMs:200,isDisabled:!(null!=h&&h.length)});return void 0===h?he.createElement("div",{className:ps(kk,"AmFNUCBn")},he.createElement(Ph,null)):0===h.length?he.createElement("div",{className:kk},he.createElement(xm,{play:n,tgsUrl:Ju.happy,previewUrl:Ju.happyPreview,size:m?e.jzp:e.igk,className:"e1KDXttI",noLoop:!1,nonInteractive:!0}),he.createElement("div",{className:"VvA3zcqe"},he.createElement("p",{className:"dfDaqpor"},u("No NFTs yet")),!s&&he.createElement(he.Fragment,null,he.createElement("p",{className:"T93VHAYd"},dr(u("$nft_explore_offer"),m?["simple_markdown"]:void 0)),he.createElement("button",{type:"button",className:"MQHqPBS8",onClick:function(t){fs(t),to(e.FgL,{title:e.Ia6,subtitle:ja(e.FgL)})}},u("Open %nft_marketplace%",{nft_marketplace:e.Ia6}))))):he.createElement(gp,{name:"fade",activeKey:h.length,shouldCleanup:!0,slideClassName:ps("dpiMguJa",p&&"UaTzvOas")},h.map((e=>he.createElement(Ak,{key:e.address,nft:e,selectedAddresses:o,observeIntersection:g}))))}))),Ik=[{name:"Send",value:"send"},...e.TI6?[]:[{name:"Hide",value:"hide"}],{name:"Burn",value:"burn",isDangerous:!0},{name:"Select All",value:"select-all",withSeparator:!0}],Bk=pe($e((e=>{var t;const{selectedAddresses:n,byAddress:a,currentCollectionAddress:o}=(null===(t=Ze(e))||void 0===t?void 0:t.nfts)||{};return{selectedAddresses:n,byAddress:a,currentCollectionAddress:o}}))((function(e){var t;let{selectedAddresses:n,byAddress:a,currentCollectionAddress:o}=e;const{selectAllNfts:r,clearNftsSelection:i,startTransfer:s,burnNfts:l,openHideNftModal:c}=He(),d=vs(),u=null!==(t=null==n?void 0:n.length)&&void 0!==t?t:1,m=Boolean(null==n?void 0:n.length);Ql({isActive:m,onBack:i}),le((()=>m?Ih(i):void 0),[m]);const p=$r((()=>{var e;const t=null!==(e=n.map((e=>a[e])))&&void 0!==e?e:[];i(),s({isPortrait:fo(),nfts:t})})),f=$r((()=>{var e;const t=null!==(e=n.map((e=>a[e])))&&void 0!==e?e:[];i(),l({nfts:t})})),h=$r((()=>{i(),c({addresses:n,isCollection:!1})})),[g,v]=ie(),w=Boolean(g),y=me(null),b=$r((()=>{const{right:e,bottom:t}=y.current.getBoundingClientRect();v({x:e,y:t})})),E=$r((()=>{v(void 0)})),k=$r((()=>y.current)),C=$r((()=>document.body)),N=$r((()=>document.querySelector("#portals .menu-bubble"))),S=$r((()=>({withPortal:!0}))),{positionY:A,transformOriginX:T,transformOriginY:I,style:B}=fw(g,k,C,N,S),_=$r((e=>{switch(e){case"send":p();break;case"hide":h();break;case"burn":f();break;case"select-all":r({collectionAddress:o})}}));return he.createElement("div",{className:jE},he.createElement(ec,{className:YE,isSimple:!0,isText:!0,onClick:i},he.createElement("i",{className:ps(GE,"icon-chevron-left"),"aria-hidden":!0}),he.createElement("span",null,d("Back"))),he.createElement("div",{className:QE},he.createElement("div",{className:XE},u>1?d("%amount% NFTs Selected",{amount:u}):d("1 NFT Selected"))),he.createElement("div",null,he.createElement(ec,{isSimple:!0,ref:y,className:JE,onClick:b,ariaLabel:d("Open Menu")},he.createElement("i",{className:"icon-menu-dots","aria-hidden":!0})),he.createElement(Dh,{isOpen:w,withPortal:!0,shouldTranslateOptions:!0,menuPositionHorizontal:"right",menuPosition:A,menuStyle:B,transformOriginX:T,transformOriginY:I,buttonClassName:ek,bubbleClassName:ZE,items:Ik,onSelect:_,onClose:E})))}))),_k="Sd0JpmLp";let xk=0;const Lk=pe($e((e=>{var t,n;const a=e.currentAccountId,{activeContentTab:o,blacklistedNftAddresses:r,whitelistedNftAddresses:i,selectedNftsToHide:s,vesting:l,nfts:{byAddress:c,currentCollectionAddress:d,selectedAddresses:u}={},currentSiteCategoryId:m}=null!==(t=Ze(e))&&void 0!==t?t:{},p=kt(e),f=st(e.currentAccountId)(p),h=Boolean(null==l||null===(n=l.info)||void 0===n?void 0:n.length);return{nfts:c,currentCollectionAddress:d,selectedAddresses:u,tokensCount:f,activeContentTab:o,blacklistedNftAddresses:r,whitelistedNftAddresses:i,selectedNftsToHide:s,states:a?$n(e,a):void 0,hasVesting:h,currentSiteCategoryId:m,isFullscreen:e.isFullscreen}}),((e,t,n)=>n(e.currentAccountId)))((function(n){let{activeContentTab:a,tokensCount:o,nfts:r,currentCollectionAddress:i,selectedAddresses:s,onStakedTokenClick:l,blacklistedNftAddresses:c,whitelistedNftAddresses:d,selectedNftsToHide:u,states:m,hasVesting:p,isFullscreen:f,currentSiteCategoryId:h}=n;const{selectToken:g,showTokenActivity:v,setActiveContentTab:w,openNftCollection:y,closeNftCollection:b,openSettingsWithState:E}=He(),C=vs(),{isPortrait:N}=po(),S=me(null),A=Boolean(null==s?void 0:s.length),T=de((()=>{var e;return null!==(e=null==m?void 0:m.filter(Rs).length)&&void 0!==e?e:0}),[m]);_l((()=>{i?xk+=1:xk=0}),[i]);const I=$r((e=>{y({address:e},{forceOnHeavyAnimation:!0})})),B=$r((e=>{"hidden_nfts"===e?E({state:un.HiddenNfts}):I(e)})),_=de((()=>{const e=new Set(c),t=new Set(d),n=Object.values(null!=r?r:{}).filter((n=>(!n.isHidden||t.has(n.address))&&!e.has(n.address))).reduce(((e,t)=>(t.collectionAddress&&(e[t.collectionAddress]=t.collectionName||C("Unnamed collection")),e)),{}),a=Object.keys(n);return a.sort(((e,t)=>n[e].localeCompare(n[t]))),a.map((e=>({id:e,name:n[e],value:e})))}),[C,r,c,d]),x=de((()=>{if(e.TI6)return!1;const t=new Set(c);return Object.values(null!=r?r:{}).some((e=>t.has(e.address)||e.isHidden))}),[c,r]),L=me(null),D=o+(p?1:0)+T,O=D<=(N?e.nj6:e.hUs),P=de((()=>[...O?[]:[{id:fn.Assets,title:C("Assets"),className:_k}],{id:fn.Activity,title:C("Activity"),className:_k},...N||e.TI6?[]:[{id:fn.Explore,title:C("Explore"),className:_k}],{id:fn.Nft,title:C("NFT"),className:_k,menuItems:x?[..._,{name:C("Hidden NFTs"),value:"hidden_nfts",withSeparator:!0}]:_,onMenuItemClick:B},..._.some((t=>{let{value:n}=t;return n===e.KmP}))?[{id:fn.NotcoinVouchers,title:"NOT Vouchers",className:_k}]:[]]),[C,_,O,x,N]),F=de((()=>{const e=P.findIndex((e=>e.id===a));return-1===e?fn.Assets:e}),[P,a]);gs((()=>{void 0===a&&w({tab:fn.Assets})}));const R=$r((t=>{if(t===fn.NotcoinVouchers)return g({slug:void 0},{forceOnHeavyAnimation:!0}),w({tab:fn.Nft}),void I(e.KmP);g({slug:void 0},{forceOnHeavyAnimation:!0}),w({tab:t})}));Ql({isActive:0!==F,onBack:()=>R(fn.Assets)}),le((()=>{const n=S.current;if(!N||!n)return;const a=e.UMQ?Ko():e.tKX?ya().safeAreaInset.top+ya().contentSafeAreaInset.top:ia().safeAreaTop,o=t.XS-a-1,r=new IntersectionObserver((e=>{let[t]=e;(0,k.RK)((()=>{t.target.classList.toggle("dFLD_EZz",t.intersectionRatio<1)}))}),{rootMargin:`${o}px 0px 0px 0px`,threshold:[1]});return r.observe(n),()=>{r.unobserve(n)}}),[N,S,f]),le((()=>{if(t.TF)return js(L.current,{includedClosestSelector:".swipe-container",excludedClosestSelector:".dapps-feed",onSwipe:(e,t)=>{if(t===$s.Left){const e=P[Math.min(P.length-1,F+1)];return R(e.id),!0}if(t===$s.Right){if(i)b();else{const e=P[Math.max(0,F-1)];R(e.id)}return!0}return!1},selectorToPreventScroll:".custom-scroll"})}),[P,R,F,i]);const M=$r((e=>{v({slug:e})})),U=ps("wmmKI_Q8",t.TF&&"swipe-container",N?"joLgqn25":"xwYhKvej");function H(e){if(0===F&&O)return he.createElement(SE,{isActive:e,totalTokensAmount:D});switch(P[F].id){case fn.Assets:return he.createElement(KE,{isActive:e,onTokenClick:M,onStakedTokenClick:l});case fn.Activity:return he.createElement(SE,{isActive:e,totalTokensAmount:D});case fn.Nft:return he.createElement(gp,{activeKey:xk,name:N?"slide":"slideFade",className:"nfts-container"},he.createElement(Tk,{key:i||"all",isActive:e}));case fn.Explore:return he.createElement(Ev,{isActive:e});default:return}}return he.createElement("div",{className:U},O&&he.createElement("div",{className:"LsCBKsIM"},he.createElement(KE,{isActive:!0,isSeparatePanel:!0,onStakedTokenClick:l,onTokenClick:M})),he.createElement("div",{className:ps(N?"i_rtpHaE":"UzEmZry2")},he.createElement(he.Fragment,null,he.createElement("div",{ref:S,className:"qxl4O9Cg"},he.createElement(gp,{activeKey:A||!N&&h?2:i?1:0,name:"slideFade",className:"VjN3P9Zv"},A?he.createElement(Bk,null):!N&&h?he.createElement(wv,{id:h}):i?he.createElement(nk,{key:"collection"}):he.createElement(bw,{tabs:P,activeTab:F,onSwitchTab:R,className:ps("q8lTUtx5","content-tabslist")}))),he.createElement(gp,{ref:L,name:N?"slide":"slideFade",activeKey:F,renderCount:P.length,className:ps("vxe8iSc4","content-transition"),slideClassName:ps("MU2eE1B1","custom-scroll")},H))),he.createElement(Wb,{isOpen:Boolean(null==u?void 0:u.addresses.length),selectedNftsToHide:u}))})));function Dk(e){let t=document.querySelector(`meta[name="theme-color"][media="(prefers-color-scheme: ${e?"light":"dark"})"]`);return t||(t=document.createElement("meta"),t.setAttribute("name","theme-color"),t.setAttribute("media",`(prefers-color-scheme: ${e?"light":"dark"})`),document.getElementsByTagName("head")[0].appendChild(t)),t}const Ok="PUMHiqAW",Pk="j9PIExiC",Fk="l3sBnS54",Rk="WFekTm0y",Mk=pe($e((e=>({theme:e.settings.theme})),((e,t,n)=>n(e.currentAccountId)))((function(e){let{isRequired:t,theme:n,onOpenBackupWallet:a}=e;const{shouldRender:o,transitionClassNames:r}=ws(t,void 0,!0),{isLandscape:i}=po(),s=vs();if(function(e){let{isActive:t,currentTheme:n,lightColor:a,darkColor:o}=e;le((()=>{const e=Dk(!0),r=Dk(),i="dark"===n?o:a,s="light"===n?a:o;return t&&(e.setAttribute("content",i),r.setAttribute("content",s)),()=>{e.remove(),r.remove()}}),[a,t,o,n])}({isActive:t,currentTheme:n,lightColor:"#F36A6B",darkColor:"#C44646"}),o)return he.createElement("div",{className:ps(Ok,i&&Pk,r),onClick:()=>{a()}},s("Wallet is not backed up"),he.createElement("i",{className:ps(Fk,"icon-chevron-right"),"aria-hidden":!0}),he.createElement("p",{className:Rk},s("Back up wallet to have full access to it")))}))),Uk=pe($e((e=>({isSecurityWarningHidden:e.settings.isSecurityWarningHidden})))((function(t){let{isSecurityWarningHidden:n}=t;const{closeSecurityWarning:a}=He(),{shouldRender:o,transitionClassNames:r}=ws(!n,void 0,!0),{isLandscape:i}=po(),s=vs(),l=$r((e=>{e.stopPropagation(),a()}));if(o)return he.createElement("div",{className:ps(Ok,i&&Pk,r),onClick:function(){to(e.tpB)}},s("Consider More Secure Version"),he.createElement("i",{className:ps(Fk,"icon-chevron-right"),"aria-hidden":!0}),he.createElement("p",{className:Rk},s("Install our native app or browser extension.")),he.createElement("button",{type:"button",className:"tQS1IhkF","aria-label":s("Close"),onClick:l},he.createElement("i",{className:"icon-close","aria-hidden":!0})))}))),Hk=!(e.TI6||t.cp||e.hL1||t.pz||t.Ni||e.tKX),Wk=pe($e((e=>{var t;return{isBackupRequired:Boolean(null===(t=Ze(e))||void 0===t?void 0:t.isBackupRequired),isTestnet:e.settings.isTestnet}}),((e,t,n)=>n(e.currentAccountId)))((function(e){let{isBackupRequired:t,isTestnet:n,onOpenBackupWallet:a}=e;const{isPortrait:o}=po(),r=vs();return he.createElement(he.Fragment,null,n&&he.createElement("div",{className:o?"nDlx2B3w":"H35Oa6Xc"},he.createElement("div",{className:"FeOh0iRA"},r("Testnet Version"))),he.createElement(Mk,{isRequired:t,onOpenBackupWallet:a}),Hk&&he.createElement(Uk,null))}))),$k=pe($e((e=>{var t,n;const{ledger:a}=Xe(e)||{},o=Ze(e),{currentTokenSlug:r}=null!=o?o:{},{isSwapDisabled:i,isOnRampDisabled:s}=e.restrictions;return{stakingState:e.currentAccountId?Vn(e,e.currentAccountId):void 0,currentTokenSlug:r,isTestnet:e.settings.isTestnet,isLedger:Boolean(a),isStakingInfoModalOpen:e.isStakingInfoModalOpen,isMediaViewerOpen:Boolean(null===(t=e.mediaViewer)||void 0===t?void 0:t.mediaId),isSwapDisabled:i,isOnRampDisabled:s,theme:e.settings.theme,accentColorIndex:null===(n=at(e))||void 0===n?void 0:n.accentColorIndex}}),((e,t,n)=>n(e.currentAccountId)))((function(n){let{isActive:a,currentTokenSlug:o,stakingState:r,isTestnet:i,isLedger:s,isStakingInfoModalOpen:l,isSwapDisabled:c,isOnRampDisabled:d,isMediaViewerOpen:u,theme:m,accentColorIndex:p}=n;const{selectToken:f,openBackupWalletModal:h,setActiveContentTab:g,closeStakingInfo:v,openStakingInfoOrStart:w,changeCurrentStaking:y,setLandscapeActionsActiveTabIndex:b,loadExploreSites:E,openReceiveModal:k,updatePendingSwaps:C}=He(),N=me(null),S=me(null),A=me(null),[T,I]=ie(!1),[B,_]=ie(!1),x=e.UMQ?Ko():ia().safeAreaTop,[L,D,O]=Rd(!Gr()),P=r?Fs(r):"inactive";Yr(O,D),Nl("receive",k),function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];le((()=>{if(t.TF){if(!e)return null==Sv||Sv.setAttribute("content",Av),t.pz&&!t._7&&document.addEventListener("gesturestart",fs),()=>{null==Sv||Sv.setAttribute("content",Tv),t.pz&&!t._7&&document.removeEventListener("gesturestart",fs)};null==Sv||Sv.setAttribute("content",Tv)}}),[e])}(u);const{isPortrait:F,isLandscape:R}=po(),{shouldRender:M,transitionClassNames:U}=ws(T);gs((()=>{e.TI6||E({isLandscape:R})})),le((()=>{hl({forceDarkBackground:B})}),[B]),sf(C,L?3e3:15e3),le((()=>{if(!F||!a)return void I(!1);const e=t.XS-x,n=new IntersectionObserver((e=>{const{isIntersecting:t,boundingClientRect:{left:n,width:a}}=e[0];I(e.length>0&&!t&&n<a)}),{rootMargin:`${e}px 0px 0px`}),o=new IntersectionObserver((e=>{const{isIntersecting:t}=e[0];_(!t)}),{rootMargin:`-${x}px 0px 0px`,threshold:[1]}),r=N.current;return r&&(n.observe(r),o.observe(r)),()=>{r&&(n.unobserve(r),o.unobserve(r),_(!1))}}),[a,F,x]);const H=$r((()=>{f({slug:void 0}),g({tab:fn.Assets})}));le((()=>{if(t.TF&&F&&S.current&&o)return js(S.current,{excludedClosestSelector:".token-card",onSwipe:(e,t)=>t===$s.Right&&(H(),!0)})}),[o,H,F]);const W=Fd(m);Dp(F?S:A,W,p);const $=$r((e=>{e&&y({stakingId:e}),F?w():b({index:pn.Stake})}));return he.createElement(he.Fragment,null,!t.bA&&(F?he.createElement("div",{ref:S,className:"c4YKj_bz"},he.createElement("div",{className:"rfAUzAO1"},he.createElement(Wk,{onOpenBackupWallet:h}),he.createElement(Mb,{ref:N,forceCloseAccountSelector:M,onTokenCardClose:H,onYieldClick:$}),M&&he.createElement(Hb,{classNames:U}),he.createElement(mb,{isTestnet:i,stakingStatus:P,isLedger:s,isSwapDisabled:c,isOnRampDisabled:d,onEarnClick:$})),he.createElement(Lk,{onStakedTokenClick:$})):he.createElement("div",{ref:A,className:"nZyFvDbE"},he.createElement("div",{className:ps("mpB6taR7","custom-scroll")},he.createElement(Wk,{onOpenBackupWallet:h}),he.createElement(Mb,{onTokenCardClose:H,onYieldClick:$}),he.createElement(cb,{stakingStatus:P,isLedger:s,theme:m})),he.createElement("div",{className:"Sr6Y7sw5"},he.createElement(Lk,{onStakedTokenClick:$})))),he.createElement(Yw,null),he.createElement(ty,{isOpen:l,onClose:v}),he.createElement(Ow,null),he.createElement(uw,null),he.createElement(oy,null),he.createElement(Qw,null),he.createElement(cy,null),he.createElement(dy,null),!t.cp&&!t.bA&&he.createElement(ry,null))}))),Vk=pe((function(t){let{isActive:n,isLoading:a,error:o,onClearError:r,onSubmit:i,onBack:s,onClose:l}=t;const c=vs();return Ql({isActive:n,onBack:s}),he.createElement(he.Fragment,null,!Qo()&&he.createElement(yf,{title:c("Enter Password"),onClose:l}),he.createElement(sp,{isActive:n,isLoading:a,error:o,operationType:"passcode",withCloseButton:e.UMQ,submitLabel:c("Send"),cancelLabel:c("Back"),onSubmit:i,onCancel:s,onUpdate:r}))})),zk="LBe89K7I",qk="MTmELA24";var Kk=function(e){return e[e.Initial=0]="Initial",e[e.Password=1]="Password",e[e.ConnectHardware=2]="ConnectHardware",e[e.SelectAccountsHardware=3]="SelectAccountsHardware",e}(Kk||{});const jk=pe($e((e=>{var t,n,a;const o=Ge(e),r=tt(e),{byId:i}=null!==(t=e.walletVersions)&&void 0!==t?t:{},s=null==i?void 0:i[e.currentAccountId],l=!(null==s||!s.length),{hardwareWallets:c,hardwareState:d,isLedgerConnected:u,isTonAppConnected:m}=e.hardware;return{isOpen:e.isAddAccountModalOpen,isLoading:null===(n=e.accounts)||void 0===n?void 0:n.isLoading,error:null===(a=e.accounts)||void 0===a?void 0:a.error,accounts:o,firstNonHardwareAccount:r,hardwareState:d,hardwareWallets:c,isLedgerConnected:u,isTonAppConnected:m,isOtherVersionsExist:l}}))((function(n){let{isOpen:a,isLoading:o,error:r,hardwareWallets:i,firstNonHardwareAccount:s,accounts:l,hardwareState:c,isLedgerConnected:d,isTonAppConnected:u,isOtherVersionsExist:m}=n;const{addAccount:p,clearAccountError:f,closeAddAccountModal:h,afterSelectHardwareWallets:g,openSettingsWithState:v,clearAccountLoading:w}=He(),y=vs(),[b,E]=ie(Kk.Initial),[k,C]=ie(!1),N=$r((()=>{E(Kk.Initial),f()})),S=$r((()=>{E(Kk.Initial),C(!1),w()})),A=$r((()=>{s?(E(Kk.Password),C(!1)):p({method:"createAccount",password:""})})),T=$r((()=>{s?(E(Kk.Password),C(!0)):p({method:"importMnemonic",password:""})})),I=$r((()=>{E(Kk.ConnectHardware)})),B=$r((()=>{g({hardwareSelectedIndices:[i[0].index]}),h()})),_=$r((e=>{e?B():E(Kk.SelectAccountsHardware)})),x=$r((e=>{p({method:k?"importMnemonic":"createAccount",password:e})})),L=$r((()=>{h(),v({state:un.WalletVersion})}));function D(n,a,s){switch(s){case Kk.Initial:return function(n){return he.createElement(he.Fragment,null,he.createElement(yf,{title:y("Add Wallet"),onClose:h}),he.createElement(xm,{size:e.igk,play:n,noLoop:!1,nonInteractive:!0,className:"EZgbjNjA",tgsUrl:Ju.forge,previewUrl:Ju.forgePreview}),he.createElement("p",{className:"KUwFv7ti"},dr(y("$add_account_description1",{app_name:e.C39}))),he.createElement("div",{className:"cYtg8tBc"},he.createElement(ec,{isPrimary:!0,className:ps(zk,qk),onClick:A},y("Create Wallet")),he.createElement("span",{className:"nnhxqZYR"},y("or import from")),he.createElement("div",{className:ps("Gnbk4xJi",!m&&"yX8s5GFD")},he.createElement(ec,{className:ps(zk,!t.sC&&qk),onClick:T},y("Secret Words")),t.sC&&he.createElement(ec,{className:ps(zk,"BB2l0HAn"),onClick:I},y("Ledger"))),m&&he.createElement("div",{className:"Ai_X8CqD"},he.createElement("span",null,y("$wallet_switch_version_1",{action:he.createElement("div",{role:"button",tabIndex:0,onClick:L,className:"d8gw7TAv"},y("$wallet_switch_version_2"))})))))}(n);case Kk.Password:return he.createElement(Vk,{isActive:n,isLoading:o,error:r,onClearError:f,onSubmit:x,onBack:N,onClose:h});case Kk.ConnectHardware:return he.createElement(Yh,{isActive:n,state:c,isLedgerConnected:d,isTonAppConnected:u,onConnected:_,onCancel:N,onClose:h});case Kk.SelectAccountsHardware:return he.createElement(kv,{accounts:l,hardwareWallets:i,onCancel:N,onClose:h})}}return he.createElement(Yc,{hasCloseButton:!0,isOpen:a,noBackdropClose:!0,dialogClassName:"ZNc8nV1w",contentClassName:"BGrP96yj",nativeBottomSheetKey:"add-account",forceFullNative:b===Kk.Password,onCloseAnimationEnd:S,onClose:h},he.createElement(gp,{name:fh(),className:ps(Vc.transition,"custom-scroll"),slideClassName:Vc.transitionSlide,activeKey:b,nextKey:b===Kk.Initial?Kk.Password:void 0},D))}))),Yk=pe((function(e){let{isActive:t,isInModal:n,mnemonic:a,checkIndexes:o,buttonLabel:r,onCancel:i,onSubmit:s,onClose:l}=e;const c=vs();return Ql({isActive:t,onBack:i}),he.createElement("div",{className:Vc.transitionContentWrapper},he.createElement(yf,{title:c("Let's Check!"),onClose:l}),he.createElement("div",{className:ps(Vc.transitionContent,"custom-scroll")},he.createElement("p",{className:ps(kf.info,kf.small)},c("Let’s make sure your secrets words are recorded correctly.")),he.createElement(Of,{descriptionClassName:ps(kf.info,kf.small),isActive:t,mnemonic:a,checkIndexes:o,isInModal:n,errorClassName:ps(kf.error,kf.small),onSubmit:s}),he.createElement("div",{className:Vc.buttons},he.createElement(ec,{onClick:i,className:Vc.button},c("Back")),he.createElement(ec,{isPrimary:!0,forFormId:"check_mnemonic_form",className:Vc.button},r))))})),Gk=pe((function(e){let{isActive:t,mnemonic:n,onNext:a,onClose:o}=e;const r=vs(),i=(null==n?void 0:n.length)||0;return Ql({isActive:t,onBack:o}),he.createElement("div",{className:Vc.transitionContentWrapper},he.createElement(yf,{title:r("%1$d Secret Words",i),onClose:o}),he.createElement("div",{className:ps(kf.mnemonicContainer,Vc.transitionContent,"custom-scroll")},he.createElement(lh,{mnemonic:n}),a&&he.createElement("div",{className:Vc.buttons},he.createElement(ec,{isPrimary:!0,onClick:a},r("Let's Check")))))})),Qk=pe((function(e){let{isActive:t,privateKeyHex:n,onClose:a}=e;const o=vs();return Ql({isActive:t,onBack:a}),he.createElement("div",{className:Vc.transitionContentWrapper},he.createElement(yf,{title:o("Private Key"),onClose:a}),he.createElement("div",{className:ps(kf.mnemonicContainer,Vc.transitionContent,"custom-scroll")},he.createElement("p",{className:ps(kf.info,kf.small)},he.createElement(wf,{from:"⚠️"})," ",dr(o("$mnemonic_warning"))),he.createElement("p",{className:kf.privateKey},n)))})),Xk=pe((function(e){let{isActive:t,onSubmit:n,onClose:a}=e;const o=vs(),[r,i]=ie(!1),[s,l]=ie(!1),[c,d]=ie(!1),u=r&&s&&c,m=$r((()=>{u&&n()}));return he.createElement("div",{className:Vc.transitionContentWrapper},he.createElement(yf,{title:o("Safety Rules"),onClose:a}),he.createElement("div",{className:ps(Vc.transitionContent,"custom-scroll")},he.createElement(ih,{customStickerClassName:kf.modalSticker,customButtonWrapperClassName:Vc.buttons,isFullSizeButton:!1,isActive:t,isFirstCheckboxSelected:r,isSecondCheckboxSelected:s,isThirdCheckboxSelected:c,textFirst:o("$safety_rules_one"),textSecond:o("$safety_rules_two"),textThird:o("$safety_rules_three"),onFirstCheckboxClick:i,onSecondCheckboxClick:l,onThirdCheckboxClick:d,onSubmit:m})))}));var Jk=function(e){return e[e.confirm=0]="confirm",e[e.password=1]="password",e[e.mnemonic=2]="mnemonic",e[e.check=3]="check",e}(Jk||{});const Zk=pe($e((e=>{const{isBackupRequired:t}=Ze(e)||{};return{currentAccountId:e.currentAccountId,isBackupRequired:t}}))((function(t){let{isOpen:a,currentAccountId:o,onClose:r,isBackupRequired:i}=t;const{setIsBackupRequired:s,setIsPinAccepted:l,clearIsPinAccepted:c}=He(),d=vs(),[u,m]=ie(Jk.confirm),[p,f]=ie(Jk.password),[h,g]=ie([]),[v,w]=ie(!1),[y,b]=ie(),E=me(void 0),k=u===Jk.confirm||u===Jk.password;le((()=>{E.current=void 0}),[a]);const C=$r((()=>{m(Jk.password),f(Jk.mnemonic)})),N=$r((async e=>{if(w(!0),E.current=await(0,n.p)("fetchMnemonic",o,e),!E.current)return b("Wrong password, please try again."),w(!1),void nr();Qo()&&(l(),await ar(!0),c()),w(!1),f(Jk.check),m(Jk.mnemonic)})),S=$r((()=>{b(void 0)})),A=$r((()=>{var t;g(es((null===(t=E.current)||void 0===t?void 0:t.length)||e.xA_)),m(Jk.check),f(void 0)})),T=$r((()=>{m(Jk.mnemonic),f(Jk.check)})),I=$r((()=>{w(!1),b(void 0),m(Jk.confirm),f(Jk.password)})),B=$r((()=>{s({isMnemonicChecked:!0}),r()}));function _(t,n,a){const o=E.current;switch(a){case Jk.confirm:return he.createElement(Xk,{isActive:t,onSubmit:C,onClose:r});case Jk.password:return he.createElement(he.Fragment,null,!Qo()&&he.createElement(yf,{title:d("Enter Password"),onClose:r}),he.createElement(sp,{isActive:t,isLoading:v,error:y,withCloseButton:e.UMQ,submitLabel:d("$back_up_auth"),cancelLabel:d("Cancel"),onSubmit:N,onCancel:r,onUpdate:S}));case Jk.mnemonic:return o&&lr(o)?he.createElement(Qk,{privateKeyHex:o[0],onClose:r}):he.createElement(Gk,{isActive:t,mnemonic:o,onNext:i?A:void 0,onClose:r});case Jk.check:return he.createElement(Yk,{isActive:t,isInModal:!0,mnemonic:E.current,checkIndexes:h,buttonLabel:d("Done"),onSubmit:B,onCancel:T,onClose:r})}}return he.createElement(Yc,{isOpen:a,hasCloseButton:!0,dialogClassName:"S7OzI0EB",nativeBottomSheetKey:"backup",forceFullNative:u===Jk.password,noResetFullNativeOnBlur:k,onClose:r,onCloseAnimationEnd:I},he.createElement(gp,{name:fh(),className:ps(Vc.transition,"custom-scroll"),slideClassName:Vc.transitionSlide,activeKey:u,nextKey:p},_))}))),eC=pe($e((e=>{const{addressByChain:t}=Je(e,e.currentAccountId)||{},{countryCode:n}=e.restrictions,{chainForOnRampWidgetModal:a}=e;return{chain:a,address:a&&(null==t?void 0:t[a]),countryCode:n,theme:e.settings.theme}}))((function(e){let{chain:t,address:a,countryCode:o,theme:r}=e;const{closeOnRampWidgetModal:i,showError:s}=He(),l=Boolean(t)&&Boolean(a),c=vs(),d=me(),[u,m]=ie(!0),[p,f]=ie(!0),[h,g]=ie(""),v=Fd(r);le((()=>(l||(m(!0),f(!0),g("")),()=>window.clearTimeout(d.current))),[l]),le((()=>{l&&("RU"!==o?(async()=>{const e=await(0,n.p)("getMoonpayOnrampUrl",t,a,v);e&&"error"in e?s({error:e.error}):g((null==e?void 0:e.url)||"")})():g(`https://dreamwalkers.io/ru/mytonwallet/?wallet=${a}&give=CARDRUB&take=TON&type=buy`))}),[a,v,t,o,l]);const w=()=>{f(!1),d.current=window.setTimeout((()=>{m(!1)}),200)};return he.createElement(Yc,{hasCloseButton:!0,isOpen:l,title:c("Buy with Card"),dialogClassName:"LcOFGyVq",forceFullNative:!0,nativeBottomSheetKey:"onramp-widget",onClose:i},he.createElement("div",{className:"ccR1JZvK"},he.createElement("div",{className:ps("RfEkSEyB",!p&&"X5xveqOQ",!u&&"m3F53tk6")},he.createElement(Ph,null)),function(){if(h)return he.createElement("iframe",{title:"On Ramp Widget",onLoad:w,className:ps("l_Jb77z9",!p&&"ZRxV9CWH"),width:"100%",height:"100%",frameBorder:"none",allow:"autoplay; camera; microphone; payment",src:h},c("Cannot load widget"))}()))}))),tC="Fq9FxTrz",nC=t.pz?160:360,aC=t.pz?650:500,oC=t.pz?250:500,rC=pe((function(e){let{isOpen:n,onClose:a}=e;const{handleQrCode:o}=He(),[r,i]=ie(!1),[s,l]=ie(!1),[d,u]=ie(!1),m=vs(),p=me(null);gs((()=>{Ld.isTorchAvailable().then((e=>{i(e.available)})),Ld.isTorchEnabled().then((e=>{l(e.enabled)}))}));const f=$r((async()=>{Rc(document.documentElement,tC),await Ld.stopScan()})),h=$r((()=>{u(!1),a()})),g=$r((async()=>{const e={formats:[Id.QrCode]},n=function(e){if(!e)return;const n=e.getBoundingClientRect(),a={left:n.left*t.Lv,right:n.right*t.Lv,top:n.top*t.Lv,bottom:n.bottom*t.Lv,width:n.width*t.Lv,height:n.height*t.Lv};return[[a.left,a.top],[a.left+a.width,a.top],[a.left+a.width,a.top+a.height],[a.left,a.top+a.height]]}(p.current);await Ld.removeAllListeners();const a=await Ld.addListener("barcodeScanned",(async e=>{let{cornerPoints:r}=e.barcode;r=r?function(e){e.sort(((e,t)=>e[1]-t[1]));const t=e.slice(0,2),n=e.slice(2);return t.sort(((e,t)=>t[0]-e[0])),n.sort(((e,t)=>e[0]-t[0])),[...t,...n]}(r):void 0,n&&r&&!function(e,t){return e[0][0]>t[0][0]||e[0][1]>t[0][1]||e[1][0]<t[1][0]||e[1][1]>t[1][1]||e[2][0]<t[2][0]||e[2][1]<t[2][1]||e[3][0]>t[3][0]||e[3][1]<t[3][1]}(n,r)&&(await a.remove(),await ar(),o({data:e.barcode.rawValue}),h(),await(0,c.v7)(oC),t.pz&&Rc(document.documentElement,tC))}));u(!0),await Ld.startScan(e)}));vl((e=>{let a,o,[r]=e;if(!t.KI)return n?(a=window.setTimeout(g,nC),o=window.setTimeout((()=>{Fc(document.documentElement,tC)}),aC)):r&&h(),()=>{a&&window.clearTimeout(a),o&&window.clearTimeout(o)}}),[n,h,g]);const v=$r((async()=>{s?await Ld.disableTorch():await Ld.enableTorch(),l(!s)})),w=ps("GRYD1l1J",s&&"om10jZuu");return he.createElement(Yc,{isOpen:n,onClose:h,nativeBottomSheetKey:"qr-scanner",forceFullNative:!0,onCloseAnimationEnd:f},he.createElement("div",{className:ps("D8GViz8d",d&&"MmIKemUX")},he.createElement("div",{className:"CxvvAWsI","aria-label":m("Close"),role:"button",tabIndex:0,onClick:h},he.createElement("i",{className:ps(Vc.closeIcon,"icon-close"),"aria-hidden":!0})),r&&he.createElement("div",{className:w,onClick:v,"aria-label":m("Toggle Flashlight"),role:"button",tabIndex:0},he.createElement("i",{className:"icon-flashlight","aria-hidden":!0})),he.createElement("div",{className:"D1xdmb1p"},m("Scan QR Code")),he.createElement("div",{className:"cQ9fX2T7",ref:p},he.createElement("div",{className:"Y5_NorwC"}))))}));var iC=function(e){return e[e.confirm=0]="confirm",e[e.password=1]="password",e[e.complete=2]="complete",e}(iC||{});const sC=pe($e((e=>{const{dataHex:t,error:n,isSigned:a}=e.currentSignature||{};return{dataHex:t,error:n,isSigned:a}}))((function(e){let{dataHex:t,error:n,isSigned:a}=e;const{submitSignature:o,clearSignatureError:r,cancelSignature:i}=He(),s=vs(),[l,c,d]=Rd(!1),[u,m]=ie(iC.confirm),[p,f]=ie(iC.password);ce((()=>{t&&(m(iC.confirm),f(iC.password),c())}),[t,c]),ce((()=>{a&&(m(iC.complete),f(void 0))}),[a]),le((()=>u===iC.complete?Qs({onEnter:d}):void 0),[d,u]);const h=$r((()=>{m(iC.password),f(iC.complete)})),g=$r((e=>{o({password:e})}));function v(e,a,o){switch(o){case iC.confirm:return he.createElement(he.Fragment,null,he.createElement(yf,{title:s("Confirmation"),onClose:d}),he.createElement("div",{className:Vc.transitionContent},he.createElement("div",{className:Vy},s("Signing Data")),he.createElement("div",{className:Ky},t),he.createElement("div",{className:"IHEwWBxd"},dr(s("$signature_warning"))),he.createElement("div",{className:Vc.buttons},he.createElement(ec,{className:Vc.button,onClick:d},s("Cancel")),he.createElement(ec,{isPrimary:!0,className:Vc.button,onClick:h},s("Sign")))));case iC.password:return function(e){return he.createElement(he.Fragment,null,he.createElement(yf,{title:s("Enter Password"),onClose:d}),he.createElement(sp,{isActive:e,error:n,submitLabel:s("Sign"),cancelLabel:s("Cancel"),onSubmit:g,onCancel:d,onUpdate:r}))}(e);case iC.complete:return function(e){return he.createElement(he.Fragment,null,he.createElement(yf,{title:s("Done!"),onClose:d}),he.createElement("div",{className:ps(Vc.transitionContent,Vc.transitionContent_simple)},he.createElement(xm,{play:e,noLoop:!1,nonInteractive:!0,className:"wlPR2AOa",tgsUrl:Ju.thumbUp,previewUrl:Ju.thumbUpPreview}),he.createElement("div",{className:"bgrj6VK3"},s("Signing was confirmed!")),he.createElement("div",{className:Vc.buttons},he.createElement(ec,{isPrimary:!0,onClick:d},s("Close")))))}(e)}}return he.createElement(Yc,{hasCloseButton:!0,isOpen:l,dialogClassName:"nrINNy28",onClose:d,onCloseAnimationEnd:i},he.createElement(gp,{name:fh(),className:ps(Vc.transition,"custom-scroll"),slideClassName:Vc.transitionSlide,activeKey:u,nextKey:p},v))})));function lC(e,t){const n=Bl(e,!0),a=me(),o=ge(),r=null!=e,i=null!=n;return r&&a.current&&(clearTimeout(a.current),a.current=void 0),_l((()=>{t&&!r&&i&&!a.current&&(a.current=window.setTimeout((()=>{a.current=void 0,o()}),t))}),[t,o,r,i]),a.current&&t&&!r?n:e}const cC=pe((function(e){let{timestamp:t,deadline:n,onCompleted:a}=e;vs();const o=Math.floor((t+n-Date.now())/Xn.Z2),[r,i]=ie(Math.max(o,0)),s=r<=300;return le((()=>{const e=setTimeout((()=>{r<=0||i(Math.floor((t+n-Date.now())/Xn.Z2))}),Xn.Z2);return r<=0&&(null==a||a()),()=>clearTimeout(e)}),[r,a,t,n]),he.createElement("span",{className:ps("AsvSkk14",s&&"CZBR69BT")},function(e,t){const n=e=>e.toString().padStart(2,"0"),a=Math.floor(t/3600),o=Math.floor(t%3600/60),r=t%60;let i=a>0?`${a}:`:"";return i+=`${a>0?n(o):o}:`,i+=n(r),i}(0,r))})),dC={infoBlock:"DqUj918m",infoRow:"suN_Ci9f",noIcon:"SUjgosvS",noCurrency:"RjCLBwiu",infoRowIcon:"kaMx21E_",infoRowToken:"iNWWwjqK",label:"uLUQH_M3",infoRowChain:"NcAsWeQk",infoRowAmount:"TzvDf_Jl",infoRowAmountGreen:"I6xrY9jc",infoRowAmountError:"iiFYcyID",infoRowCurrency:"zab5hSsH",infoRowCurrencyValue:"Q3pxLMbG",infoSeparator:"ZO00ZPul",infoSeparatorIcon:"fPy_1zLl",infoSeparatorIconError:"GP0AJq0W"},uC=pe((function(t){let{isSensitiveDataHidden:n,tokenIn:a,amountIn:o,tokenOut:r,amountOut:i,isError:s=!1}=t;const l=de((()=>Hv(5,13,null!=o?o:"")),[o]),c=de((()=>Hv(5,13,null!=i?i:"")),[i]);function d(t,l){var c;let d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0",u=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const m=u?d:-d,p=Boolean(l&&e.OZB[l.slug]);return he.createElement("div",{className:ps(dC.infoRow,!l&&dC.noIcon,u&&dC.noCurrency)},Boolean(l)&&he.createElement(Fv,{token:l,withChainIcon:!0,className:dC.infoRowIcon}),he.createElement("span",{className:dC.infoRowToken},null==l?void 0:l.name,p&&he.createElement("span",{className:ps(dC.label,dC.chainLabel)},e.OZB[l.slug])),he.createElement(Xv,{isActive:n,cols:t,rows:2,cellSize:8,align:"right",className:ps(dC.infoRowAmount,u&&dC.infoRowAmountGreen,s&&dC.infoRowAmountError)},vr(m,null!==(c=null==l?void 0:l.symbol)&&void 0!==c?c:"")),he.createElement("span",{className:dC.infoRowChain},$v(null==l?void 0:l.chain)),!u&&function(e,t,n,a){const o=wy(e,t,n,a);return o?he.createElement("span",{className:dC.infoRowCurrency},o.firstCurrencySymbol," ≈",he.createElement("span",{className:dC.infoRowCurrencyValue},o.price," ",o.secondCurrencySymbol)):void 0}(o,i,a,r))}return he.createElement("div",{className:dC.infoBlock},d(l,a,o),he.createElement("div",{className:dC.infoSeparator},he.createElement("i",{className:ps(dC.infoSeparatorIcon,s&&dC.infoSeparatorIconError,s?"icon-close":"icon-arrow-down"),"aria-hidden":!0})),d(c,r,i,!0))}));function mC(e){let{terms:t,token:n,precision:a,isLoading:o,className:r}=e;const i=vs();return he.createElement("div",{className:r},he.createElement("div",{className:"FHA1HU_P"},i("Fee")),he.createElement("div",{className:"OgExpTBf"},he.createElement(gp,{activeKey:o?1:0,name:"fade",className:"JaS_WGfX"},o?he.createElement(Jl,{isActive:!0,className:"SFz4gihZ"}):he.createElement(Ag,{terms:t,token:n,precision:a}))))}const pC={modalDialog:"E6N6MD3z",unstakeModal:"gnNvHGfL",passwordFormContent:"KL1uqo4o",passwordFormContentInModal:"CZ9Kse33",sticker:"AeVBXxbG",footer:"rQ0tvCAk",copyButtonWrapper:"VtMfi0Xs",feeField:"fSQYvfg1",comment:"jxc6euua",button:"eww3tEAs",buttonWide:"ND5LbWGY",unstakeTime:"hDTeTwua",unstakeTimeIcon:"tZ2WbGH0",scamImage:"BASL0DzO",scamAddress:"km7wfY2m",modalTitle:"yadTct7r",transactionHeader:"uAQ2u0Hd",headerTitle:"J16GqrT7",headerDate:"fiJguUso",infoBlock:"NGumnj62",textFieldWrapper:"UGOei_Ih",swapSupportBlock:"mVgCbbey",textFieldLabel:"lXDi3LO1",advancedTooltip:"hr8oR5Ry",advancedTooltipContainer:"t6X1h79H",errorCexBlock:"Qr0LqmBg",errorCexMessage:"uSKXuCCa",errorCexEmail:"cQ1RlviM",changellyInfoBlock:"IZsujzDG",changellyDescription:"IgVxAVQB",changellyDescriptionBold:"EOk33hg6",qrCode:"DfLLakci",qrCodeHidden:"L9e2rlZo",scamWarning:"OAz9rga6"},fC=new Set(["new","waiting"]),hC=new Set(["new","waiting","confirming","exchanging","sending"]),gC=new Set(["failed","expired","refunded","overdue"]),vC=new Set(["failed","expired"]),wC=pe($e((e=>{var t,n;const a=Ze(e),o=Xe(e),{isSwapDisabled:r}=e.restrictions,{theme:i,isSensitiveDataHidden:s}=e.settings,l=null==a?void 0:a.currentActivityId,c=l?null==a||null===(t=a.activities)||void 0===t?void 0:t.byId[l]:void 0;return{activity:"swap"===(null==c?void 0:c.kind)?c:void 0,tokensBySlug:null===(n=e.swapTokenInfo)||void 0===n?void 0:n.bySlug,theme:i,addressByChain:null==o?void 0:o.addressByChain,isSwapDisabled:r||e.settings.isTestnet,isSensitiveDataHidden:s}}))((function(t){let{activity:n,tokensBySlug:a,theme:o,addressByChain:r,isSwapDisabled:i,isSensitiveDataHidden:s}=t;const{fetchActivityDetails:l,startSwap:c,closeActivityInfo:d}=He(),u=vs(),{isPortrait:m}=po(),p=Boolean(n),f=Me().settings.animationLevel===e.dnp?0:(m?qc:zc)+e.xB5,h=lC(n,f),g=Fd(o),{id:v,hashes:w,timestamp:y,networkFee:b="0",ourFee:E="0",shouldLoadDetails:k}=null!=h?h:{},{payinAddress:C,payoutAddress:N,payinExtraId:S}=(null==h?void 0:h.cex)||{};let A="0",T="0",I=!0,B=!1,_=!1,x=!1,L=!1,D=!1,O=!1,P=!1,F=!1,R="",M="",U="",H=!0,W=!1;const $=de((()=>{if(null!=h&&h.from&&a)return os(a,h.from)}),[null==h?void 0:h.from,a]),V=de((()=>{if(null!=h&&h.to&&a)return os(a,h.to)}),[null==h?void 0:h.to,a]),z=is({from:$,to:V,toAddress:N,addressByChain:r});if(h){const{status:t,from:n,cex:a}=h;if(A=h.fromAmount,T=h.toAmount,H=n===e.Tu9.slug,x=Boolean(a),a?(W=!!y&&y+e.JWy-Date.now()<0,F=fC.has(a.status)&&W,_="finished"!==a.status,I=!F&&hC.has(a.status),P=I,L=F||gC.has(a.status),D="hold"===a.status,O="waiting"===a.status&&!F&&!z&&!H,R=a.transactionId):(I="pending"===t,B=vC.has(t)),I)M=u("Swapping");else if(D)M=u("Swap On Hold");else if(L){var q;const{status:e}=null!==(q=h.cex)&&void 0!==q?q:{};"expired"===e||"overdue"===e?(M=u("Swap Expired"),U=u("You have not sent the coins to the specified address.")):"refunded"===e?(M=u("Swap Refunded"),U=u("Exchange failed and coins were refunded to your wallet.")):M=u("Swap Failed")}else M=u(B?"Swap Failed":"Swapped")}const K=v?x?null==w?void 0:w[0]:Wt(v).hash:void 0,j=Qa("ton",K),Y=!S&&"ton"===(null==V?void 0:V.chain)&&!z,{qrCodeRef:G,isInitialized:Q}=Bw({address:C,isActive:Boolean(C),hiddenClassName:pC.qrCodeHidden,hideLogo:!0}),X=$r((()=>{d({id:v})})),J=$r((()=>{d({id:v}),c({tokenInSlug:$.slug,tokenOutSlug:V.slug,amountIn:A})}));function Z(){if(S)return he.createElement("div",{className:pC.textFieldWrapper},he.createElement("span",{className:pC.textFieldLabel},u("Memo")),he.createElement(bg,{address:S,copyNotification:u("Memo was copied!"),noSavedAddress:!0,noExplorer:!0}))}function ee(){if(!Number(b)&&!k||!$)return;const e=H?{native:(0,yt.z)(b).add(E).toString()}:{native:b,token:E};return he.createElement(mC,{terms:e,token:$,precision:"pending"===(null==n?void 0:n.status)?"approximate":"exact",isLoading:k,className:pC.feeField})}return le((()=>{v&&l({id:v})}),[v]),he.createElement(Yc,{hasCloseButton:!0,title:he.createElement("div",{className:pC.transactionHeader},he.createElement("div",{className:pC.headerTitle},M,I&&he.createElement(xm,{play:p,size:e.wg4,nonInteractive:!0,noLoop:!1,tgsUrl:Ju[g].iconClock,previewUrl:Ju[g].preview.iconClock})),!!y&&he.createElement("div",{className:pC.headerDate},(0,Xn.TK)(u.code,y),", ",(0,Xn.fU)(y))),titleClassName:pC.modalTitle,isOpen:p,nativeBottomSheetKey:"swap-activity",onClose:X},he.createElement("div",{className:Vc.transitionContent},he.createElement(uC,{isSensitiveDataHidden:s,tokenIn:$,amountIn:A,tokenOut:V,amountOut:T,isError:B||L}),he.createElement("div",{className:pC.infoBlock},function(){if(O){var t;if(z)return;const n=rs(null==$?void 0:$.chain)?$.chain:void 0;return he.createElement("div",{className:pC.changellyInfoBlock},ee(),he.createElement("span",{className:pC.changellyDescription},u("$swap_changelly_to_ton_description1",{value:he.createElement("span",{className:pC.changellyDescriptionBold},vr(Number(A),null!==(t=null==$?void 0:$.symbol)&&void 0!==t?t:"",!0)),blockchain:he.createElement("span",{className:pC.changellyDescriptionBold},$v(null==$?void 0:$.chain)),time:he.createElement(cC,{timestamp:null!=y?y:0,deadline:e.JWy})})),he.createElement(bg,{chain:n,address:C,copyNotification:u("Address was copied!"),noSavedAddress:!0,noExplorer:!0,noDimming:!0}),Z(),Y&&he.createElement("div",{className:ps(pC.qrCode,!Q&&pC.qrCodeHidden),ref:G}))}return he.createElement(he.Fragment,null,ee(),!z&&function(){if(!C)return;const e=H?V:$,t=rs(null==e?void 0:e.chain)?e.chain:void 0;return he.createElement("div",{className:pC.textFieldWrapper},he.createElement("span",{className:pC.textFieldLabel},H?u("Your %blockchain% Address",{blockchain:null==V?void 0:V.name}):u("Address for %blockchain% transfer",{blockchain:null==$?void 0:$.name})),he.createElement(bg,{chain:t,address:H?N:C,copyNotification:u("Address was copied!"),noSavedAddress:!0,noExplorer:!0,noDimming:!0}))}(),!z&&Z())}(),_&&(D?he.createElement("div",{className:pC.textFieldWrapper},he.createElement("span",{className:pC.changellyDescription},u("$swap_changelly_kyc_security",{email:he.createElement("span",{className:pC.changellyDescriptionBold},e.gpw)})),R&&he.createElement(bg,{text:R,copyNotification:u("Transaction ID was copied!"),noSavedAddress:!0,noExplorer:!0})):he.createElement("div",{className:ps(pC.textFieldWrapper,pC.swapSupportBlock)},U&&he.createElement("span",{className:pC.errorCexMessage},U),P&&he.createElement("span",{className:ps(pC.changellyDescription)},u("Please note that it may take up to a few hours for tokens to appear in your wallet.")),W&&he.createElement(he.Fragment,null,he.createElement("span",{className:pC.changellyDescription},u("$swap_changelly_support",{livechat:he.createElement("a",{href:e.o$d,target:"_blank",rel:"noreferrer",className:pC.changellyDescriptionBold},u("Changelly Live Chat")),email:he.createElement("span",{className:pC.changellyDescriptionBold},e.HWN)})),R&&he.createElement(bg,{text:R,copyNotification:u("Transaction ID was copied!"),noSavedAddress:!0,noExplorer:!0})))),j&&he.createElement("div",{className:pC.textFieldWrapper},he.createElement("span",{className:pC.textFieldLabel},u("Transaction ID")),he.createElement(bg,{noSavedAddress:!0,chain:"ton",address:K,addressUrl:j,isTransaction:!0,copyNotification:u("Transaction ID was copied!")}))),!i&&he.createElement("div",{className:pC.footer},function(){let e=!0,t="Swap Again";if(O)return he.createElement(ec,{onClick:X,className:pC.button},u("Close"));if(D)e=!1;else if(L){var n;const{status:e}=null!==(n=null==h?void 0:h.cex)&&void 0!==n?n:{};"expired"!==e&&"refunded"!==e&&"overdue"!==e||(t="Try Again")}return e?he.createElement(ec,{onClick:J,className:pC.button},u(t)):void 0}())))}))),yC="cuIyqZ4t",bC="zrLwT6fF",EC=pe((function(t){let{isIncoming:n,isScam:a,amount:o,decimals:r,tokenSymbol:i,status:s,noSign:l=!1,isSensitiveDataHidden:c}=t;const d=(0,wt.nI)(l?(0,Dn.wg)(o):o,r),[u,m]=vr(d,"",l,r).split("."),p=Boolean(s);return he.createElement(Xv,{isActive:c,cols:12,rows:p?7:4,align:"center",cellSize:p?17:18,className:"__I8XE5D"},he.createElement("div",{className:ps("Qy2zkhK5",s&&"MeZ5UFq3",n&&!a&&yC,a&&bC,"rounded-font")},u.trim().replace(" ",""),m&&he.createElement("span",{className:"F1teTrIV"},".",m.trim()),he.createElement("span",{className:"AgH98knQ"},i||e.Tu9.symbol)),p&&he.createElement("div",{className:ps("COF5DpZg",n&&!a&&yC,a&&bC)},s))}));var kC=function(e){return e[e.initial=0]="initial",e[e.password=1]="password",e}(kC||{});const CC=pe($e((e=>{var t,n;const a=e.currentAccountId,o=Ze(e),r=null==o?void 0:o.currentActivityId,i=r?null==o||null===(t=o.activities)||void 0===t?void 0:t.byId[r]:void 0,s=null==o?void 0:o.savedAddresses,{byAddress:l}=(null==o?void 0:o.nfts)||{},c=e.stakingInfo,d=$n(e,a),{isTestnet:u,theme:m,isSensitiveDataHidden:p}=e.settings;return{transaction:"transaction"===(null==i?void 0:i.kind)?i:void 0,tokensBySlug:null===(n=e.tokenInfo)||void 0===n?void 0:n.bySlug,savedAddresses:s,isTestnet:u,isLongUnstakeRequested:null==o?void 0:o.isLongUnstakeRequested,isMediaViewerOpen:Boolean(e.mediaViewer.mediaId),theme:m,stakingInfo:c,stakingStates:d,isSensitiveDataHidden:p,nftsByAddress:l}}))((function(t){var a,o,r;let{transaction:i,tokensBySlug:s,savedAddresses:l,isTestnet:c,stakingInfo:d,stakingStates:u,isLongUnstakeRequested:m,isMediaViewerOpen:p,theme:f,isSensitiveDataHidden:h,nftsByAddress:g}=t;const{fetchActivityDetails:v,startTransfer:w,startStaking:y,startUnstaking:b,closeActivityInfo:E,setIsPinAccepted:k,clearIsPinAccepted:C,setLandscapeActionsActiveTabIndex:N}=He(),S=vs(),{isPortrait:A}=po(),[T,I]=ie(kC.initial),[B,_]=ie(kC.password),x=Me().settings.animationLevel===e.dnp?0:(A?qc:zc)+e.xB5,L=lC(i,x),[D,O]=ie(Date.now()+e.Xhd),P=Fd(f),{fromAddress:F,toAddress:R,amount:M,comment:U,encryptedComment:H,fee:W,id:$,isIncoming:V,slug:z,timestamp:q,nft:K,shouldLoadDetails:j}=L||{},Y=Boolean($&&$t($)),G="unstake"===(null==L?void 0:L.type),Q=Boolean(null==L?void 0:L.nft),X=z?null==s?void 0:s[z]:void 0,J=null==X?void 0:X.chain,Z=X?kn(X.chain):void 0,ee=V?F:R,te=de((()=>{var e;return ee&&J&&(null==l||null===(e=l.find((e=>e.address===ee&&e.chain===J)))||void 0===e?void 0:e.name)}),[ee,J,l])||(null==i||null===(a=i.metadata)||void 0===a?void 0:a.name),ne=V&&Ft(L),ae=Boolean(i)&&jt(i),oe=Boolean(i)&&!p,re=J&&$?Wt($).hash:void 0,se=Boolean(K&&(null==g?void 0:g[K.address])),[ce,ue]=ie(),[me,pe]=ie(),fe=J?Qa(J,re,c):void 0,[ge,ve]=ie(!1),{shouldRender:we,transitionClassNames:ye}=ws(Boolean((!Y||"tron"===J)&&fe)),be=de((()=>null==u?void 0:u.find((t=>t.tokenSlug===e.Tu9.slug&&t.balance>0n))),[u]),Ee=be&&Fs(be),ke="nominators"===(null==be?void 0:be.type)?be.start:null==d||null===(o=d.round)||void 0===o?void 0:o.start,Ce="nominators"===(null==be?void 0:be.type)?be.end:null==d||null===(r=d.round)||void 0===r?void 0:r.end;le((()=>{if("unstakeRequest"!==(null==i?void 0:i.type)||!ke)return;const e=Boolean("unstakeRequested"===Ee||m)&&i.timestamp>=ke;ve(e)}),[Ee,ke,i,m]);const{shouldRender:Ne,transitionClassNames:Se}=ws(ge);_l((()=>{L&&ue(void 0)}),[L]),_l((()=>{Ce&&O(Ce)}),[Ce]),le((()=>{$&&v({id:$})}),[$]);const Ae=$r((()=>{pe(void 0)})),Te=$r((()=>{I(kC.password),_(void 0)})),Ie=$r((()=>{I(kC.initial),_(kC.password),Ae()})),Be=$r((()=>{H&&Te()})),_e=$r((()=>{E({id:$}),w({isPortrait:A,tokenSlug:z||e.Tu9.slug,toAddress:ee,amount:(0,Dn.wg)(M),comment:V?void 0:U})})),xe=$r((()=>{E({id:$}),A?y():N({index:pn.Stake})})),Le=$r((()=>{E({id:$}),A||N({index:pn.Stake}),b()})),De=$r((async e=>{const t=await(0,n.p)("decryptComment",Me().currentAccountId,H,F,e);t?(Qo()&&(k(),await ar(!0)),Ie(),ue(t)):pe("Wrong password, please try again.")})),Oe=$r((()=>{E({id:$}),Qo()&&C()}));function Pe(t,n,a){switch(a){case kC.initial:return he.createElement(he.Fragment,null,he.createElement("div",{className:ps(Vc.header,Vc.header_wideContent)},he.createElement("div",{className:ps(Vc.title,pC.modalTitle)},he.createElement("div",{className:pC.headerTitle},i&&Kt(i,Y,S),Y&&he.createElement(xm,{play:oe,size:e.wg4,nonInteractive:!0,noLoop:!1,tgsUrl:Ju[P].iconClock,previewUrl:Ju[P].preview.iconClock}),ae&&V&&he.createElement("img",{src:gg,alt:S("Scam"),className:pC.scamImage})),!!q&&he.createElement("div",{className:pC.headerDate},(0,Xn.TK)(S.code,q),", ",(0,Xn.fU)(q))),he.createElement(ec,{isRound:!0,className:Vc.closeButton,ariaLabel:S("Close"),onClick:Oe},he.createElement("i",{className:ps(Vc.closeIcon,"icon-close"),"aria-hidden":!0}))),function(){const t=i&&Gt(i);return he.createElement("div",{className:Vc.transitionContent},"hide"!==t&&he.createElement(EC,{isSensitiveDataHidden:h,isIncoming:V,isScam:ae,amount:null!=M?M:0n,decimals:null==X?void 0:X.decimals,tokenSymbol:null==X?void 0:X.symbol,status:G&&!Ne?S("Successfully"):void 0,noSign:"noSign"===t}),K&&he.createElement(ig,{nft:K,withMediaViewer:se,withTonExplorer:!0}),ne&&he.createElement("div",{className:pC.scamWarning},S("This address mimics another address that you previously interacted with.")),i&&Qt(i)&&he.createElement(he.Fragment,null,he.createElement("div",{className:Vy},S(V?"Sender":"Recipient")),he.createElement(bg,{chain:J,addressName:te,address:ee,isScam:ae&&!V,copyNotification:S("Address was copied!"),className:pC.copyButtonWrapper,textClassName:ae&&V?pC.scamAddress:void 0})),function(){if((W||j)&&Z)return he.createElement(mC,{terms:{native:W},token:Z,precision:Y?"approximate":"exact",isLoading:j,className:pC.feeField})}(),function(){if(!U&&!H)return;const e=H?S("Message is encrypted."):ae?S("Scam comment is hidden."):void 0;return he.createElement(he.Fragment,null,he.createElement("div",{className:Vy},S("Comment")),he.createElement(bg,{text:H?ce:U,spoiler:e,spoilerRevealText:S(H?"Decrypt":"Display"),spoilerCallback:Be,copyNotification:S("Comment was copied!"),className:pC.copyButtonWrapper,textClassName:pC.comment}))}(),we&&he.createElement("div",{className:ps(pC.textFieldWrapper,ye)},he.createElement("span",{className:pC.textFieldLabel},S("Transaction ID")),he.createElement(bg,{noSavedAddress:!0,chain:J,address:re,addressUrl:fe,isTransaction:!0,copyNotification:S("Transaction ID was copied!"),className:pC.changellyTextField})),Ne&&he.createElement("div",{className:ps(pC.unstakeTime,Se)},he.createElement(xm,{play:oe,size:e.wg4,className:pC.unstakeTimeIcon,nonInteractive:!0,noLoop:!1,tgsUrl:Ju[P].iconClockGray,previewUrl:Ju[P].preview.iconClockGray}),he.createElement("div",null,S("$unstaking_when_receive",{time:he.createElement("strong",null,(0,Xn.YG)(S.code,D))}))),function(){const t=Ut.has(null==L?void 0:L.type),n=(G||"unstakeRequest"===(null==i?void 0:i.type))&&"active"===Ee,a=[];return t||V||Q||a.push(he.createElement(ec,{onClick:_e,className:pC.button},S("Repeat"))),!e.TI6&&t&&a.push(he.createElement(ec,{onClick:xe,className:ps(pC.button,n&&pC.buttonWide)},S("Stake Again"))),n&&a.push(he.createElement(ec,{onClick:Le,className:ps(pC.button,pC.buttonWide)},S("Unstake More"))),a.length?he.createElement("div",{className:pC.footer},a):void 0}())}());case kC.password:if(!H)return;return he.createElement(he.Fragment,null,!Qo()&&he.createElement(yf,{title:S("Enter Password"),onClose:Oe}),he.createElement(sp,{isActive:t,error:me,withCloseButton:e.UMQ,containerClassName:e.UMQ?pC.passwordFormContent:pC.passwordFormContentInModal,submitLabel:S("Send"),onSubmit:De,onCancel:Ie,onUpdate:Ae}))}}return he.createElement(Yc,{isOpen:oe,hasCloseButton:!0,nativeBottomSheetKey:"transaction-info",forceFullNative:T===kC.password,dialogClassName:ps(pC.modalDialog,G&&pC.unstakeModal),onClose:Oe,onCloseAnimationEnd:Ie},he.createElement(gp,{name:fh(),className:ps(Vc.transition,"custom-scroll"),slideClassName:Vc.transitionSlide,activeKey:T,nextKey:B},Pe))}))),NC=pe($e((e=>{var t;const{isUnhideNftModalOpen:n,selectedNftToUnhide:a}=null!==(t=Ze(e))&&void 0!==t?t:{};return{isOpen:n,nftAddress:null==a?void 0:a.address,nftName:null==a?void 0:a.name}}))((function(e){let{isOpen:t,nftAddress:n,nftName:a}=e;const{addNftsToWhitelist:o,closeUnhideNftModal:r}=He(),i=vs(),s=$r((()=>{o({addresses:[n]}),r()}));return he.createElement(Yc,{isOpen:t,isCompact:!0,onClose:r,title:i("Unhide NFT")},he.createElement("p",{className:Vc.text},i("$unhide_nft_warning",{name:he.createElement("b",null,a)})),he.createElement("div",{className:Vc.buttons},he.createElement(ec,{onClick:r,className:Vc.button},i("Cancel")),he.createElement(ec,{isDestructive:!0,onClick:s,className:Vc.button},i("Unhide"))))}))),SC=e=>{let{icon:n,message:a,containerId:o,onDismiss:r}=e;const[i,s]=ie(!0),l=me(null),{transitionClassNames:c}=ws(i),d=$r((()=>{s(!1),setTimeout(r,250)}));le((()=>i?Ih(d):void 0),[i,d]),le((()=>(l.current=window.setTimeout(d,5e3),()=>{l.current&&(clearTimeout(l.current),l.current=void 0)})),[d]);const u=$r((()=>{l.current&&(clearTimeout(l.current),l.current=void 0)})),m=$r((()=>{l.current=window.setTimeout(d,5e3)}));return he.createElement($c,{className:ps("h7PLFJQu",t.cp&&"I0vM5N9Z"),containerId:o},he.createElement("div",{className:ps("cBuXIi04",c),onClick:d,onMouseEnter:u,onMouseLeave:m},he.createElement("div",{className:"FOpmIM3s"},n&&he.createElement("i",{className:ps("yRP0zVnL",n),"aria-hidden":!0}),a)))},AC=pe($e((e=>(0,s.Up)(e,["notifications"])))((function(e){let{notifications:t}=e;const{dismissNotification:n}=He();if(t.length)return he.createElement("div",{id:"Notifications"},t.map((e=>{let{message:t,icon:a}=e;return he.createElement(SC,{key:t,icon:a,message:t,onDismiss:n})})))}))),TC="Gbi50r5P",IC="iX71Jk4y",BC="piyY_yBE",_C="sCCso48U",xC="BA7uSk12",LC="XeanWEkZ",DC="mO73YmbZ",OC="FjT6eSrl",PC="GUrvismB",FC="oGeErVyy",RC=200,MC=14*t.$;function UC(e,t,n,a){let o,r;var i;return e===hn.Nft&&(r=document.querySelector(n?`.transaction-nft[data-tx-id="${n}"][data-nft-address="${t}"]`:a?`.hidden-nfts-${a} [data-nft-address="${t}"]`:`.nfts-container > .Transition_slide-active [data-nft-address="${t}"]`),o=null===(i=r)||void 0===i?void 0:i.querySelector("img, canvas")),{container:r,image:o}}function HC(e){var t;const n=document.createElement("div");n.classList.add(OC);const a=new Image;return a.classList.add("oaQkWH7i"),a.draggable=!1,a.oncontextmenu=fs,a.src=e instanceof HTMLImageElement?e.src:(null===(t=e.parentElement)||void 0===t||null===(t=t.parentElement)||void 0===t?void 0:t.dataset.previewUrl)||"",n.appendChild(a),n}function WC(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t===hn.Nft&&e.classList.add(n?PC:FC)}const $C=e=>{let{isOpen:t,isHidden:n,isCustom:a,id:o,className:r,onClick:i,children:s,noCloseTransition:l,shouldAnimateFirstRender:c,style:d,ref:u}=e;const m=Bl(t),p=Bl(s),f=me(),h=void 0===m,{shouldRender:g,transitionClassNames:v}=ws(t&&!n,void 0,h&&!c,!a&&void 0,l);return m&&!t&&(f.current=p),(g||n)&&he.createElement("div",{id:o,ref:u,className:ps(r,v),onClick:i,style:d},t?s:f.current)},VC=pe($e(((e,t)=>{var n;let{mediaId:a}=t;const{mediaType:o=hn.Nft}=e.mediaViewer||{};if(!a||o!==hn.Nft)return{};const{byAddress:r}=(null===(n=Ze(e))||void 0===n?void 0:n.nfts)||{},i=null==r?void 0:r[a];if(!i)return{};const{blacklistedNftAddresses:s,whitelistedNftAddresses:l}=Ze(e)||{},{cardBackgroundNft:c,accentColorNft:d}=at(e)||{};return{nft:i,blacklistedNftAddresses:s,whitelistedNftAddresses:l,cardBackgroundNft:c,accentColorNft:d}}))((function(e){let{onClose:t,nft:n,blacklistedNftAddresses:a,whitelistedNftAddresses:o,cardBackgroundNft:r,accentColorNft:i}=e;const s=vs(),[l,c,d]=Rd(),u=de((()=>null==a?void 0:a.includes(n.address)),[n,a]),m=de((()=>null==o?void 0:o.includes(n.address)),[n,o]),p=Th(n&&n.address===(null==r?void 0:r.address),_h),f=Th(n&&n.address===(null==i?void 0:i.address),_h),{menuItems:h,handleMenuItemSelect:g}=bk({nft:n,isNftBlacklisted:u,isNftWhitelisted:m,isNftInstalled:p,isNftAccentColorInstalled:f}),v=$r((e=>{"send"===e&&t(),g(e)}));return he.createElement("div",{className:"U5k3MGwt"},he.createElement("button",{type:"button","aria-label":s("More actions"),className:ps(IC,"g5Mpmfqz",l&&"Jb3ZSQ8D"),onClick:c},he.createElement("i",{className:"icon icon-more","aria-hidden":!0})),he.createElement(Dh,{isOpen:l,items:h,menuPosition:"top",menuPositionHorizontal:"right",shouldTranslateOptions:!0,onClose:d,className:"component-theme-dark",buttonClassName:"nZ_OU1oY",onSelect:v}),he.createElement("button",{type:"button","aria-label":s("Close"),className:IC,onClick:t},he.createElement("i",{className:ps("icon-windows-close","TYO_mnqL"),"aria-hidden":!0})))}))),zC=pe($e(((t,n)=>{var a;let{mediaId:o}=n;const{mediaType:r=hn.Nft}=t.mediaViewer||{};if(!o||r!==hn.Nft)return{};const i=t.settings.isTestnet?e.PKm:e.wln,{byAddress:s}=(null===(a=Ze(t))||void 0===a?void 0:a.nfts)||{},l=null==s?void 0:s[o];return l?{title:l.name||xt(l.address,4),description:l.collectionName,descriptionUrl:`${i}collection/${l.collectionAddress}`}:{}}))((function(e){let{title:t,description:n,descriptionUrl:a}=e;const o=vs();return he.createElement("div",{className:"lzTnItyh"},he.createElement("span",{className:"Iork7lBy"},t),he.createElement("a",{href:a,target:"_blank","aria-label":o("Open NFT Collection"),className:"gVhA_SZL",rel:"noreferrer",onClick:no},he.createElement("span",{className:"VjBacQN8"},n),he.createElement("i",{className:ps("icon-tooltip","j_sdE8In"),"aria-hidden":!0})))})));function qC(e){const t=me(e());return gs((()=>e.subscribe((()=>{t.current=e()})))),t}const[KC,jC]=E(1);function YC(){return le((()=>()=>{jC(1)}),[]),[KC,jC]}const GC=pe($e(((e,t)=>{var n,a;let{mediaId:o}=t;const{mediaType:r=hn.Nft}=e.mediaViewer||{};if(r!==hn.Nft)return{};const{byAddress:i}=(null===(n=Ze(e))||void 0===n?void 0:n.nfts)||{},s=null==i?void 0:i[o];if(!s)return{};const{whitelistedNftAddresses:l}=Ze(e)||{};return{alt:s.name,thumbnail:s.thumbnail,image:s.image,lottie:null===(a=s.metadata)||void 0===a?void 0:a.lottie,description:s.description,isScam:s.isScam,whitelistedMediaIds:l}}))((function(e){let{mediaId:t,alt:n,thumbnail:a,image:o,lottie:r,description:i,isScam:s,whitelistedMediaIds:l}=e;const c=vs(),d=o||a,u=me(null),{isPortrait:m}=po();le((()=>{const e=u.current,{height:t}=e.getBoundingClientRect();(0,k.RK)((()=>{e.style.setProperty("--max-height",`${t}px`)}))}),[m]);const p=de((()=>null==l?void 0:l.includes(t)),[t,l]);return he.createElement("div",{className:"BjD2X1I7"},r?he.createElement(xm,{size:250,shouldStretch:!0,play:!0,noLoop:!1,tgsUrl:r,previewUrl:d,className:xC,noPreviewTransition:!0}):he.createElement("img",{src:d,alt:n,className:xC}),he.createElement("div",{className:LC,ref:u},i&&he.createElement("div",{className:"fJxRvPrW"},he.createElement("div",{className:ps("gAnXMdfd","custom-scroll"),dir:"auto"},s&&!p&&he.createElement("img",{src:gg,alt:c("Scam"),className:"HAC1deVa"}),i))))})));var QC=function(e){return e[e.Horizontal=0]="Horizontal",e[e.Vertical=1]="Vertical",e}(QC||{});const XC=t.TF?40:0,JC=350,{easeOutCubic:ZC,easeOutQuart:eN}=d.qM;let tN,nN;const aN=pe((function(e){let{isOpen:n,mediaId:a,selectMedia:o,getMediaId:r,withAnimation:i,onClose:s}=e;const l=vs(),u=me(null),m=me(null),p=me(null),f=me(null),h=me({x:0,y:0,scale:1}),g=me(void 0),v=me(void 0),w=me(!1),[y]=YC(),b=me(y()),[E,k]=ie(!1),[C,N]=Vv({x:0,y:0,scale:1}),S=qC(C),[A,T]=Vv(a),I=qC(A),B=nf((()=>1!==C().scale),[C]),_=nf(A),{height:x,width:L,isResizing:D}=Jw();Ql({isActive:n,onBack:s,shouldBeReplaced:!0});const O=Xw(o,[o],350,!0),P=Xw((()=>{g.current=void 0}),[],500,!0),F=t.TF?40:L/10;le((()=>{const{scale:e,x:t,y:n}=S.current;0===t&&0===n&&1===e&&T(a)}),[a,T,S]),ce((()=>{const{x:e,y:t,scale:n}=C();p.current&&(p.current.style.transform=oN(-L+e-XC)),m.current&&(m.current.style.transform=oN(e,t,n)),f.current&&(f.current.style.transform=oN(L+e+XC))}),[C,L]);const R=$r((function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=h.current;const a=r(I.current,e);if(t)return void 0!==a;if(void 0===a)return!1;const o=(L+XC)*e,s=S.current.x+o;return T(a),O(a),n={x:0,y:0,scale:1},i?(tN=(0,d.Hd)({from:s,to:0,duration:JC,timing:ZC,onUpdate:e=>N({y:0,x:e,scale:1})}),!0):(N(n),!0)})),M=$r((()=>R(1))),U=$r((()=>R(-1)));if(le((()=>{if(!u.current||void 0===I.current)return;let e=h.current;const n={x:0,y:0},a={x:0,y:0},o={x:0,y:0};let i,l=Date.now();const p=(0,c.sg)((()=>{l=Date.now()}),500,!1,!0),f=e=>{const{scale:n}=S.current;if(1!==n)return[!1,!1];let a=0;return x-e.pageY<80?[!1,!1]:(e.pageX<F?a=-1:e.pageX>L-F&&(a=1),[0!==a,R(a,!t.TF)])},y=e=>{const{scale:t}=S.current;if(1===t)switch(e.key){case"Left":case"ArrowLeft":R(-1);break;case"Right":case"ArrowRight":R(1)}},b=function(e){let{x:t,y:n,scale:a}=e,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=v.current;if(!r)return[{x:t,y:n,scale:a},!0,!0];let i=!0,s=!0;const l=(L-L*a)/2,c=(x-x*a)/2,d=Math.max(-r.left*a,l),u=L-r.right*a;i=Hs(t,u,d),t=Us(t,u,d);const m=Math.max(-r.top*a+o,c),p=x-r.bottom*a;return s=Hs(n,p,m),n=Us(n,p,m),[{x:t,y:n,scale:a},i,s]},E=t=>{if(w.current)return void(w.current=!1);"mouseup"===t.type&&k(!1);const i=S.current,{y:c,scale:u}=i;let m=i.x;const p=Math.abs(m),f=Math.abs(c);if(P(),u<1)return e={x:0,y:0,scale:1},void(tN=(0,d.Hd)({from:[m,c,u],to:[0,0,1],duration:JC,timing:ZC,onUpdate:e=>N({x:e[0],y:e[1],scale:e[2]})}));if(u>1){const r=Math.min(u,4),i=r/u;let s=m*i+(a.x-i*a.x),p=c*i+(a.y-i*a.y);const f=.15;if("wheel"!==t.type&&e.scale===u){const e=Math.abs(n.x)/(Date.now()-l),t=Math.abs(n.y)/(Date.now()-l);s-=Math.abs(n.x)*e*f*o.x,p-=Math.abs(n.y)*t*f*o.y}return[e]=b({x:s,y:p,scale:r}),void(tN=(0,d.Hd)({from:[m,c,u],to:[e.x,e.y,e.scale],duration:JC,timing:ZC,onUpdate:e=>N({x:e[0],y:e[1],scale:e[2]})}))}if(e={x:m,y:c,scale:u},f>=50)return void s();if(f>0)return void(tN=(0,d.Hd)({from:c,to:0,duration:JC,timing:ZC,onUpdate:e=>N({x:0,y:e,scale:u})}));const h=m<0?1:-1,g=r(I.current,m<0?1:-1),v=o.x<0?-1:1;void 0!==g&&p>=50&&h===v&&(m+=(L+XC)*h,T(g),O(g)),tN=(0,d.Hd)({from:m,to:0,duration:JC,timing:ZC,onUpdate:e=>N({y:0,x:e,scale:null!=u?u:1})})},C=js(u.current,{isNotPassive:!0,withNativeDrag:!0,excludedClosestSelector:`${TC}, .${LC}`,minZoom:1,maxZoom:4,doubleTapZoom:3,withWheelDrag:!0,onCapture:e=>{const{x:t,y:n,scale:a}=S.current;if("mousedown"!==e.type||(k(!0),1===a)){if(l=Date.now(),0===t&&0===n&&1===a){if(!m.current)return;if(i=m.current.querySelector("img, video"),!i)return;v.current=i.getBoundingClientRect()}}else e.preventDefault()},onDrag:(a,r,i,s)=>{let{dragOffsetX:l,dragOffsetY:c}=i;if(w.current)return;if(t.pz&&"touchstart"===r.type){const{pageX:e}=r.touches[0];if(e<=20||e>=L-20)return}tN&&(tN(),tN=void 0),o.x=n.x-l,o.y=n.y-c,n.x=l,n.y=c;const d=Math.abs(l),u=Math.abs(c),{x:m,y:f,scale:h}=S.current;if(p(),1===h){if("mousemove"!==a.type){if(g.current!==QC.Vertical&&(g.current===QC.Horizontal||Math.abs(m)>10||d/u>1.5)){g.current=QC.Horizontal;const e=L+XC,t=Us(l,-e,e);return N({x:t,y:0,scale:h}),void("wheel"===a.type&&Math.abs(t)>100&&(E(a),w.current=!0))}if(g.current===QC.Vertical||Math.abs(f)>10||u/d>1.5){g.current=QC.Vertical;const e=Us(c,-x,x);N({x:0,y:e,scale:h}),"wheel"===a.type&&Math.abs(e)>100&&(E(a),w.current=!0)}}}else{const t=e.x+l,n=e.y+c;if(["wheel","mousemove"].includes(a.type)){const[e,a,o]=b({x:t,y:n,scale:h});return s&&s(!a,!o),void N(e)}"touches"in a&&1===a.touches.length&&N({x:t,y:n,scale:h})}},onZoom:(t,n)=>{let{zoom:o,zoomFactor:r,initialCenterX:i,initialCenterY:s,dragOffsetX:l,dragOffsetY:c,currentCenterX:d,currentCenterY:u}=n;tN&&tN(),i=i||L/2,s=s||x/2,d=d||L/2,u=u||x/2;const m=null!=o?o:Us(e.scale*r,.5,12),p=m/e.scale,f=Math.abs(Math.min(e.x,0)),h=Math.abs(Math.min(e.y,0));a.x=d,a.y=u;const g=f+i,v=h+s,w=g-p*g,y=v-p*v,[E]=b({x:e.x+w+l,y:e.y+y+c,scale:m});N(E)},onClick(n){k(!1);const[a,o]=f(n);if(a){if(n.preventDefault(),n.stopPropagation(),t.TF)return;o||s()}else 1!==e.scale||t.TF||s()},onDoubleClick(n,a){let{centerX:o,centerY:r}=a;const[i]=f(n);if(i)return n.preventDefault(),void n.stopPropagation();if(!t.TF&&"wheel"!==n.type)return;const{x:s,y:l,scale:c}=S.current;if(1===c){if(0!==s||0!==l)return;e=b({x:o-3*o,y:r-3*r,scale:3})[0]}else e={x:0,y:0,scale:1};tN=(0,d.Hd)({from:[s,l,c],to:[e.x,e.y,e.scale],duration:JC,timing:ZC,onUpdate:e=>{const t={x:e[0],y:e[1],scale:e[2]};N(t)}})},onRelease:E});return document.addEventListener("keydown",y,!1),()=>{C(),document.removeEventListener("keydown",y,!1)}}),[s,N,r,L,x,F,O,P,i,k,S,T,I,R]),le((()=>{const e=y(),t=void 0!==b.current&&b.current!==e;if(!u.current||!t)return;b.current=e;const{scale:n}=S.current,a=e>0?-1:1;let o=100,r=0;n<=.6&&a>0||n>=12&&a<0||(1===n&&a>0&&(o=20),nN&&nN(),nN=(0,d.Hd)({from:a,to:a*o,duration:JC,timing:eN,onUpdate:e=>{if(!u.current)return;const t=Ws(e-r,2);r=e;const n=new WheelEvent("wheel",{deltaY:t,ctrlKey:!0});u.current.dispatchEvent(n)}}))}),[y,S]),void 0===_)return null;const H=r(_,1),W=r(_,-1),$=void 0!==W,V=void 0!==H,z=E&&B;return he.createElement("div",{className:"X2XelzZ1",ref:u},he.createElement("div",{className:BC,ref:p},$&&!B&&!D&&he.createElement(GC,{mediaId:W})),he.createElement("div",{className:ps(BC,_C,z&&"NMBicc6s"),ref:m},he.createElement(GC,{mediaId:_})),he.createElement("div",{className:BC,ref:f},V&&!B&&!D&&he.createElement(GC,{mediaId:H})),$&&!B&&!t.TF&&he.createElement("button",{type:"button",onClick:U,className:ps(DC,"Mx1XT28C"),"aria-label":l("Previous"),dir:l.isRtl?"rtl":void 0}),V&&!B&&!t.TF&&he.createElement("button",{type:"button",onClick:M,className:ps(DC,"FmNwnO3_"),"aria-label":l("Next"),dir:l.isRtl?"rtl":void 0}))}));function oN(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return`translate3d(${(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0).toFixed(3)}px, ${e.toFixed(3)}px, 0px) scale(${t.toFixed(3)})`}const rN=pe($e((e=>{var t;const{mediaId:n,mediaType:a=hn.Nft,txId:o,hiddenNfts:r,noGhostAnimation:i}=e.mediaViewer||{},s=null===(t=e.settings)||void 0===t?void 0:t.animationLevel,l=Ze(e);let c,d,u=sv,m=sv;if(a===hn.Nft){var p;const{orderedAddresses:e,byAddress:t}=(null==l?void 0:l.nfts)||{},{blacklistedNftAddresses:a}=l||{},o=null==t?void 0:t[n];c=!(null!=o&&null!==(p=o.metadata)&&void 0!==p&&p.lottie)&&(null==o?void 0:o.image)||(null==o?void 0:o.thumbnail),u=e||sv,d=t,null!=a&&a.length&&(m=a)}return{mediaId:n,txId:o,hiddenNfts:r,noGhostAnimation:i,mediaIds:u,mediaType:a,mediaUrl:c,mediaByIds:d,blacklistedIds:m,withAnimation:s>0}}))((function(n){let{mediaId:a,mediaIds:o,mediaType:r,mediaUrl:i,withAnimation:s,mediaByIds:l,blacklistedIds:c,txId:u,hiddenNfts:m,noGhostAnimation:p}=n;const{closeMediaViewer:f,openMediaViewer:h}=He(),g=Boolean(a),v=vs(),w=Bl(a),y=Bl(u),b=Bl(m),E=Bl(p),C=s?"slideFade":"none",N=s&&g&&!w&&!p,S=s&&!g&&!!w&&!E,A=$r((()=>f())),T=de((()=>o.filter((e=>{const t=null==l?void 0:l[e];return t&&!t.isHidden&&!c.includes(e)}))),[c,l,o]),I=T.indexOf(a),B=$r(((e,t)=>{if(void 0===e)return;const n=T.indexOf(e);return-1===t&&n>0||1===t&&n<T.length-1?T[n+t]:void 0})),x=$r((e=>{h({mediaType:r,mediaId:e})}));return ce((()=>{document.body.classList.toggle("is-media-viewer-open",g)}),[g]),le((()=>g?Ih(A):void 0),[A,g]),le((()=>{N&&(_(RC+e.xB5),function(n,a,o,r,i){const{image:s}=UC(n,a,r,i);s&&o&&(0,k.RK)((async()=>{document.body.classList.add("ghost-animating");const{width:a,height:r}=ia(),{width:i,height:l}=await async function(e){const t=new Image;return t.src=e,await new Promise((e=>{t.onload=e})),{width:t.width,height:t.height}}(o),c=r-MC,u=(a<=e.c2m?8:7)*t.$,{width:m,height:p}=function(e,t,n,a){const o=a/n,r=Math.min(n,e);return Math.round(r*o)>t?{width:Math.round(t/o),height:t}:{width:r,height:Math.round(r*o)}}(a,c,i,l),f=(a-m)/2,h=u+(c-p)/2,{top:g,left:v,width:w,height:y}=s.getBoundingClientRect(),b=v+w/2-(f+m/2),E=g+y/2-(h+p/2),C=w/m,N=y/p;(0,k.RK)((()=>{const t=HC(s);WC(t,n,!0),(0,d.ZM)(t,{top:`${h}px`,left:`${f}px`,width:`${m}px`,height:`${p}px`,transform:`translate3d(${b}px, ${E}px, 0) scale(${C}, ${N})`}),document.body.appendChild(t),(0,k.RK)((()=>{t.style.transform="",function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t===hn.Nft&&e.classList.remove(n?PC:FC)}(t,n,!0),setTimeout((()=>{(0,k.RK)((()=>{document.body.contains(t)&&document.body.removeChild(t),document.body.classList.remove("ghost-animating")}))}),RC+e.xB5)}))}))}))}(r,a,i,u,m)),S&&(_(RC+e.xB5),function(t,n,a,o){const{container:r,image:i}=UC(t,n,a,o),s=document.querySelector(`.${_C} img, .${_C} canvas`);if(!s||!i)return;const{top:l,left:c,width:u,height:m}=s.getBoundingClientRect(),{top:p,left:f,width:h,height:g}=i.getBoundingClientRect();let v=p;if(!function(e){if("none"===e.style.display)return!1;const t=e.getBoundingClientRect(),{height:n}=ia();return t.top<=n&&t.top+t.height>=0}(i)){const{height:e}=ia();v=p<l?-g:e}const w=c+u/2-(f+h/2),y=l+m/2-(v+g/2),b=u/h,E=m/g,C=document.querySelector(`.${OC}`),N=C||HC(s);let S;if(C){const{top:e,left:t,width:n,height:a}=C.getBoundingClientRect();S={transition:"none",top:`${v}px`,left:`${f}px`,transformOrigin:"top left",transform:`translate3d(${t-f}px, ${e-v}px, 0) scale(${n/h}, ${a/g})`,width:`${h}px`,height:`${g}px`}}else S={top:`${v}px`,left:`${f}px`,width:`${h}px`,height:`${g}px`,transform:`translate3d(${w}px, ${y}px, 0) scale(${b}, ${E})`};(0,k.RK)((()=>{WC(N,t),(0,d.ZM)(N,S),C||document.body.appendChild(N),document.body.classList.add("ghost-animating"),r&&r.classList.add("ghost-target"),(0,k.RK)((()=>{C&&(C.style.transition=""),N.style.transform="",setTimeout((()=>{(0,k.RK)((()=>{document.body.contains(N)&&document.body.removeChild(N),document.body.classList.remove("ghost-animating"),r&&r.classList.remove("ghost-target")}))}),RC+e.xB5)}))}))}(r,w,y,b))}),[N,S,a,r,i,w,u,y,m,b]),he.createElement($C,{className:ps("A0PipQQQ","opacity-transition","slow"),isOpen:g,shouldAnimateFirstRender:!0,isCustom:!0},he.createElement("div",{className:TC,dir:v.isRtl?"rtl":void 0},he.createElement(gp,{activeKey:I,name:C,className:"lDJDJyJx"},he.createElement(zC,{mediaId:a})),he.createElement(VC,{mediaId:a,onClose:A})),he.createElement(aN,{isOpen:g,mediaId:a,getMediaId:B,selectMedia:x,withAnimation:s,onClose:A}))}))),iN={root:"TyYDeoPI",standard:"ZzhmGZX8",silver:"VOCPN2H2",gold:"eIy_VriQ",platinum:"ThB2aK4u",black:"pSEqHC9v",list:"VuKYnODy",term:"De4BJ4HR",icon:"WsbPBan7",data:"SmGuh0xn",button:"hn6cNzho",currencyIcon:"uJl349yd"},sN=pe((function(t){let{type:n,price:a,balance:o}=t;const{startCardMinting:r}=He(),i=vs(),s=!(!a||!o)&&(0,wt.UH)(a,e.Tu9.decimals)+e.dqR<o,l=$r((()=>{r({type:n})}));return he.createElement("div",{className:ps(iN.root,iN[n])},he.createElement("dl",{className:iN.list},he.createElement("dt",{className:iN.term},i("Unique"),he.createElement("i",{className:ps(iN.icon,"icon-diamond"),"aria-hidden":!0})),he.createElement("dd",{className:iN.data},i("Get a card with unique background and personalized palette for wallet interface.")),he.createElement("dt",{className:iN.term},i("Transferable"),he.createElement("i",{className:ps(iN.icon,"icon-swap"),"aria-hidden":!0})),he.createElement("dd",{className:iN.data},i("Easily send your upgraded card to any of your friends.")),he.createElement("dt",{className:iN.term},i("Tradable"),he.createElement("i",{className:ps(iN.icon,"icon-auction"),"aria-hidden":!0})),he.createElement("dd",{className:iN.data},i("Sell or auction your card on third-party NFT marketplaces."))),!!a&&he.createElement(ec,{isPrimary:!0,isDisabled:!s,className:iN.button,onClick:s?l:void 0},i("Upgrade for %currency% %amount%",{amount:a,currency:he.createElement("i",{className:ps(iN.currencyIcon,"icon-ton"),"aria-label":"TON"})})))})),lN={dialog:"CjwvIYmY",transition:"Tv22S5Gs",transitionSlide:"zUSYH0x7",content:"LpuTVkiG",slide:"ZfVQ8KGW",standard:"k0gL3sAb",black:"MUamKAQw",slideInner:"k2_YXVBE",video:"wpccVVfq",cardType:"CzdRPvVS",close:"IBwesrC_",navigation:"cIoUkENQ",navigationLeft:"GF_wLd9i",navigationRight:"y5oAUrMg",navigationIcon:"aSeq5lrl",avaliability:"OGLS5EQO",progress:"Q3dzQZod",soldOut:"VyfNbKU1",amount:"wozoyd4S",amountInner:"ZgsWpsHL",amountLeft:"XMt08mOm",amountSold:"F8mchLc4",dots:"HY5hRBmJ",dot:"tOktKTIK",dotActive:"ZMU4FK04",sticker:"eto_LEBm",resultWithTime:"hlrWLhQ2",resultTimeIcon:"W1LXu50q"};var cN=function(e){return e[e.Standard=0]="Standard",e[e.Silver=1]="Silver",e[e.Gold=2]="Gold",e[e.Platinum=3]="Platinum",e[e.Black=4]="Black",e}(cN||{});const dN=Object.values(cN).length/2,uN=pe($e((e=>({tonBalance:Nt(e)})))((function(e){let{cardsInfo:n,tonBalance:a}=e;const{closeMintCardModal:o}=He(),r=vs(),i=me(null),[s,l]=ie(cN.Standard),[c,d]=ie(cN.Silver),u=$r((()=>{l((e=>e===cN.Black?cN.Standard:e+1)),d((e=>e===cN.Black?cN.Standard:e+1))})),m=$r((()=>{l((e=>e===cN.Standard?cN.Black:e-1)),d((e=>e===cN.Standard?cN.Black:e-1))}));function p(e,t,o){const i={lang:r,tonBalance:a,currentKey:o};switch(o){case cN.Standard:return mN({...i,title:"Standard Card",type:"standard",cardInfo:null==n?void 0:n.standard});case cN.Silver:return mN({...i,title:"Silver Card",type:"silver",cardInfo:null==n?void 0:n.silver});case cN.Gold:return mN({...i,title:"Gold Card",type:"gold",cardInfo:null==n?void 0:n.gold});case cN.Platinum:return mN({...i,title:"Platinum Card",type:"platinum",cardInfo:null==n?void 0:n.platinum});case cN.Black:return mN({...i,title:"Black Card",type:"black",cardInfo:null==n?void 0:n.black})}}return le((()=>{if(t.TF)return js(i.current,{onSwipe:(e,t)=>t===$s.Left?(u(),!0):t===$s.Right&&(m(),!0),selectorToPreventScroll:".custom-scroll"})}),[]),he.createElement(he.Fragment,null,he.createElement(he.Fragment,null,he.createElement(ec,{isRound:!0,className:ps(lN.close,Vc.closeButton),ariaLabel:r("Close"),onClick:o},he.createElement("i",{className:ps(Vc.closeIcon,"icon-close"),"aria-hidden":!0})),he.createElement("button",{className:ps(lN.navigation,lN.navigationLeft),type:"button","aria-label":r("Prev"),onClick:()=>m()},he.createElement("i",{className:ps(lN.navigationIcon,"icon-chevron-left"),"aria-hidden":!0})),he.createElement("button",{className:ps(lN.navigation,lN.navigationRight),type:"button",onClick:()=>u(),"aria-label":r("Next")},he.createElement("i",{className:ps(lN.navigationIcon,"icon-chevron-right"),"aria-hidden":!0}))),he.createElement(gp,{ref:i,name:"semiFade",className:ps(lN.transition,"custom-scroll"),activeKey:s,nextKey:c},p))})));function mN(t){let{lang:n,title:a,type:o,cardInfo:r,tonBalance:i,currentKey:s}=t;return he.createElement("div",{className:lN.content},he.createElement("div",{className:ps(lN.slide,lN[o])},he.createElement("video",{autoPlay:!0,muted:!0,loop:!0,playsInline:!0,poster:`${e.eec}mtw_card_${o}.avif`,className:lN.video},he.createElement("source",{src:`${e.eec}mtw_card_${o}.h264.mp4`,type:"video/mp4; codecs=avc1.4D401E,mp4a.40.2"})),he.createElement("div",{className:lN.slideInner},function(e){return he.createElement("div",{className:lN.dots},Array.from({length:dN}).map(((t,n)=>he.createElement("div",{key:n,className:ps(lN.dot,n===e&&lN.dotActive)}))))}(s),he.createElement("div",{className:lN.cardType},a),function(e,t){const{all:n,notMinted:a}=t||{};if(!n||!a)return he.createElement("div",{className:lN.avaliability},he.createElement("div",{className:lN.soldOut},e("This card has been sold out")));const o=n-a,r=e("%amount% left",{amount:hr(a)}),i=e("%amount% sold",{amount:hr(o)});return he.createElement("div",{className:lN.avaliability},he.createElement("div",{className:lN.progress,style:`--progress: ${bt(a/n,2)};}`},he.createElement("div",{className:ps(lN.amount,lN.amountInner,lN.amountLeft)},r),he.createElement("div",{className:ps(lN.amount,lN.amountInner,lN.amountSold)},i)),he.createElement("div",{className:ps(lN.amount,lN.amountLeft)},r),he.createElement("div",{className:ps(lN.amount,lN.amountSold)},i))}(n,r))),he.createElement(sN,{type:o,price:null==r?void 0:r.price,balance:i}))}const pN=pe($e((e=>{const{currentMintCard:t}=e,{config:n}=Ze(e)||{},{cardsInfo:a}=n||{},{hardwareState:o,isLedgerConnected:r,isTonAppConnected:i}=e.hardware;return{isOpen:void 0!==(null==t?void 0:t.state),cardsInfo:a,isLoading:null==t?void 0:t.isLoading,state:null==t?void 0:t.state,error:null==t?void 0:t.error,hardwareState:o,isLedgerConnected:r,isTonAppConnected:i,theme:e.settings.theme}}))((function(t){let{isOpen:n,cardsInfo:a,isLoading:o,state:r,error:i,theme:s,isLedgerConnected:l,isTonAppConnected:c,hardwareState:d}=t;const{closeMintCardModal:u,clearMintCardError:m,submitMintCard:p,submitMintCardHardware:f}=He(),h=vs(),g=Fd(s),{renderingKey:v,nextKey:w}=hh(null!=r?r:0,n),y=$r((e=>{p({password:e})})),b=$r((()=>{f()}));function E(t,n,r){switch(r){case mn.Initial:return he.createElement(uN,{cardsInfo:a});case mn.Password:return function(e){return he.createElement(he.Fragment,null,he.createElement(yf,{title:h("Enter Password"),onClose:u}),he.createElement(sp,{isActive:e,error:i,isLoading:o,submitLabel:h("Confirm"),cancelLabel:h("Cancel"),onSubmit:y,onCancel:u,onUpdate:m}))}(t);case mn.ConnectHardware:return he.createElement(Yh,{isActive:t,state:d,isLedgerConnected:l,isTonAppConnected:c,onConnected:b,onClose:u});case mn.ConfirmHardware:return he.createElement(Ah,{text:h("Please confirm transaction on your Ledger"),error:i,onClose:u,onTryAgain:b});case mn.Done:return function(t){return he.createElement(he.Fragment,null,he.createElement(yf,{title:h("Card has been upgraded!"),onClose:u}),he.createElement("div",{className:ps(Vc.transitionContent,Vc.transitionContent_simple)},he.createElement(xm,{play:t,noLoop:!1,nonInteractive:!0,className:lN.sticker,tgsUrl:Ju.thumbUp,previewUrl:Ju.thumbUpPreview}),he.createElement("div",{className:ps(lN.resultWithTime)},he.createElement(xm,{play:t,size:e.wg4,className:lN.resultTimeIcon,nonInteractive:!0,noLoop:!1,tgsUrl:Ju[g].iconClockGray,previewUrl:Ju[g].preview.iconClockGray}),he.createElement("div",null,dr(h("$mint_card_result")))),he.createElement("div",{className:Vc.buttons},he.createElement(ec,{isPrimary:!0,className:Vc.buttonFullWidth,onClick:u},h("Done")))))}(t)}}return he.createElement(Yc,{isOpen:n,forceFullNative:!0,nativeBottomSheetKey:"mint-card",dialogClassName:lN.dialog,onClose:u},he.createElement(gp,{activeKey:v,nextKey:w,name:fh(),className:ps(lN.transition,"custom-scroll"),slideClassName:lN.transitionSlide},E))}))),fN="egsZTzXN",hN=pe($e((e=>{const t=Ge(e)||{},n=Ze(e),a=Object.keys(t).length>1;return{currentAccountId:e.currentAccountId,hasManyAccounts:a,accounts:t,accountStates:e.byAccountId,isBackupRequired:null==n?void 0:n.isBackupRequired}}))((function(n){let{isOpen:a,currentAccountId:o,hasManyAccounts:r,accounts:i,accountStates:s,isBackupRequired:l,onClose:c}=n;const{signOut:d,switchAccount:u}=He(),m=vs(),[p,f]=ie(e.TI6),h=de((()=>r?Object.entries(i).reduce(((e,t)=>{var n;let[a,{title:r,addressByChain:i}]=t;return a!==o&&null!==(n=s[a])&&void 0!==n&&n.isBackupRequired&&e.push({id:a,title:r||xt(i.ton)}),e}),[]):[]),[i,s,o,r]);le((()=>{a&&f(e.TI6)}),[a]);const g=$r((()=>{c(!p&&r),d({level:e.TI6?"all":p?"network":"account"})})),v=$r((()=>{c(!1)}));const w=p&&h.length>0,y=l&&!w,b=ps(Vc.button,t.ZH&&Vc.shortButton);return he.createElement(Yc,{isOpen:a,isCompact:!0,title:t.ZH?m("Remove Wallet"):m("Log Out"),onClose:v},he.createElement("p",{className:ps(Vc.text,Vc.text_noExtraMargin)},dr(m("$logout_warning","12/24"))),!e.TI6&&r&&he.createElement(Jf,{id:"logount_all_accounts",className:"B2lzpHP0",checked:p,onChange:f},dr(m("$logout_confirm"))),y&&he.createElement("p",{className:Vc.text},he.createElement("b",{className:fN},m("Warning!"))," ",m("$logout_without_backup_warning")),w&&he.createElement("p",{className:Vc.text},he.createElement("b",{className:fN},m("Warning!"))," ",m("$logout_accounts_without_backup_warning",{links:he.createElement(he.Fragment,null,h.map((function(e,t){const{id:n,title:a}=e,o=ps("mSBmBqo6",t+2===h.length&&"T7L1H3Tm");return he.createElement("span",{className:o},he.createElement("a",{key:n,href:"#",className:"FsSJDg8c",onClick:e=>{var t;e.preventDefault(),t=n,c(!1),u({accountId:t})}},a))})))})),he.createElement("div",{className:Vc.buttons},he.createElement(ec,{className:b,onClick:v},m("Cancel")),he.createElement(ec,{isDestructive:!0,onClick:g,className:Vc.button},t.ZH?m("Remove Wallet"):m("Exit"))))}))),gN=pe((function(e){let{id:t,name:n,value:a,label:o,checked:r=!1,className:i,onChange:s,onCheck:l,shouldStopPropagation:c}=e;return he.createElement("label",{className:ps("pDx55knh",i),title:o,"aria-label":o,onClick:c?e=>e.stopPropagation():void 0,tabIndex:0,role:"button"},he.createElement("input",{type:"checkbox",id:t,name:n,value:a,checked:r,className:"cLbaNjJ_",onChange:function(e){null==s||s(e),null==l||l(e.currentTarget.checked)}}),he.createElement("span",{className:"tiLjiStY"}))})),vN="v8rRtn7B",wN="CC8Q5sJb",yN="bQ7CA6_X",bN="TI5caump",EN=pe((function(t){let{isOpen:n,isLoading:a,isInsideModal:o,state:r,error:i,onClose:s}=t;const{disableBiometrics:l}=He(),c=vs(),{renderingKey:d,nextKey:u,updateNextKey:m}=hh(r,n),p=$r(((e,t)=>{l({password:e,isPasswordNumeric:t})}));function f(t,n,o){switch(o){case en.TurnOffBiometricConfirmation:return he.createElement(he.Fragment,null,he.createElement(yf,{title:c("Biometric Confirmation"),onClose:s}),he.createElement("div",{className:Vc.transitionContent},he.createElement(xm,{tgsUrl:Ju.holdTon,previewUrl:Ju.holdTonPreview,play:t,size:180,nonInteractive:!0,noLoop:!1,className:wN}),i?he.createElement("div",{className:"iEiAdwiC"},c(i)):he.createElement("div",{className:bN},c("Please verify the operation.")),he.createElement("div",{className:Vc.buttons},he.createElement(ec,{onClick:s,className:Vc.customSubmitButton},c("Cancel")))));case en.TurnOffCreatePassword:return he.createElement(he.Fragment,null,he.createElement(yf,{title:c("Create Password"),onClose:s}),he.createElement("div",{className:Vc.transitionContent},he.createElement(xm,{tgsUrl:Ju.guard,previewUrl:Ju.guardPreview,play:t,size:180,nonInteractive:!0,noLoop:!1,className:wN}),he.createElement(Kf,{isActive:t,isLoading:a,formId:"biometrics-create-password",onSubmit:p,onCancel:s})));case en.TurnOffComplete:return he.createElement(he.Fragment,null,he.createElement(yf,{title:c("Biometrics Disabled"),onClose:s}),he.createElement("div",{className:Vc.transitionContent},he.createElement(xm,{tgsUrl:Ju.yeee,previewUrl:Ju.yeeePreview,play:t,size:e.reE,nonInteractive:!0,noLoop:!1,className:ps(wN,yN)}),he.createElement("div",{className:Vc.buttons},he.createElement(ec,{isPrimary:!0,onClick:s,className:Vc.customSubmitButton},c("Done")))))}}return he.createElement(Yc,{hasCloseButton:!0,isOpen:n,dialogClassName:vN,onClose:s},he.createElement(gp,{name:fh(),className:ps(Vc.transition,"custom-scroll"),slideClassName:ps(o&&Vc.transitionSlide),activeKey:d,nextKey:u,onStop:m},f))})),kN=pe((function(e){let{isOpen:t,onClose:n}=e;const{openBiometricsTurnOff:a}=He(),o=vs();return he.createElement(Yc,{isOpen:t,isCompact:!0,title:o("Turn Off Biometrics"),onClose:n},he.createElement("p",{className:Vc.text},o("If you turn off biometric protection, you will need to create a password.")),he.createElement("div",{className:ps(Vc.buttons,Vc.buttonsNoExtraSpace)},he.createElement(ec,{className:Vc.button,onClick:n},o("Cancel")),he.createElement(ec,{isPrimary:!0,className:Vc.button,onClick:a},o("Continue"))))})),CN=pe((function(n){let{isOpen:a,isLoading:o,isInsideModal:r,state:i,error:s,onClose:l}=n;const{enableBiometrics:c}=He(),d=vs(),[u,m]=ie(),{renderingKey:p,nextKey:f,updateNextKey:h}=hh(i,a),g=Boolean(i!==en.TurnOnPasswordConfirmation);le((()=>{a&&m("")}),[a]);const v=$r((()=>{m(void 0)})),w=$r((e=>{if(!g)try{c({password:e})}catch(e){m(e.message||"Unknown error.")}}));function y(n,a,r){switch(r){case en.TurnOnPasswordConfirmation:return he.createElement(he.Fragment,null,he.createElement(yf,{title:d("Turn On Biometrics"),onClose:l}),he.createElement(sp,{isActive:n,isLoading:o,error:s||u,operationType:"passcode",help:d("Enabling biometric confirmation will reset the password."),submitLabel:d("Continue"),onSubmit:w,onCancel:l,onUpdate:v}));case en.TurnOnRegistration:return he.createElement(he.Fragment,null,he.createElement(yf,{title:d("Biometric Registration"),onClose:l}),he.createElement("div",{className:Vc.transitionContent},he.createElement(xm,{tgsUrl:Ju.holdTon,previewUrl:Ju.holdTonPreview,play:n,size:180,nonInteractive:!0,noLoop:!1,className:wN}),he.createElement("div",{className:bN},d("Step 1 of 2. Registration")),he.createElement("div",{className:Vc.buttons},he.createElement(ec,{onClick:l,className:Vc.customCancelButton},d("Cancel")))));case en.TurnOnVerification:return he.createElement(he.Fragment,null,he.createElement(yf,{title:d("Biometric Registration"),onClose:l}),he.createElement("div",{className:Vc.transitionContent},he.createElement(xm,{tgsUrl:Ju.holdTon,previewUrl:Ju.holdTonPreview,play:n,size:180,nonInteractive:!0,noLoop:!1,className:wN}),he.createElement("div",{className:bN},d(t.cp?"Verification":"Step 2 of 2. Verification")),he.createElement("div",{className:Vc.buttons},he.createElement(ec,{onClick:l,className:Vc.customCancelButton},d("Cancel")))));case en.TurnOnComplete:return he.createElement(he.Fragment,null,he.createElement(yf,{title:d("Biometrics Enabled"),onClose:l}),he.createElement("div",{className:Vc.transitionContent},he.createElement(xm,{tgsUrl:Ju.yeee,previewUrl:Ju.yeeePreview,play:n,size:e.reE,nonInteractive:!0,noLoop:!1,className:ps(wN,yN)}),he.createElement("div",{className:Vc.buttons},he.createElement(ec,{isPrimary:!0,onClick:l,className:Vc.customSubmitButton},d("Done")))))}}return he.createElement(Yc,{hasCloseButton:!0,isOpen:a,dialogClassName:vN,onClose:l},he.createElement(gp,{name:fh(),className:ps(Vc.transition,"custom-scroll"),slideClassName:ps(r&&Vc.transitionSlide),activeKey:p,nextKey:f,onStop:h},y))})),NN=pe($e((e=>{const{biometrics:{state:t,error:n}}=e;return{state:t,error:n,isLoading:e.auth.isLoading}}))((function(e){let{state:t,error:n,isLoading:a,isInsideModal:o}=e;const{closeBiometricSettings:r}=He(),i=t===en.TurnOnPasswordConfirmation||t===en.TurnOnRegistration||t===en.TurnOnVerification||t===en.TurnOnComplete,s=t===en.TurnOffBiometricConfirmation||t===en.TurnOffCreatePassword||t===en.TurnOffComplete,l=t===en.TurnOffWarning;return he.createElement(he.Fragment,null,he.createElement(CN,{isOpen:i,isLoading:a,isInsideModal:o,state:t,error:n,onClose:r}),he.createElement(EN,{isOpen:s,isLoading:a,isInsideModal:o,state:t,error:n,onClose:r}),he.createElement(kN,{isOpen:l,onClose:r}))}))),SN=pe($e((e=>{const{nativeBiometricsError:t,isPinAccepted:n}=e;return{isPinAccepted:n,error:t,isNativeBiometricsEnabled:pt(e)}}))((function(t){let{isActive:n,isPinAccepted:a,error:o,isNativeBiometricsEnabled:r,handleBackClick:i}=t;const{enableNativeBiometrics:s,clearNativeBiometricsError:l}=He(),c=vs(),{isSmallHeight:d}=po(),[u,m]=ie(""),p=u.length!==e.NEx?void 0:a?"success":o?"error":void 0,f=a?"Correct":o&&u.length===e.NEx?o:"Enter your code";Ql({isActive:n,onBack:i}),le((()=>{n&&m("")}),[n]),vl((e=>{let[t]=e;r&&!t&&i()}),[r,i]);const h=$r((e=>{s({password:e})}));return he.createElement("div",{className:bf.slide},he.createElement("div",{className:ps(bf.content,bf.contentFullSize)},he.createElement("div",{className:bf.header},he.createElement(ec,{isSimple:!0,isText:!0,onClick:i,className:bf.headerBack},he.createElement("i",{className:ps(bf.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),he.createElement("span",null,c("Back")))),he.createElement("div",{className:bf.pinPadHeader},he.createElement(xm,{play:n,tgsUrl:Ju.guard,previewUrl:Ju.guardPreview,noLoop:!1,nonInteractive:!0,className:bf.stickerNativeBiometric}),!d&&he.createElement("div",{className:bf.pinPadTitle},c("Confirm Passcode"))),he.createElement(rp,{isActive:n,onClearError:l,title:c(f),type:p,length:e.NEx,value:u,onChange:m,onSubmit:h})))}))),AN=i.p+"theme_dark.5de5fe78d9ef16d3bb16.png",TN=[{value:"light",name:"Light",icon:i.p+"theme_light.cf5d5bfba2109dad7231.png"},{value:"system",name:"System",icon:i.p+"theme_system.374b66ee35055adafec5.png"},{value:"dark",name:"Dark",icon:AN}],IN=pe($e((e=>{var t,n;const{orderedAddresses:a,byAddress:o}=(null===(t=Ze(e))||void 0===t?void 0:t.nfts)||{},{config:{cardsInfo:r}={}}=Ze(e)||{};return{accentColorIndex:null===(n=at(e))||void 0===n?void 0:n.accentColorIndex,nftAddresses:a,nftsByAddress:o,isMintingCardsAvailable:Boolean(r),isNftBuyingDisabled:e.restrictions.isNftBuyingDisabled}}))((function(n){let{isActive:a,theme:o,animationLevel:r,accentColorIndex:i,nftAddresses:c,nftsByAddress:d,isInsideModal:u,isTrayIconEnabled:m,isMintingCardsAvailable:p,isNftBuyingDisabled:f,onTrayIconEnabledToggle:h,handleBackClick:g}=n;const{setTheme:v,setAnimationLevel:w,openMintCardModal:y,installAccentColorFromNft:b,clearAccentColorFromNft:E,showNotification:k}=He(),C=vs(),[N,S]=ie(!1),[A,T]=ie(sv),[I,B]=ie({});Ql({isActive:a,onBack:g});const{handleScroll:_,isScrolled:x}=ff(),L=Fd(o);le((()=>{e.TI6||(async()=>{S(!0);const t=await async function(t,n){try{const a=(t||[]).reduce(((t,a)=>{const o=null==n?void 0:n[a];return(null==o?void 0:o.collectionAddress)===e.qL&&t.push(o),t}),[]);if(!a.length)return;const o=await Promise.all(a.map((e=>Op(e)))),r=o.reduce(((e,t,n)=>(void 0!==t&&(e[t]=a[n]),e)),{});return{availableAccentColorIds:(0,s.Am)((0,s.oE)(o)),nftsByColorIndex:r}}catch(e){return void(0,l.SJ)("[getAccentColorsFromNfts]: Error fetching accent colors",e)}}(c,d);t?(T(t.availableAccentColorIds),B(t.nftsByColorIndex)):(T(sv),B({})),S(!1)})()}),[d,c]);const D=de((()=>Lp[L].map(((e,t)=>({color:e,index:t}))).sort(((e,t)=>Number(!A.includes(e.index))-Number(!A.includes(t.index))))),[L,A]),O=$r((e=>{document.documentElement.classList.add("no-transitions"),v({theme:e}),ml(e,u),setTimeout((()=>{document.documentElement.classList.remove("no-transitions")}),300)})),P=$r((()=>{const t=r===e.dnp?e.zP3:e.dnp;w({level:t}),Td(t)})),F=$r((()=>{p?y():to(e.b2d)}));function R(e,t){const n=i===t,a=void 0!==t&&!A.includes(t);return he.createElement("button",{key:e||"default",type:"button",disabled:n,style:e?`--current-accent-color: ${e}`:void 0,className:ps(bf.colorButton,n&&bf.colorButtonCurrent),"aria-label":C("Change Palette"),onClick:()=>{var e;void 0===(e=t)||A.includes(e)?void 0===e?E():b({nft:I[e]}):k({message:C("Get a unique MyTonWallet Card to unlock new palettes.")})}},N&&a&&he.createElement(Ph,{color:"white"}),!N&&a&&he.createElement("i",{className:ps(bf.iconLock,"icon-lock","#FFFFFF"===e&&bf.iconLockInverted),"aria-hidden":!0}))}return he.createElement("div",{className:bf.slide},u?he.createElement(yf,{title:C("Appearance"),withNotch:x,onBackButtonClick:g,className:bf.modalHeader}):he.createElement("div",{className:ps(bf.header,"with-notch-on-scroll",x&&"is-scrolled")},he.createElement(ec,{isSimple:!0,isText:!0,onClick:g,className:bf.headerBack},he.createElement("i",{className:ps(bf.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),he.createElement("span",null,C("Back"))),he.createElement("span",{className:bf.headerTitle},C("Appearance"))),he.createElement("div",{className:ps(bf.content,"custom-scroll"),onScroll:_},he.createElement("p",{className:bf.blockTitle},C("Theme")),he.createElement("div",{className:bf.settingsBlock},he.createElement("div",{className:bf.themeWrapper},TN.map((e=>{let{name:t,value:n,icon:a}=e;return he.createElement("div",{key:n,className:ps(bf.theme,n===o&&bf.theme_active),onClick:()=>O(n)},he.createElement("div",{className:ps(bf.themeIcon,n===o&&bf.themeIcon_active)},he.createElement("img",{src:a,alt:"",className:bf.themeImg,"aria-hidden":!0})),he.createElement("span",null,C(t)))})))),!e.TI6&&!f&&he.createElement(he.Fragment,null,he.createElement("p",{className:bf.blockTitle},C("Palette")),he.createElement("div",{className:ps(bf.block,bf.settingsBlockWithDescription)},he.createElement("div",{className:bf.colorList},R(),D.map((e=>{let{color:t,index:n}=e;return R(t,n)}))),he.createElement("div",{className:bf.subBlockAsButton,role:"button",tabIndex:0,onClick:()=>F()},C("Unlock New Palettes"))),he.createElement("p",{className:bf.blockDescription},C("Get a unique MyTonWallet Card to unlock new palettes."))),he.createElement("p",{className:bf.blockTitle},C("Other")),he.createElement("div",{className:bf.settingsBlock},he.createElement("div",{className:ps(bf.item,bf.item_small),onClick:P},C("Enable Animations"),he.createElement(gN,{className:bf.menuSwitcher,label:C("Enable Animations"),checked:r!==e.dnp})),t.cp&&t.H8&&he.createElement("div",{className:ps(bf.item,bf.item_small),onClick:h},C("Display Tray Icon"),he.createElement(gN,{className:bf.menuSwitcher,label:C("Display Tray Icon"),checked:m})))))}))),BN=pe((function(e){let{token:t}=e;const{deleteToken:n}=He(),[a,o]=ie(!1),r=vs();_l((()=>{t&&o(!0)}),[t]);const i=$r((()=>{o(!1)})),s=$r((()=>{i(),n({slug:t.slug})}));return he.createElement(Yc,{isOpen:a,isCompact:!0,onClose:i,title:r("Delete Token"),contentClassName:"yflPd0zm"},he.createElement("p",{className:"KH236kiH"},r("Are you sure you want to delete?",{token:he.createElement("strong",null,null==t?void 0:t.name)})),he.createElement("div",{className:Vc.buttons},he.createElement(ec,{onClick:i,className:Vc.button},r("Cancel")),he.createElement(ec,{isDestructive:!0,onClick:s,className:Vc.button},r("Delete"))))})),_N={x:0,y:0},xN={top:0,bottom:0,left:0,right:0},LN=150,DN=pe((function(e){let{children:n,id:a,onDrag:o,onDragEnd:r,style:i,knobStyle:s,isDisabled:l,offset:c=xN,parentRef:d,scrollRef:u,className:m,onClick:p}=e;const f=vs(),h=me(null),g=me(null),v=me(),[w,y]=ie({isDragging:!1,scrollTop:0,origin:_N,translation:_N}),b=me({x:0,y:0}),E=()=>{void 0!==v.current&&(cancelAnimationFrame(v.current),v.current=void 0)},k=(e,t)=>{const n=()=>{e.scrollBy(0,t),(()=>{if(!(w.isDragging&&h.current&&null!=d&&d.current&&null!=u&&u.current))return;const e=FN(w,b.current,u.current.scrollTop,h.current,d.current,c);y((t=>({...t,translation:e}))),o(e,a)})(),v.current=requestAnimationFrame(n)};E(),n()},C=e=>{var t,n,a,o;const r=ON(e),i=null!==(t=null==u||null===(n=u.current)||void 0===n?void 0:n.scrollTop)&&void 0!==t?t:0;y({...w,isDragging:!0,origin:r,scrollTop:i,width:null===(a=h.current)||void 0===a?void 0:a.offsetWidth,height:null===(o=h.current)||void 0===o?void 0:o.offsetHeight})},N=$r((e=>{e.stopPropagation(),e.preventDefault(),C(e),t.bA&&ms.clearScrollPatch()})),S=$r((e=>{if(!h.current||null==d||!d.current||null==u||!u.current)return;const{x:t,y:n}=ON(e);b.current={x:t,y:n};const r=FN(w,b.current,u.current.scrollTop,h.current,d.current,c),i=u.current.getBoundingClientRect(),s=n-i.top,l=i.bottom-n;s<LN?k(u.current,-PN((LN-s)/LN)):l<LN?k(u.current,PN((LN-l)/LN)):E(),y((e=>({...e,translation:r}))),o(r,a)})),A=$r((()=>{y((e=>({...e,isDragging:!1,width:void 0,height:void 0}))),t.bA&&ms.applyScrollPatch(),r()})),T=$r((e=>{w.isDragging||p(e)}));le((()=>{const e=g.current;return e&&e.addEventListener("touchstart",N,{passive:!1}),w.isDragging?(window.addEventListener("touchmove",S),window.addEventListener("mousemove",S),window.addEventListener("touchend",A),window.addEventListener("touchcancel",A),window.addEventListener("mouseup",A)):(E(),window.removeEventListener("touchmove",S),window.removeEventListener("mousemove",S),window.removeEventListener("touchend",A),window.removeEventListener("touchcancel",A),window.removeEventListener("mouseup",A),y((e=>({...e,translation:_N})))),()=>{w.isDragging&&(E(),window.removeEventListener("touchmove",S),window.removeEventListener("mousemove",S),window.removeEventListener("touchend",A),window.removeEventListener("touchcancel",A),window.removeEventListener("mouseup",A),e&&e.removeEventListener("touchstart",N))}}),[S,A,N,w.isDragging,g,l]);const I=ps("kWQHzIMD",m,w.isDragging&&"k0c5WDAy"),B=de((()=>dm(w.isDragging&&`transform: translate(${w.translation.x}px, ${w.translation.y}px)`,w.width?`width: ${w.width}px`:void 0,w.height?`height: ${w.height}px`:void 0,i)),[i,w.height,w.isDragging,w.translation.x,w.translation.y,w.width]);return he.createElement("div",{style:B,className:I,ref:h,onClick:T},!l&&he.createElement("div",{ref:g,"aria-label":f("i18n_dragToSort"),tabIndex:0,role:"button",className:ps("UpzQzcvs","div-button","draggable-knob"),onMouseDown:e=>{C(e)},style:s},he.createElement("i",{className:"icon icon-sort","aria-hidden":!0})),n)}));function ON(e){let t,n;return"touches"in e?(t=e.touches[0].clientX,n=e.touches[0].clientY):(t=e.clientX,n=e.clientY),{x:t,y:n}}function PN(e){return 5*e**3+1}function FN(e,t,n,a,o,r){const i={x:t.x-e.origin.x,y:t.y-e.origin.y+n-e.scrollTop},{top:s=0,right:l=0,bottom:c=0,left:d=0}=r,u=o.getBoundingClientRect(),m=a.getBoundingClientRect(),p=-a.offsetLeft+d,f=u.width-m.width-a.offsetLeft+l,h=-a.offsetTop+s,g=u.height-m.height-a.offsetTop+c;return{x:Us(i.x,p,f),y:Us(i.y,h,g)}}function RN(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=t.indexOf(e);return MN(-1===n?t.length:n)}function MN(e){return 64*e+48}const UN=pe((function(t){var n;let{parentContainer:a,tokens:o,orderedSlugs:r,isSortByValueEnabled:i,baseCurrency:s,withChainIcon:l,isSensitiveDataHidden:c}=t;const{openSettingsWithState:d,updateOrderedSlugs:u,rebuildOrderedSlugs:m,toggleTokenVisibility:p}=He(),f=vs(),h=br(s),g=me(null),v=me(null),[w,y]=ie(),[b,E]=ie({orderedTokenSlugs:r,dragOrderTokenSlugs:r,draggedIndex:void 0});gs((()=>{m()})),le((()=>{(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.length===t.length&&e.every(((e,n)=>e===t[n]))})(r,b.orderedTokenSlugs)||E({orderedTokenSlugs:r,dragOrderTokenSlugs:r,draggedIndex:void 0})}),[r,b.orderedTokenSlugs]);const k=$r((()=>{d({state:un.SelectTokenList})})),C=$r(((e,t)=>{var n,a,o,i;const s=Math.round(e.y/64),l=null!==(n=null===(a=b.orderedTokenSlugs)||void 0===a?void 0:a.indexOf(t))&&void 0!==n?n:0,c=null===(o=b.orderedTokenSlugs)||void 0===o?void 0:o.filter((e=>e!==t));c&&Hs(l+s,0,null!==(i=null==r?void 0:r.length)&&void 0!==i?i:0)&&(c.splice(l+s,0,t),E((e=>({...e,draggedIndex:l,dragOrderTokenSlugs:c}))))})),N=$r((()=>{E((e=>(u({orderedSlugs:e.dragOrderTokenSlugs}),{...e,orderedTokenSlugs:e.dragOrderTokenSlugs,draggedIndex:void 0})))})),S=$r(((e,t)=>{t.preventDefault(),t.stopPropagation(),p({slug:e.slug,shouldShow:Boolean(e.isDisabled)})})),A=$r(((e,t)=>{t.stopPropagation(),y(e)}));return he.createElement(he.Fragment,null,he.createElement("p",{className:bf.blockTitle},f("My Tokens")),he.createElement("div",{className:bf.contentRelative,ref:v},he.createElement("div",{className:ps(bf.settingsBlock,bf.sortableContainer),style:`height: ${64*(null!==(n=null==o?void 0:o.length)&&void 0!==n?n:0)+48}px`,ref:g},he.createElement("div",{className:ps(bf.item,bf.item_small),onClick:k},f("Add Token"),he.createElement("i",{className:ps(bf.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0})),null==o?void 0:o.map((function(t,n){const{symbol:r,name:s,amount:d,price:u,slug:m,isDisabled:p}=t,v=(0,Dn.m1)(d,u),w=b.draggedIndex===n,y=i?MN(n):RN(m,b.orderedTokenSlugs),E=i?MN(n):RN(m,b.dragOrderTokenSlugs),k=`top: ${w?y:E}px;`,T=0n===d&&!e.Fgn.includes(m),I=i||o.length<=1;return he.createElement(DN,{key:m,id:m,onDrag:C,onDragEnd:N,style:k,knobStyle:"left: 1rem;",isDisabled:I,className:ps(bf.item,bf.item_token,!i&&bf.draggable),offset:{top:48},parentRef:g,scrollRef:a,onClick:e=>S(t,e)},he.createElement(Fv,{token:t,withChainIcon:l}),he.createElement("div",{className:bf.tokenInfo},he.createElement("div",{className:bf.tokenTitle},s),he.createElement("div",{className:bf.tokenDescription},he.createElement(Xv,{isActive:c,cols:4+E%6,rows:2,cellSize:8,contentClassName:bf.tokenAmount},he.createElement(bb,{text:gr((0,wt.nI)(v,t.decimals,!0),h)}),he.createElement("i",{className:bf.dot,"aria-hidden":!0}),he.createElement(bb,{text:gr((0,wt.nI)(d,t.decimals),r)})),T&&he.createElement(he.Fragment,null,he.createElement("i",{className:bf.dot,"aria-hidden":!0}),he.createElement("span",{className:bf.deleteText,onClick:e=>A(t,e)},f("Delete"))))),he.createElement(gN,{className:bf.menuSwitcher,checked:!p}))})))),he.createElement(BN,{token:w}))})),HN=pe($e((e=>{var t;const{isInvestorViewEnabled:n,isSortByValueEnabled:a,areTinyTransfersHidden:o,areTokensWithNoCostHidden:r,baseCurrency:i,isSensitiveDataHidden:s}=e.settings,{orderedSlugs:l}=null!==(t=at(e))&&void 0!==t?t:{},{blacklistedNftAddresses:c=sv,whitelistedNftAddresses:d=sv,nfts:{byAddress:u}={}}=Ze(e)||{};return{isInvestorViewEnabled:n,isSortByValueEnabled:a,areTinyTransfersHidden:o,areTokensWithNoCostHidden:r,baseCurrency:i,isMultichainAccount:ut(e,e.currentAccountId),tokens:kt(e),orderedSlugs:l,nftsByAddress:u,blacklistedNftAddresses:c,whitelistedNftAddresses:d,isSensitiveDataHidden:s}}))((function(t){let{isActive:n,isInsideModal:a,isInvestorViewEnabled:o,isSortByValueEnabled:r,isSensitiveDataHidden:i,areTinyTransfersHidden:s,areTokensWithNoCostHidden:l,baseCurrency:c,isMultichainAccount:d,tokens:u,orderedSlugs:m,nftsByAddress:p,blacklistedNftAddresses:f,whitelistedNftAddresses:h,onBack:g}=t;const{toggleTinyTransfersHidden:v,toggleInvestorView:w,toggleTokensWithNoCost:y,toggleSortByValue:b,changeBaseCurrency:E,setSettingsState:k}=He(),C=vs(),N=me(null);Ql({isActive:n,onBack:g});const{handleScroll:S,isScrolled:A}=ff(),T=$r((()=>{v({isEnabled:!s})})),I=$r((()=>{w({isEnabled:!o})})),B=$r((()=>{k({state:un.HiddenNfts})})),_=$r((()=>{y({isEnabled:!l})})),x=$r((()=>{b({isEnabled:!r})})),[L,D]=ie(c),O=$r((e=>{D(e),E({currency:e})})),{shouldRenderHiddenNftsSection:P,hiddenNftsCount:F}=de((()=>{const e=Object.values(p||{}),t=new Set(f),n=new Set(h);return{shouldRenderHiddenNftsSection:e.some((e=>t.has(e.address)||e.isHidden)),hiddenNftsCount:e.filter((e=>!n.has(e.address)&&(t.has(e.address)||e.isHidden))).length}}),[p,f,h]);return he.createElement("div",{className:bf.slide},a?he.createElement(yf,{title:C("Assets & Activity"),withNotch:A,onBackButtonClick:g,className:bf.modalHeader}):he.createElement("div",{className:ps(bf.header,"with-notch-on-scroll",A&&"is-scrolled")},he.createElement(ec,{isSimple:!0,isText:!0,onClick:g,className:bf.headerBack},he.createElement("i",{className:ps(bf.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),he.createElement("span",null,C("Back"))),he.createElement("span",{className:bf.headerTitle},C("Assets & Activity"))),he.createElement("div",{className:ps(bf.content,"custom-scroll"),onScroll:S,ref:N},he.createElement("div",{className:bf.settingsBlock},he.createElement(Mh,{label:C("Base Currency"),items:e.PiQ,selectedValue:null!=c?c:e.wOb,theme:"light",shouldTranslateOptions:!0,className:ps(bf.item,bf.item_small),onChange:O,isLoading:L!==c}),he.createElement("div",{className:ps(bf.item,bf.item_small),onClick:I},he.createElement("div",{className:bf.blockWithTooltip},C("Investor View"),he.createElement(xy,{message:C("Focus on asset value rather than current balance"),tooltipClassName:bf.tooltip,iconClassName:bf.iconQuestion})),he.createElement(gN,{className:bf.menuSwitcher,label:C("Investor View"),checked:o})),he.createElement("div",{className:ps(bf.item,bf.item_small),onClick:T},he.createElement("div",{className:bf.blockWithTooltip},C("Hide Tiny Transfers"),he.createElement(xy,{message:C("$tiny_transfers_help",{value:e.Wvq}),tooltipClassName:ps(bf.tooltip,bf.tooltip_wide),iconClassName:bf.iconQuestion})),he.createElement(gN,{className:bf.menuSwitcher,label:C("Hide Tiny Transfers"),checked:s}))),P&&he.createElement("div",{className:bf.settingsBlock},he.createElement("div",{className:ps(bf.item,bf.item_small),onClick:B},C("Hidden NFTs"),he.createElement("div",{className:bf.itemInfo},F,he.createElement("i",{className:ps(bf.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0})))),he.createElement("p",{className:bf.blockTitle},C("Token Settings")),he.createElement("div",{className:bf.settingsBlock},he.createElement("div",{className:ps(bf.item,bf.item_small),onClick:x},C("Sort By Cost"),he.createElement(gN,{className:bf.menuSwitcher,label:C("Sort By Cost"),checked:r})),he.createElement("div",{className:ps(bf.item,bf.item_small),onClick:_},he.createElement("div",{className:bf.blockWithTooltip},C("Hide Tokens With No Cost"),he.createElement(xy,{message:C("$hide_tokens_no_cost_help",{value:e.Wvq}),tooltipClassName:ps(bf.tooltip,bf.tooltip_wide),iconClassName:bf.iconQuestion})),he.createElement(gN,{className:bf.menuSwitcher,label:C("Hide Tokens With No Cost"),checked:l}))),he.createElement(UN,{isSensitiveDataHidden:i,parentContainer:N,tokens:u,orderedSlugs:m,isSortByValueEnabled:r,baseCurrency:c,withChainIcon:d})))}))),WN="Uez1mztb",$N=pe((function(e){let{isOpen:t,dapp:n,onClose:a}=e;const{deleteAllDapps:o,deleteDapp:r}=He(),i=vs(),s=$r((()=>{o(),a()})),l=$r((()=>{r({origin:n.origin}),a()})),c=i(n?"Disconnect Dapp":"Disconnect Dapps"),d=n?i("Are you sure you want to disconnect?",{dappname:he.createElement("strong",null,n.name)}):i("Are you sure you want to disconnect all websites?"),u=n?l:s;return he.createElement(Yc,{isOpen:t,isCompact:!0,onClose:a,title:c,contentClassName:"ofWxr4DU"},he.createElement("p",{className:"XlFYElV7"},d),he.createElement("div",{className:"gixyiSx7"},he.createElement(ec,{onClick:a,className:WN},i("Cancel")),he.createElement(ec,{isDestructive:!0,onClick:u,className:WN},i("Disconnect"))))})),VN=pe((function(t){let{isActive:n,dapps:a,handleBackClick:o,isInsideModal:r}=t;const i=vs(),[s,l,c]=Rd(),[d,u]=ie();Ql({isActive:n,onBack:o});const{handleScroll:m,isScrolled:p}=ff(),f=$r((e=>{const t=a.find((t=>t.origin===e));u(t),l()})),h=$r((()=>{u(void 0),l()}));function g(e){const{iconUrl:t,name:n,url:a,origin:o}=e;return he.createElement(Qh,{key:o,iconUrl:t,name:n,url:a,origin:o,className:bf.dapp,onDisconnect:f})}const v=0===a.length?he.createElement("div",{className:bf.emptyList},he.createElement(xm,{play:n,tgsUrl:Ju.noData,previewUrl:Ju.noDataPreview,size:e.igk,noLoop:!1,nonInteractive:!0}),he.createElement("p",{className:bf.emptyListTitle},i("No active connections"))):function(){const t=a.map(g);return he.createElement("div",{className:bf.dapps},he.createElement("div",{className:bf.disconnectAllBlock},he.createElement(ec,{className:bf.disconnectButton,isSimple:!0,onClick:h},i("Disconnect All Dapps")),he.createElement("p",{className:bf.blockDescription},i("$dapps-description",{app_name:e.C39}))),he.createElement("p",{className:bf.blockTitle},i("Logged in with %app_name%",{app_name:e.C39})),he.createElement("div",{className:bf.block},t))}();return he.createElement("div",{className:bf.slide},r?he.createElement(yf,{title:i("Dapps"),withNotch:p,onBackButtonClick:o,className:bf.modalHeader}):he.createElement("div",{className:ps(bf.header,"with-notch-on-scroll",p&&"is-scrolled")},he.createElement(ec,{isSimple:!0,isText:!0,onClick:o,className:bf.headerBack},he.createElement("i",{className:ps(bf.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),he.createElement("span",null,i("Back"))),he.createElement("span",{className:bf.headerTitle},i("Dapps"))),he.createElement("div",{className:ps(bf.content,"custom-scroll"),onScroll:m},he.createElement(gp,{activeKey:0===a.length?0:1,name:"fade"},v)),he.createElement($N,{isOpen:s,onClose:c,dapp:d}))}));function zN(){if(e.v5B)return"firefox-extension";if(e.RTV)return"opera-extension";if(e.hL1)return"extension";if(e.UMQ){if(e.gmk){if(t.pz)return"ios-air";if(e.VL7)return"android-air-direct";if(t.Ni)return"android-air"}if(e.VL7)return"android-direct";if(t.Ni)return"android";if(t.pz)return"ios"}var n;return e.tKX?(null===(n=ya())||void 0===n?void 0:n.platform)||"telegram-unknown":t.cp?"electron":"web"}var qN=i(36791);const KN=[{value:"mainnet",name:"Mainnet"},{value:"testnet",name:"Testnet"}],jN=pe($e((e=>{var t;return{currentAccountId:e.currentAccountId,accountsById:null===(t=e.accounts)||void 0===t?void 0:t.byId}}))((function(a){let{isOpen:o,onClose:r,isTestnet:i,isCopyStorageEnabled:s,currentAccountId:c,accountsById:d}=a;const{startChangingNetwork:u,copyStorageData:m,showNotification:p}=He(),f=vs(),h=KN[i?1:0].value,g=$r((e=>{u({network:e}),r()})),v=$r((async()=>{const a=await async function(a){let{currentAccountId:o,accountsById:r}=a;const i=r&&Object.keys(r).reduce(((e,t)=>{const{addressByChain:n,isHardware:a}=r[t];return e[t]={addressByChain:n,isHardware:a},e}),{}),[s,c,d=[]]=await Promise.all([(0,l.ao)(),t.KI?new Promise((e=>{const t=n=>{let{data:a}=n;"logsFromNative"===a.type&&(Qr.removeEventListener("message",t),e(a.logs))};Qr.addEventListener("message",t),Qr.postMessage({type:"getLogsFromNative"})})):Promise.resolve([]),(0,n.p)("getLogs")]),u=new Date,m=-u.getTimezoneOffset();return JSON.stringify({time:u,timezone:`UTC${m<0?"-":"+"}${Math.abs(m)/60}`,environment:e.Guj,version:e.hl5,platform:(0,qN.u)(),navigatorPlatform:navigator.platform,userAgent:navigator.userAgent,build:zN(),flags:{IS_ANDROID_DIRECT:e.VL7,IS_CAPACITOR:e.UMQ,IS_TELEGRAM_APP:e.tKX,IS_EXTENSION:e.hL1,IS_FIREFOX_EXTENSION:e.v5B,IS_PACKAGED_ELECTRON:e.jht,IS_AIR_APP:e.gmk,IS_ELECTRON:t.cp,IS_OPERA_EXTENSION:e.RTV},currentAccountId:o,accountsInfo:i,logs:[...s.map((e=>({...e,context:"main"}))),...c.map((e=>({...e,context:"bottomSheet"}))),...d.map((e=>({...e,context:"api"})))].sort(((e,t)=>e.time.getTime()-t.time.getTime()))},void 0,2)}({currentAccountId:c,accountsById:d});if(e.hL1)await rr(a),p({message:f("Logs were copied!"),icon:"icon-copy"}),r();else{const n=`${e.TI6?"tonwallet":"mytonwallet"}_logs_${(new Date).toISOString()}.json`;await async function(n,a){if(e.UMQ){const e={path:n,directory:sg.__.Cache},t=await lg.writeFile({...e,data:a,encoding:sg.Wi.UTF8});try{if(await dg({url:t.uri}))return}finally{lg.deleteFile(e)}}const o=new File([a],n,{type:"application/json"});if(await ug({files:[o]}))return;const r=URL.createObjectURL(o);try{if(t.pz)window.open(r,"_blank","noreferrer");else{const e=document.createElement("a");e.href=r,e.download=n,e.click()}}finally{URL.revokeObjectURL(r)}}(n,a)}}));return he.createElement(Yc,{isOpen:o,onClose:r,noBackdropClose:!0,isCompact:!0},he.createElement("div",{className:bf.developerTitle},f("Developer Options")),he.createElement("div",{className:bf.settingsBlock},he.createElement(Mh,{label:f("Network"),items:KN,selectedValue:h,theme:"light",arrow:"chevron",className:ps(bf.item,bf.item_small),onChange:g})),s&&he.createElement(he.Fragment,null,he.createElement("p",{className:bf.blockTitle},f("Dangerous")),he.createElement("div",{className:bf.settingsBlock},he.createElement("div",{className:ps(bf.item,bf.item_small),onClick:()=>m()},f("Copy Storage Data"),he.createElement("i",{className:ps(bf.iconChevronRight,"icon-copy"),"aria-hidden":!0})))),he.createElement("div",{className:ps(bf.settingsBlock,bf.logBlock),onClick:v},he.createElement("div",{className:ps(bf.item,bf.item_small)},e.hL1?he.createElement(he.Fragment,null,f("Copy Logs"),he.createElement("i",{className:ps(bf.iconChevronRight,"icon-copy"),"aria-hidden":!0})):f("Download Logs"))),he.createElement(ec,{className:bf.developerCloseButton,onClick:r},f("Close")))}))),YN=pe((function(t){let{isActive:n,handleBackClick:a,isInsideModal:o}=t;const r=vs();Ql({isActive:n,onBack:a});const{handleScroll:i,isScrolled:s}=ff();return he.createElement("div",{className:bf.slide},o?he.createElement(yf,{title:"",withNotch:s,onBackButtonClick:a}):he.createElement("div",{className:ps(bf.header,"with-notch-on-scroll",s&&"is-scrolled")},he.createElement(ec,{isSimple:!0,isText:!0,onClick:a,className:bf.headerBack},he.createElement("i",{className:ps(bf.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),he.createElement("span",null,r("Back")))),he.createElement("div",{className:ps(bf.content,o&&"custom-scroll",!o&&bf.content_noScroll),onScroll:o?i:void 0},he.createElement("div",{className:bf.stickerAndTitle},he.createElement(xm,{play:n,tgsUrl:Ju.snitch,previewUrl:Ju.snitchPreview,noLoop:!1,nonInteractive:!0,size:e.lWW}),he.createElement("div",{className:bf.sideTitle},r("Use Responsibly"))),he.createElement("div",{className:ps(bf.blockAbout,!o&&"custom-scroll")},he.createElement("p",{className:bf.text},dr(r("$auth_responsibly_description1",{app_name:e.C39}))),he.createElement("p",{className:bf.text},dr(r("$auth_responsibly_description2"))),he.createElement("p",{className:bf.text},dr(r("$auth_responsibly_description3",{app_name:e.C39}))),he.createElement("p",{className:bf.text},dr(r("$auth_responsibly_description4"))))))})),GN=pe((function(e){let{nft:n}=e;const{openMediaViewer:a,removeNftSpecialStatus:o}=He(),r=vs(),[i,,s]=Rd(!0),l=$r((()=>{o({address:n.address})})),{transitionClassNames:c}=ws(i,l),{isPortrait:d}=po(),u=!d||t.cp||t.KI||t.bA;return be.createElement("div",{className:ps(bf.item,c),onClick:function(){a({mediaId:n.address,mediaType:hn.Nft,noGhostAnimation:u,hiddenNfts:"user"})},key:n.address,role:"button",tabIndex:0,"data-nft-address":!u&&n.address},be.createElement("img",{className:bf.nftImage,src:n.image,alt:n.name}),be.createElement("div",{className:bf.nftPrimaryCell},be.createElement("span",{className:bf.nftName},n.name||r("Untitled")),n.collectionName&&be.createElement("span",{className:bf.nftCollection},n.collectionName)),be.createElement(ec,{isSmall:!0,isPrimary:!0,isText:!0,className:bf.nftButtonUnhide,onClick:s,shouldStopPropagation:!0},r("Unhide")))})),QN=pe((function(e){let{nft:n,isWhitelisted:a}=e;const{openMediaViewer:o,removeNftSpecialStatus:r,openUnhideNftModal:i}=He(),s=vs(),{isPortrait:l}=po(),c=!l||t.cp||t.KI||t.bA,d=$r((()=>{o({mediaId:n.address,mediaType:hn.Nft,noGhostAnimation:c,hiddenNfts:"scam"})})),u=$r((e=>{e.stopPropagation(),a?r({address:n.address}):i({address:n.address,name:n.name})}));return be.createElement("div",{className:bf.item,onClick:d,key:n.address,role:"button",tabIndex:0,"data-nft-address":!c&&n.address},be.createElement("img",{className:bf.nftImage,src:n.image,alt:n.name}),be.createElement("div",{className:bf.nftPrimaryCell},be.createElement("span",{className:bf.nftName},n.name),n.collectionName&&be.createElement("span",{className:bf.nftCollection},n.collectionName)),be.createElement(gN,{className:bf.menuSwitcher,label:s("Show"),checked:a,onChange:u,shouldStopPropagation:!0}))})),XN=pe($e((e=>{var t,n,a;const{blacklistedNftAddresses:o,whitelistedNftAddresses:r}=null!==(t=Ze(e))&&void 0!==t?t:{},{orderedAddresses:i,byAddress:s}=null!==(n=null===(a=Ze(e))||void 0===a?void 0:a.nfts)&&void 0!==n?n:{};return{blacklistedNftAddresses:o,whitelistedNftAddresses:r,orderedAddresses:i,byAddress:s}}))((function(e){let{isActive:n,handleBackClick:a,isInsideModal:o,blacklistedNftAddresses:r,whitelistedNftAddresses:i,orderedAddresses:s,byAddress:l}=e;const c=vs();Ql({isActive:n,onBack:a});const{isScrolled:d,handleScroll:u}=ff(),m=de((()=>{if(s&&l)return s.map((e=>l[e])).filter(Boolean)}),[l,s]),p=de((()=>{const e=new Set(r);return null==m?void 0:m.filter((t=>e.has(t.address)))}),[m,r]),f=de((()=>null==m?void 0:m.filter((e=>e.isHidden))),[m]),h=de((()=>new Set(i)),[i]),{isPortrait:g}=po(),v=!g||t.cp||t.KI||t.bA;return he.createElement("div",{className:bf.slide},o?he.createElement(yf,{title:c("Hidden NFTs"),withNotch:d,onBackButtonClick:a,className:bf.modalHeader}):he.createElement("div",{className:ps(bf.header,"with-notch-on-scroll",d&&"is-scrolled")},he.createElement(ec,{isSimple:!0,isText:!0,onClick:a,className:bf.headerBack},he.createElement("i",{className:ps(bf.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),he.createElement("span",null,c("Back"))),he.createElement("span",{className:bf.headerTitle},c("Hidden NFTs"))),he.createElement("div",{className:ps(bf.content,"custom-scroll"),onScroll:u},Boolean(null==p?void 0:p.length)&&he.createElement(he.Fragment,null,he.createElement("p",{className:bf.blockTitle},c("Hidden By Me")),he.createElement("div",{className:ps(bf.block,!v&&"hidden-nfts-user")},p.map((e=>he.createElement(GN,{key:e.address,nft:e}))))),Boolean(null==f?void 0:f.length)&&he.createElement(he.Fragment,null,he.createElement("p",{className:bf.blockTitle},c("Probably Scam")),he.createElement("div",{className:ps(bf.block,bf.settingsBlockWithDescription,!v&&"hidden-nfts-scam")},f.map((e=>he.createElement(QN,{key:e.address,nft:e,isWhitelisted:h.has(e.address)})))),he.createElement("p",{className:bf.blockDescription},c("$settings_nft_probably_scam_description")))))}))),JN=i.p+"settings_checkmark.4c62604cbc9fd263c110.svg",ZN=pe((function(t){let{isActive:n,langCode:a,handleBackClick:o,isInsideModal:r}=t;const{changeLanguage:i}=He(),s=vs();Ql({isActive:n,onBack:o});const l=$r((e=>{Dr(e,(()=>{i({langCode:e})}))}));return he.createElement("div",{className:bf.slide},r?he.createElement(yf,{title:s("Language"),onBackButtonClick:o,className:ps(bf.modalHeader,bf.languageHeader)}):he.createElement("div",{className:bf.header},he.createElement(ec,{isSimple:!0,isText:!0,onClick:o,className:bf.headerBack},he.createElement("i",{className:ps(bf.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),he.createElement("span",null,s("Back"))),he.createElement("span",{className:bf.headerTitle},s("Language"))),he.createElement("div",{className:ps(bf.content,"custom-scroll")},he.createElement("div",{className:bf.block},e.gSB.map((e=>{let{name:t,nativeName:n,langCode:o}=e;return he.createElement("div",{key:o,className:ps(bf.item,bf.item_lang),onClick:()=>l(o)},he.createElement("div",{className:bf.languageInfo},he.createElement("span",{className:bf.languageMain},t),he.createElement("span",{className:bf.languageNative},n)),a===o&&he.createElement("img",{src:JN,alt:t}))})))))})),eS=pe($e((e=>({accounts:Ge(e),canPlaySounds:e.settings.canPlaySounds,pushNotifications:e.pushNotifications,settingsByAccountId:e.settings.byAccountId})))((function(t){let{isActive:n,handleBackClick:a,accounts:o,canPlaySounds:r,pushNotifications:{enabledAccounts:i,isAvailable:s},isInsideModal:l,settingsByAccountId:c}=t;const d=vs(),{toggleNotifications:u,toggleNotificationAccount:m,toggleCanPlaySounds:p}=He(),f=de((()=>Object.entries(o||{})),[o]),h=Boolean(Object.keys(i).length),g=d(s?"Notifications & Sounds":"Sounds"),v=$r((()=>{u({isEnabled:!h})})),w=$r((()=>{p({isEnabled:!r})}));Ql({isActive:n,onBack:a});const{handleScroll:y,isScrolled:b}=ff();return he.createElement("div",{className:bf.slide},l?he.createElement(yf,{title:g,withNotch:b,onBackButtonClick:a,className:bf.modalHeader}):he.createElement("div",{className:ps(bf.header,"with-notch-on-scroll",b&&"is-scrolled")},he.createElement(ec,{isSimple:!0,isText:!0,onClick:a,className:bf.headerBack},he.createElement("i",{className:ps(bf.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),he.createElement("span",null,d("Back"))),he.createElement("span",{className:bf.headerTitle},g)),he.createElement("div",{className:ps(bf.content,"custom-scroll"),onScroll:y},s&&he.createElement(he.Fragment,null,he.createElement("div",{className:bf.settingsBlock},he.createElement("div",{className:ps(bf.item,bf.item_small),onClick:v},d("Push Notifications"),he.createElement(gN,{className:bf.menuSwitcher,label:d("Push Notifications"),checked:h}))),he.createElement("p",{className:bf.blockTitle},d("Select up to %count% wallets for notifications",{count:e.vdF})),he.createElement(Ch,{accountLength:f.length,className:bf.settingsBlock},f.map((t=>{let[n,{title:a,addressByChain:o,isHardware:r}]=t;return function(t,n,a,o){const{cardBackgroundNft:r}=(null==c?void 0:c[t])||{},s=i&&!i[t]&&Object.keys(i).length>=e.vdF;return he.createElement(kh,{className:ps(bf.account,s?bf.accountDisabled:void 0),key:t,accountId:t,address:n,title:a,ariaLabel:d("Switch Account"),isHardware:o,withCheckbox:!0,isLoading:s,isActive:Boolean(i&&i[t]),onClick:()=>{m({accountId:t})},cardBackgroundNft:r})}(n,o.ton,a,r)})))),he.createElement("div",{className:bf.settingsBlock},he.createElement("div",{className:ps(bf.item,bf.item_small),onClick:w},d("Play Sounds"),he.createElement(gN,{className:bf.menuSwitcher,label:d("Play Sounds"),checked:r})))))})));var tS,nS;!function(e){e.Accessibility="accessibility",e.Account="account",e.AirplaneMode="airplane_mode",e.Apn="apn",e.ApplicationDetails="application_details",e.ApplicationDevelopment="application_development",e.Application="application",e.AppNotification="app_notification",e.BatteryOptimization="battery_optimization",e.Bluetooth="bluetooth",e.Captioning="captioning",e.Cast="cast",e.DataRoaming="data_roaming",e.Date="date",e.Display="display",e.Dream="dream",e.Home="home",e.Keyboard="keyboard",e.KeyboardSubType="keyboard_subtype",e.Locale="locale",e.Location="location",e.ManageApplications="manage_applications",e.ManageAllApplications="manage_all_applications",e.MemoryCard="memory_card",e.Network="network",e.NfcSharing="nfcsharing",e.NfcPayment="nfc_payment",e.NfcSettings="nfc_settings",e.Print="print",e.Privacy="privacy",e.QuickLaunch="quick_launch",e.Search="search",e.Security="security",e.Settings="settings",e.ShowRegulatoryInfo="show_regulatory_info",e.Sound="sound",e.Storage="storage",e.Sync="sync",e.Usage="usage",e.UserDictionary="user_dictionary",e.VoiceInput="voice_input",e.Wifi="wifi",e.WifiIp="wifi_ip",e.Wireless="wireless"}(tS||(tS={})),function(e){e.About="about",e.App="app",e.AutoLock="autoLock",e.Bluetooth="bluetooth",e.DateTime="dateTime",e.FaceTime="facetime",e.General="general",e.Keyboard="keyboard",e.ICloud="iCloud",e.ICloudStorageBackup="iCloudStorageBackup",e.International="international",e.LocationServices="locationServices",e.Music="music",e.Notes="notes",e.Notifications="notifications",e.Phone="phone",e.Photos="photos",e.ManagedConfigurationList="managedConfigurationList",e.Reset="reset",e.Ringtone="ringtone",e.Sounds="sounds",e.SoftwareUpdate="softwareUpdate",e.Store="store",e.Tracking="tracking",e.Wallpaper="wallpaper",e.WiFi="wifi",e.Tethering="tethering",e.DoNotDisturb="doNotDisturb",e.TouchIdPasscode="touchIdPasscode",e.ScreenTime="screenTime",e.Accessibility="accessibility"}(nS||(nS={}));const aS=(0,jn.F3)("NativeSettings",{web:()=>i.e(988).then(i.bind(i,91988)).then((e=>new e.NativeSettingsWeb))}),oS="open",rS=pe((function(e){let{children:t,isShown:n}=e;const a=me(null),o=me(n),[r,i]=ie(n),s=Bl(n),l=me();function c(){a.current&&(a.current.classList.toggle(oS),o.current=!o.current)}void 0!==s&&s!==n&&(n&&!o.current?(i(!0),l.current&&window.clearTimeout(l.current),setTimeout((()=>(0,k.RK)(c)),200)):((0,k.RK)(c),l.current=window.setTimeout((()=>{i(!1)}),200)));const d=he.createElement("div",{className:"content"},t);return he.createElement("div",{ref:a,className:ps("collapsible",n&&"shown",o.current&&oS)},r?d:void 0)})),iS=i.p+"settings_private-key.5db3564e144d742b44ca.svg",sS=i.p+"settings_secret-words.594687182868e734ac8f.svg",lS=pe((function(e){let{isActive:t,isInsideModal:n,isMultichainAccount:a,hasMnemonicWallet:o,onBackClick:r,onOpenSecretWordsSafetyRules:i,onOpenPrivateKeySafetyRules:s,openSettingsSlide:l}=e;const c=vs();Ql({isActive:t,onBack:r});const{handleScroll:d,isScrolled:u}=ff();return he.createElement("div",{className:bf.slide},n?he.createElement(yf,{onBackButtonClick:l,className:bf.modalHeader,withNotch:u,title:c("$back_up_security")}):he.createElement("div",{className:bf.header},he.createElement(ec,{isSimple:!0,isText:!0,onClick:l,className:bf.headerBack},he.createElement("i",{className:ps(bf.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),he.createElement("span",null,c("Back"))),he.createElement("span",{className:bf.headerTitle},c("$back_up_security"))),he.createElement("div",{className:ps(bf.content,"custom-scroll"),onScroll:d},o&&he.createElement(he.Fragment,null,he.createElement("div",{className:ps(bf.block,bf.settingsBlockWithDescription)},he.createElement("div",{className:ps(bf.item),onClick:i},he.createElement("img",{className:bf.menuIcon,src:sS,alt:c("View Secret Words")}),c("View Secret Words"),he.createElement("i",{className:ps(bf.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),a&&he.createElement("p",{className:bf.blockDescription},c("Can be imported to any multichain wallet supporting TON."))),(a||!o)&&he.createElement(he.Fragment,null,he.createElement("div",{className:ps(bf.block,bf.settingsBlockWithDescription)},he.createElement("div",{className:ps(bf.item),onClick:s},he.createElement("img",{className:bf.menuIcon,src:iS,alt:c("View TON Private Key")}),c("View TON Private Key"),he.createElement("i",{className:ps(bf.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),he.createElement("p",{className:bf.blockDescription},c("Can be imported to non-multichain wallets for TON.")))))})),cS=pe((function(t){let{isActive:n,privateKey:a,onSubmit:o,buttonText:r}=t;const i=vs();return he.createElement(he.Fragment,null,he.createElement(xm,{tgsUrl:Ju.bill,previewUrl:Ju.billPreview,size:e.lWW,play:n,nonInteractive:!0,noLoop:!1,className:If}),he.createElement("p",{className:ps(xf,Df)},dr(i("$private_key_description"))),he.createElement("p",{className:Lf},dr(i("$mnemonic_warning"))),he.createElement(bg,{noExplorer:!0,text:a,copyNotification:i("Your private key was copied!")}),he.createElement("div",{className:Bf},he.createElement(ec,{isPrimary:!0,className:_f,onClick:o},r)))})),dS="gDO3tqgH",uS=pe((function(e){let{isActive:t,currentAccountId:a,enteredPassword:o,isBackupSlideActive:r,isInsideModal:i,onBackClick:s,onSubmit:l}=e;const c=vs(),[d,u]=ie(void 0);le((()=>{!async function(){if(r&&o){const e=await(0,n.p)("fetchPrivateKey",a,o);u(e)}else u(void 0)}()}),[a,o,r]),Ql({isActive:t,onBack:s});const{handleScroll:m,isScrolled:p}=ff();return he.createElement("div",{className:bf.slide},i?he.createElement(yf,{title:c("Private Key"),withNotch:p,onBackButtonClick:s,className:bf.modalHeader}):he.createElement("div",{className:ps(bf.header,"with-notch-on-scroll",p&&"is-scrolled")},he.createElement(ec,{isSimple:!0,isText:!0,onClick:s,className:bf.headerBack},he.createElement("i",{className:ps(bf.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),he.createElement("span",null,c("Back"))),he.createElement("span",{className:bf.headerTitle},c("Private Key"))),he.createElement("div",{className:ps(bf.content,dS),onScroll:m},he.createElement(cS,{isActive:t,privateKey:d,buttonText:c("Close"),onSubmit:l})))})),mS=pe((function(e){let{isActive:t,onBackClick:n,isInsideModal:a,onSubmit:o,backupType:r}=e;const i=vs(),[s,l]=ie(!1),[c,d]=ie(!1),[u,m]=ie(!1),p=$r((()=>{l(!1),d(!1),m(!1),n()}));Ql({isActive:t,onBack:n});const{handleScroll:f,isScrolled:h}=ff();return he.createElement("div",{className:bf.slide},a?he.createElement(yf,{title:i("Safety Rules"),withNotch:h,onBackButtonClick:p,className:bf.modalHeader}):he.createElement("div",{className:ps(bf.header,"with-notch-on-scroll",h&&"is-scrolled")},he.createElement(ec,{isSimple:!0,isText:!0,onClick:p,className:bf.headerBack},he.createElement("i",{className:ps(bf.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),he.createElement("span",null,i("Back"))),he.createElement("span",{className:bf.headerTitle},i("Safety Rules"))),he.createElement("div",{className:ps(bf.content,dS),onScroll:f},he.createElement(ih,{isActive:t,isFullSizeButton:!0,textFirst:i("key"===r?"$safety_rules_private_key_one":"$safety_rules_one"),textSecond:i("key"===r?"$safety_rules_private_key_two":"$safety_rules_two"),textThird:i("key"===r?"$safety_rules_private_key_three":"$safety_rules_three"),isFirstCheckboxSelected:s,onFirstCheckboxClick:l,isSecondCheckboxSelected:c,onSecondCheckboxClick:d,isThirdCheckboxSelected:u,onThirdCheckboxClick:m,onSubmit:o})))})),pS=pe((function(e){let{isActive:t,currentAccountId:a,enteredPassword:o,isBackupSlideActive:r,isInsideModal:i,onBackClick:s,onSubmit:l}=e;const c=vs(),[d,u]=ie(void 0),m=(null==d?void 0:d.length)||0;le((()=>{!async function(){if(r&&o){const e=await(0,n.p)("fetchMnemonic",a,o);u(e)}else u(void 0)}()}),[a,o,r]),Ql({isActive:t,onBack:s});const{handleScroll:p,isScrolled:f}=ff();return he.createElement("div",{className:bf.slide},i?he.createElement(yf,{title:c("%1$d Secret Words",m),withNotch:f,className:bf.modalHeader,onBackButtonClick:s}):he.createElement("div",{className:ps(bf.header,"with-notch-on-scroll",f&&"is-scrolled")},he.createElement(ec,{isSimple:!0,isText:!0,className:bf.headerBack,onClick:s},he.createElement("i",{className:ps(bf.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),he.createElement("span",null,c("Back"))),he.createElement("span",{className:bf.headerTitle},c("%1$d Secret Words",m))),he.createElement("div",{className:ps(bf.content,dS),onScroll:p},he.createElement(ch,{isActive:t,mnemonic:d,onSubmit:l,buttonText:c("Close")})))})),fS=pe($e((e=>({isBiometricAuthEnabled:pt(e)})))((function(e){let{isBiometricAuthEnabled:n,onEnable:a}=e;const{disableNativeBiometrics:o}=He(),r=Yo()||!jo()&&t.pz,i=Go(),s=vs(),[l,c,d]=Rd(),u=r?"Face ID":i?"Touch ID":s("Biometric Authentication"),m=r?"Turn Off Face ID":i?"Turn Off Touch ID":"Turn Off Biometrics",p=r?"Are you sure you want to disable Face ID?":i?"Are you sure you want to disable Touch ID?":"Are you sure you want to disable biometrics?",f=r?Vf:$f,h=$r((()=>{d(),o()}));_l((()=>{t.bA&&l&&zg.confirm({title:s(m),message:s(p),okButtonTitle:s("Yes"),cancelButtonTitle:s("Cancel")}).then((e=>{let{value:t}=e;t&&h()})).finally(d)}),[h,l,s,p,m]);const g=$r((()=>{var e;wa()?null===(e=ya())||void 0===e||e.BiometricManager.openSettings():n?c():a()}));return he.createElement(he.Fragment,null,he.createElement("div",{className:ps(bf.block,bf.settingsBlockWithDescription)},he.createElement("div",{className:bf.item,onClick:g},he.createElement("img",{className:bf.menuIcon,src:f,alt:""}),u,he.createElement(gN,{className:bf.menuSwitcher,label:u,checked:n})),function(){if(!t.bA)return he.createElement(Yc,{isCompact:!0,isOpen:l,title:s(m),onClose:d,dialogClassName:bf.stakingSafeDialog},he.createElement("p",{className:Vc.text},dr(s(p))),he.createElement("div",{className:Vc.buttons},he.createElement(ec,{onClick:d},s("Cancel")),he.createElement(ec,{onClick:h},s("Yes"))))}()),he.createElement("p",{className:bf.blockDescription},s("To avoid entering the passcode every time, you can use biometrics.")))}))),hS=i.p+"settings_install-app.4e741ffc81f5e067f545.svg";let gS=function(e){return e[e.password=0]="password",e[e.settings=1]="settings",e[e.newPassword=2]="newPassword",e[e.createNewPin=3]="createNewPin",e[e.confirmNewPin=4]="confirmNewPin",e[e.passwordChanged=5]="passwordChanged",e[e.backup=6]="backup",e[e.safetyRules=7]="safetyRules",e[e.privateKey=8]="privateKey",e[e.secretWords=9]="secretWords",e}({});const vS=Qo()?gS.createNewPin:gS.newPassword,wS="never",yS=pe($e((e=>{const{isPasswordNumeric:t,autolockValue:n,isAppLockEnabled:a}=e.settings,o=mt(e),r=pt(e),i=function(e){return!!tt(e)}(e);return{isBiometricAuthEnabled:o,isNativeBiometricAuthEnabled:r,isMultichainAccount:ut(e,e.currentAccountId),isPasswordNumeric:t,isPasswordPresent:i,isAppLockEnabled:a,autolockValue:n,isLoading:e.auth.isLoading,currentAccountId:e.currentAccountId}}))((function(a){let{isActive:o,handleBackClick:r,isInsideModal:i,isBiometricAuthEnabled:s,isNativeBiometricAuthEnabled:l,isPasswordNumeric:d,isPasswordPresent:u,isMultichainAccount:m,isAppLockEnabled:p,autolockValue:f=wS,isAutoUpdateEnabled:h,currentAccountId:g,onSettingsClose:v,onAutoUpdateEnabledToggle:w,isLoading:y}=a;const{setIsPinAccepted:b,clearIsPinAccepted:E,disableNativeBiometrics:k,enableNativeBiometrics:C,openBiometricsTurnOffWarning:N,openBiometricsTurnOn:S,setSettingsState:A,setAppLockValue:T,setIsAuthLoading:I}=He(),B=vs(),{isScrolled:_,handleScroll:x}=ff(),[L,D]=ie(gS.password),O=Bl(L),[P,F]=ie(gS.settings),[R,M]=ie(),[U,H]=ie(),[W,$]=ie(void 0),[V,z]=ie(!1),[q,K]=ie(""),[j,Y]=ie(""),G=$r((()=>{M(void 0)})),Q=$r((e=>{e||H(void 0),K(""),Y(""),G(),E()})),X=$r((()=>{r(),Q()})),J=$r((()=>{D(gS.confirmNewPin),F(gS.settings)})),Z=$r((()=>{D(gS.settings),F(void 0),Q(!0)})),ee=$r((()=>{m?(D(gS.backup),F(gS.safetyRules)):Z()})),te=$r((()=>{D(vS),F(gS.settings)})),ne=$r((()=>{D(gS.passwordChanged),F(gS.settings)}));ce((()=>{void 0===U&&o?D(gS.password):o||Q()}),[U,o]),Ql({isActive:o,onBack:X});const ae=$r((async e=>{if(!await(0,n.p)("verifyPassword",e))return void M("Wrong password, please try again.");const t=await(0,n.p)("fetchMnemonic",g,e);z(Boolean(t&&!lr(t))),Qo()&&(b(),await ar(!0)),Z(),H(e)})),oe=$r((async e=>{await(0,n.p)("changePassword",U,e),I({isLoading:!0}),H(e),l&&(k(),await C({password:e})),Qo()?Z():ne(),I({isLoading:void 0})})),re=$r((async e=>{K(e),await ar(!0),await(0,c.v7)(500),J()})),se=$r((async e=>{e===q?(M(B("New code set successfully")),await(0,c.v7)(1500),await oe(e)):(M(B("Codes don’t match")),await(0,c.v7)(1500),Q(!0),D(gS.createNewPin))})),le=$r((()=>{F(vS),te()})),de=$r((()=>{$("key"),D(gS.safetyRules),F(gS.privateKey)})),ue=$r((()=>{$("words"),D(gS.safetyRules),F(gS.secretWords)})),me=$r((()=>{m?(D(gS.backup),F(void 0)):V?ue():de()})),pe=$r((()=>{D(gS.privateKey),F(gS.backup)})),fe=$r((()=>{D(gS.secretWords),F(gS.backup)})),ge=$r((()=>{T({value:f,isEnabled:!p})})),ve=$r((e=>{T({value:e,isEnabled:!0})})),we=$r((()=>{s?N():S()})),ye=$r((async()=>{if(jo())return void A({state:un.NativeBiometricsTurnOn});const e=t.pz?"To use this feature, first enable Face ID in your phone settings.":"To use this feature, first enable biometrics in your phone settings.",{value:n}=await zg.confirm({title:B("Warning!"),message:B(e),okButtonTitle:B("Open Settings"),cancelButtonTitle:B("Cancel")});n&&await aS.open({optionAndroid:tS.ApplicationDetails,optionIOS:nS.App})})),be=u&&(jo()||t.ZH||wa()),Ee=i&&Qo();function ke(n,a,r){switch(r){case gS.settings:return he.createElement("div",{className:bf.slide},i?he.createElement(yf,{title:B("Security"),withNotch:_,onBackButtonClick:X,className:bf.modalHeader}):he.createElement("div",{className:ps(bf.header,"with-notch-on-scroll",_&&"is-scrolled")},he.createElement(ec,{isSimple:!0,isText:!0,onClick:X,className:bf.headerBack},he.createElement("i",{className:ps(bf.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),he.createElement("span",null,B("Back"))),he.createElement("span",{className:bf.headerTitle},B("Security"))),he.createElement("div",{className:ps(bf.content,"custom-scroll"),onScroll:x},he.createElement("div",{className:bf.settingsBlock},he.createElement("div",{className:ps(bf.item),onClick:me},he.createElement("img",{className:bf.menuIcon,src:hS,alt:B("$back_up_security")}),B("$back_up_security"),he.createElement("i",{className:ps(bf.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),be&&he.createElement(fS,{onEnable:ye}),u&&t.uh&&he.createElement(he.Fragment,null,he.createElement("div",{className:ps(bf.block,bf.settingsBlockWithDescription)},he.createElement("div",{className:bf.item,onClick:we},he.createElement("img",{className:bf.menuIcon,src:$f,alt:B("Biometric Authentication")}),B("Biometric Authentication"),he.createElement(gN,{className:bf.menuSwitcher,label:B("Biometric Authentication"),checked:s}))),he.createElement("p",{className:bf.blockDescription},B("To avoid entering the passcode every time, you can use biometrics."))),!(s&&!l)&&he.createElement(he.Fragment,null,he.createElement("div",{className:ps(bf.block,bf.settingsBlockWithDescription)},he.createElement(ec,{className:bf.changePasswordButton,isSimple:!0,onClick:le},B(d?"Change Passcode":"Change Password"))),he.createElement("p",{className:bf.blockDescription},B("The passcode will be changed for all your wallets."))),u&&he.createElement(he.Fragment,null,he.createElement("div",{className:ps(bf.block,bf.settingsBlockWithDescription)},he.createElement("div",{className:ps(bf.item,bf.itemSmall),onClick:ge},B("App Lock"),he.createElement(gN,{className:bf.menuSwitcher,label:B("Allow App Lock"),checked:p})),he.createElement(rS,{isShown:!!p},he.createElement(Mh,{label:B("Auto-Lock"),items:e.zTb,selectedValue:f,theme:"light",shouldTranslateOptions:!0,className:ps(bf.item,bf.item_small),onChange:ve}))),he.createElement("p",{className:bf.blockDescription},B("$app_lock_description",{app_name:e.C39}))),t.cp&&he.createElement(he.Fragment,null,he.createElement("div",{className:ps(bf.block,bf.settingsBlockWithDescription)},he.createElement("div",{className:ps(bf.item,bf.item_small),onClick:w},B("Auto-Updates"),he.createElement(gN,{className:bf.menuSwitcher,label:B("Auto-Updates"),checked:h}))),he.createElement("p",{className:bf.blockDescription},B("Turn this off so you can manually download updates and verify signatures.")))));case gS.password:return he.createElement(he.Fragment,null,i?he.createElement(yf,{title:B(d?"Confirm Passcode":"Confirm Password"),onBackButtonClick:X,className:bf.modalHeader}):he.createElement("div",{className:bf.header},he.createElement(ec,{isSimple:!0,isText:!0,onClick:X,className:bf.headerBack},he.createElement("i",{className:ps(bf.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),he.createElement("span",null,B("Back"))),he.createElement("span",{className:bf.headerTitle},B("Enter Password"))),he.createElement(sp,{isActive:n&&o,error:R,containerClassName:e.UMQ?bf.passwordFormContent:bf.passwordFormContentInModal,forceBiometricsInMain:!i,placeholder:B("Enter your current password"),submitLabel:B("Continue"),onCancel:X,onSubmit:ae,onUpdate:G}));case gS.newPassword:return he.createElement(he.Fragment,null,i?he.createElement(yf,{title:B("Change Password"),onBackButtonClick:Z,className:bf.modalHeader}):he.createElement("div",{className:bf.header},he.createElement(ec,{isSimple:!0,isText:!0,onClick:Z,className:bf.headerBack},he.createElement("i",{className:ps(bf.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),he.createElement("span",null,B("Back"))),he.createElement("span",{className:bf.headerTitle},B("Change Password"))),he.createElement("div",{className:ps(Vc.transitionContent,bf.content)},he.createElement(xm,{tgsUrl:Ju.guard,previewUrl:Ju.guardPreview,play:n,size:e.igk,nonInteractive:!0,noLoop:!1,className:bf.sticker}),he.createElement(Kf,{isActive:n,isLoading:y,onSubmit:oe,onCancel:Z,formId:"auth-create-password"})));case gS.createNewPin:return he.createElement(he.Fragment,null,i?he.createElement(yf,{onBackButtonClick:Z,className:bf.modalHeader,title:Ee&&B("Change Passcode")}):he.createElement("div",{className:bf.header},he.createElement(ec,{isSimple:!0,isText:!0,onClick:Z,className:bf.headerBack},he.createElement("i",{className:ps(bf.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),he.createElement("span",null,B("Back")))),he.createElement("div",{className:ps(bf.pinPadHeader,Ee&&bf.pinPadHeaderMinified)},he.createElement(xm,{play:o,tgsUrl:Ju.guard,previewUrl:Ju.guardPreview,noLoop:!1,size:Ee?e.jzp:e.reE,nonInteractive:!0}),!Ee&&he.createElement("div",{className:bf.pinPadTitle},B("Change Passcode"))),he.createElement(rp,{isActive:o,title:B("Enter your new code"),length:e.NEx,value:q,onChange:K,onSubmit:re,isMinified:Ee}));case gS.confirmNewPin:return he.createElement(he.Fragment,null,i?he.createElement(yf,{onBackButtonClick:Z,className:bf.modalHeader,title:Ee&&B(R&&q===j?"Passcode Changed!":"Change Passcode")}):he.createElement("div",{className:bf.header},he.createElement(ec,{isSimple:!0,isText:!0,onClick:Z,className:bf.headerBack},he.createElement("i",{className:ps(bf.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),he.createElement("span",null,B("Back")))),he.createElement("div",{className:ps(bf.pinPadHeader,Ee&&bf.pinPadHeaderMinified)},he.createElement(xm,{play:o,tgsUrl:Ju.guard,previewUrl:Ju.guardPreview,noLoop:!1,size:Ee?e.jzp:e.reE,nonInteractive:!0}),!Ee&&he.createElement("div",{className:bf.pinPadTitle},B(R&&q===j?"Passcode Changed!":"Change Passcode"))),he.createElement(rp,{isActive:o,title:R||B("Re-enter your new code"),type:R?q===j?"success":"error":void 0,length:e.NEx,value:j,onChange:Y,onSubmit:se,isMinified:Ee}));case gS.passwordChanged:return he.createElement(he.Fragment,null,i?he.createElement(yf,{title:B("Password Changed!"),className:bf.modalHeader}):he.createElement("div",{className:ps(bf.header,bf.onlyTextHeader)},he.createElement("span",{className:bf.headerTitle},B("Password Changed!"))),he.createElement("div",{className:bf.content},he.createElement(xm,{tgsUrl:Ju.yeee,previewUrl:Ju.yeeePreview,play:o,size:e.reE,nonInteractive:!0,noLoop:!1,className:ps(bf.sticker,bf.stickerHuge)}),he.createElement("div",{className:Vc.buttons},he.createElement(ec,{isPrimary:!0,onClick:Z,className:Vc.customSubmitButton},B("Done")))));case gS.backup:return he.createElement(lS,{isActive:o&&n,isMultichainAccount:m,openSettingsSlide:Z,isInsideModal:i,onOpenPrivateKeySafetyRules:de,onOpenSecretWordsSafetyRules:ue,onBackClick:X,hasMnemonicWallet:V});case gS.safetyRules:return he.createElement(mS,{isActive:o&&n,isInsideModal:i,backupType:W,onBackClick:ee,onSubmit:"key"===W?pe:fe});case gS.secretWords:return he.createElement(pS,{isActive:o&&n,isBackupSlideActive:r===gS.secretWords||r===gS.safetyRules,isInsideModal:i,enteredPassword:U,currentAccountId:g,onBackClick:ee,onSubmit:v});case gS.privateKey:return he.createElement(uS,{isActive:o&&n,isBackupSlideActive:r===gS.privateKey||r===gS.safetyRules,isInsideModal:i,enteredPassword:U,currentAccountId:g,onBackClick:ee,onSubmit:v})}}return he.createElement(gp,{direction:O===gS.password&&L===gS.settings?1:"auto",name:fh(),className:ps(Vc.transition,"custom-scroll"),slideClassName:ps(bf.slide,i&&Vc.transitionSlide),activeKey:L,nextKey:P,shouldCleanup:!0},ke)}))),bS=pe((function(e){let{isActive:t,isInsideModal:n,handleBackClick:a}=e;const{addToken:o}=He(),r=vs(),i=$r((e=>{o({token:e})}));return Ql({isActive:t,onBack:a}),he.createElement("div",{className:ps(bf.slide,bf.withTopSpace)},he.createElement(nw,{isActive:t,shouldHideMyTokens:!0,shouldHideNotSupportedTokens:!0,header:he.createElement("div",{className:ps(bf.header,n&&bf.headerInsideModal)},he.createElement(ec,{isSimple:!0,isText:!0,className:ps(bf.headerBack,n&&bf.isInsideModal),onClick:a},he.createElement("i",{className:ps(bf.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),he.createElement("span",null,r("Back"))),he.createElement("span",{className:bf.headerTitle},r("Select Token"))),onTokenSelect:i,onBack:a,onClose:a}))})),ES=pe((function(e){let{isActive:t,handleBackClick:n,isInsideModal:a,currentVersion:o,wallets:r}=e;const{closeSettings:i,importAccountByVersion:s}=He(),l=vs();Ql({isActive:t,onBack:n});const{handleScroll:c,isScrolled:d}=ff(),u=$r((e=>{i(),s({version:e})}));return he.createElement("div",{className:bf.slide},a?he.createElement(yf,{title:l("Wallet Versions"),withNotch:d,onBackButtonClick:n,className:bf.modalHeader}):he.createElement("div",{className:ps(bf.header,"with-notch-on-scroll",d&&"is-scrolled")},he.createElement(ec,{isSimple:!0,isText:!0,onClick:n,className:bf.headerBack},he.createElement("i",{className:ps(bf.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),he.createElement("span",null,l("Back"))),he.createElement("span",{className:bf.headerTitle},l("Wallet Versions"))),he.createElement("div",{className:ps(bf.content,"custom-scroll"),onScroll:c},he.createElement("div",{className:bf.blockWalletVersionText},he.createElement("span",null,l("$current_wallet_version",{version:he.createElement("strong",null,o)})),he.createElement("span",null,l("You have tokens on other versions of your wallet. You can import them from here."))),he.createElement("div",{className:bf.block},null==r?void 0:r.map((e=>he.createElement("div",{key:e.address,className:ps(bf.item,bf.item_wallet_version),onClick:()=>u(e.version)},he.createElement("div",{className:bf.walletVersionInfo},he.createElement("span",{className:bf.walletVersionTitle},e.version),he.createElement("span",{className:bf.walletVersionAddress},xt(e.address))),he.createElement("div",{className:bf.walletVersionInfoRight},he.createElement("span",{className:bf.walletVersionTokens},e.tokens.join(", ")),he.createElement("span",{className:bf.walletVersionAmount},"≈ ",e.totalBalance)),he.createElement("i",{className:ps(bf.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))))),he.createElement("div",{className:bf.blockWalletVersionReadMore},l("$read_more_about_wallet_version",{ton_link:he.createElement("a",{href:"https://docs.ton.org/participate/wallets/contracts",target:"_blank",rel:"noreferrer"},"ton.org")}))))})),kS=i.p+"settings_about.595108a2131c96b2a073.svg",CS=i.p+"settings_appearance.2b14c893329172079cde.svg",NS=i.p+"settings_assets-activity.1ad5da85234bf09fece1.svg",SS=i.p+"settings_connected-dapps.2040e629b6b7c8322782.svg",AS=i.p+"settings_disclaimer.253b4de147ec357601d1.svg",TS=i.p+"settings_exit.32a8c2a0aa15b32cbe18.svg",IS=i.p+"settings_helpcenter.c1b63b9a0edfbe3ca57a.svg",BS=i.p+"settings_install-desktop.f9ff2be3a8a645314652.svg",_S=i.p+"settings_install-mobile.9a3f10a7012a857e2ba2.svg",xS=i.p+"settings_language.5082638742f18ab7aea8.svg",LS=i.p+"settings_ledger.d4d0de11ad8edd55b0ca.svg",DS=i.p+"settings_mtw-cards.aa09d8a35d4b36e090c8.svg",OS=i.p+"settings_mytonwallet.0bfa3bfd3fb936194997.svg",PS=i.p+"settings_notifications.20cf46edde7f154d46e3.svg",FS=i.p+"settings_security.4e873ae439b7ec0b15a9.svg",RS=i.p+"settings_support.de2a6e66d58407937014.svg",MS=i.p+"settings_telegram-menu.48b7177fffab504e301c.svg",US=i.p+"settings_tips.4f95b86d29d530790adb.svg",HS=i.p+"settings_ton-links.d9f0da8222e4a54c9332.svg",WS=i.p+"settings_ton-magic.bc2fb1d30938a1154b6c.svg",$S=i.p+"settings_ton-proxy.21c95b346710c5a73217.svg",VS=i.p+"settings_wallet-version.651cf56eff6ca7827bf6.svg",zS=1,qS=pe($e((e=>{var t;const n=ot(e),a=Ge(e),{isCopyStorageEnabled:o,supportAccountsCount:r=1,isNftBuyingDisabled:i}=e.restrictions,{currentVersion:s,byId:l}=null!==(t=e.walletVersions)&&void 0!==t?t:{},c=null==l?void 0:l[e.currentAccountId],{dapps:d=sv}=Ze(e)||{},{hardwareWallets:u,hardwareState:m,isLedgerConnected:p,isTonAppConnected:f,isRemoteTab:h}=e.hardware;return{settings:e.settings,dapps:d,isOpen:e.areSettingsOpen,tokens:kt(e),isHardwareAccount:n,currentVersion:s,versions:c,isCopyStorageEnabled:o,supportAccountsCount:r,hardwareState:m,isLedgerConnected:p,isTonAppConnected:f,isRemoteTab:h,hardwareWallets:u,accounts:a,isNftBuyingDisabled:i,arePushNotificationsAvailable:e.pushNotifications.isAvailable}}))((function(n){let{settings:{state:a,theme:o,animationLevel:r,isTestnet:i,langCode:s,isTonProxyEnabled:l,isTonMagicEnabled:c,isDeeplinkHookEnabled:d,baseCurrency:u},dapps:m,isActive:p,isOpen:f=!1,tokens:h,isInsideModal:g,isHardwareAccount:v,currentVersion:w,versions:y,isCopyStorageEnabled:b,supportAccountsCount:E=zS,accounts:k,hardwareWallets:C,hardwareState:N,isLedgerConnected:S,isTonAppConnected:A,isRemoteTab:T,arePushNotificationsAvailable:I,isNftBuyingDisabled:B}=n;const{setSettingsState:_,openSettingsHardwareWallet:x,closeSettings:L,toggleDeeplinkHook:D,toggleTonProxy:O,toggleTonMagic:P,getDapps:F,clearIsPinAccepted:R,afterSelectHardwareWallets:M}=He(),U=vs(),{isPortrait:H}=po(),W=me(null),{renderingKey:$}=hh(a,f),{disableSwipeToClose:V,enableSwipeToClose:z}=Zg(f),[q,K]=ie(i?5:0),j=Wr(tv($)),[Y,G,Q]=Rd(),[X,J,Z]=Rd(),ee=$===un.Initial,te=de((()=>e.gSB.find((e=>e.langCode===s))),[s]),ne=br(u),ae=de((()=>null==h?void 0:h.find((t=>{let{slug:n}=t;return n===e.Tu9.slug}))),[h]),oe=de((()=>{var e;return null!==(e=null==y?void 0:y.map((e=>{var t,n;const a=gr((0,wt.nI)(e.balance),null!==(t=null==ae?void 0:ae.symbol)&&void 0!==t?t:""),o=gr((0,wt.CF)(e.balance).mul(null!==(n=null==ae?void 0:ae.price)&&void 0!==n?n:0).round(null==ae?void 0:ae.decimals),ne),r=[a];return{address:e.address,version:e.version,totalBalance:o,tokens:r}})))&&void 0!==e?e:[]}),[ne,ae,y]),{transitionClassNames:re,shouldRender:se}=ws(c),{handleScroll:ce,isScrolled:ue}=ff(),pe=$r((()=>{j.current===un.NativeBiometricsTurnOn&&R()})),fe=$r((()=>{L(void 0,{forceOnHeavyAnimation:!0})}));Ql({isActive:p&&ee,onBack:fe,shouldIgnoreForTelegram:g}),cm(f&&!ee);const ge=$r((()=>{Q(),e.TI6&&fe()})),ve=$r((()=>{F(),_({state:un.Dapps})}));function we(){_({state:un.Appearance})}function ye(){_({state:un.PushNotifications})}function be(){_({state:un.Security})}function Ee(){_({state:un.Assets})}function ke(){_({state:un.Language})}function Ce(){_({state:un.About})}function Ne(){_({state:un.Disclaimer})}const Se=$r((()=>{_({state:un.Initial})})),Ae=$r((()=>{_({state:un.Assets})})),Te=$r((()=>{_({state:un.WalletVersion})})),Ie=$r((()=>{D({isEnabled:!d})})),Be=$r((()=>{O({isEnabled:!l})})),_e=$r((()=>{P({isEnabled:!c})}));function xe(){to("https://mytonwallet.io/get",{isExternal:!0})}function Le(){to("https://mytonwallet.io/get/desktop",{isExternal:!0})}function De(){to("https://mytonwallet.io/get/mobile",{isExternal:!0})}const Oe=$r((()=>{M({hardwareSelectedIndices:[C[0].index]}),fe()})),Pe=$r((e=>{e?Oe():_({state:un.LedgerSelectWallets})})),[Fe,Re]=ie(!1);le((()=>{var e;null===(e=window.electron)||void 0===e||e.getIsTrayIconEnabled().then(Re)}),[]);const Me=$r((()=>{var e;Re(!Fe),null===(e=window.electron)||void 0===e||e.setIsTrayIconEnabled(!Fe)})),[Ue,We]=ie(!1);le((()=>{var e;null===(e=window.electron)||void 0===e||e.getIsAutoUpdateEnabled().then(We)}),[]);const $e=$r((()=>{var e;We(!Ue),null===(e=window.electron)||void 0===e||e.setIsAutoUpdateEnabled(!Ue)})),Ve=$r((()=>{ee?g&&fe():Se()})),ze=$r((e=>{Z(),e&&fe()}));function qe(){x()}const Ke=()=>{q+1>=5?G():K(q+1)};function je(){return he.createElement("div",{className:bf.item,onClick:Ie},he.createElement("img",{className:bf.menuIcon,src:HS,alt:U("Handle ton:// links")}),U("Handle ton:// links"),he.createElement(gN,{className:bf.menuSwitcher,label:U("Handle ton:// links"),checked:d}))}function Ye(n,a,d){switch(d){case un.Initial:return he.createElement("div",{className:bf.slide},g?he.createElement(yf,{title:U("Settings"),withNotch:ue,onClose:H?void 0:fe,className:bf.modalHeader}):he.createElement("div",{className:ps(bf.header,"with-notch-on-scroll",ue&&"is-scrolled")},he.createElement(ec,{isSimple:!0,isText:!0,onClick:fe,className:ps(bf.headerBack,H&&bf.hidden)},he.createElement("i",{className:ps(bf.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),he.createElement("span",null,U("Back"))),he.createElement("span",{className:bf.headerTitle},U("Settings"))),he.createElement("div",{className:ps(bf.content,"custom-scroll",bf.withBottomSpace),onScroll:ce},e.TI6&&he.createElement("div",{className:bf.block},he.createElement("div",{className:bf.item,onClick:xe},he.createElement("img",{className:bf.menuIcon,src:OS,alt:U("Upgrade to MyTonWallet")}),U("Upgrade to MyTonWallet"),he.createElement("i",{className:ps(bf.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),!e.TI6&&t.u2&&he.createElement("div",{className:bf.block},he.createElement("div",{className:bf.item,onClick:xe},he.createElement("img",{className:bf.menuIcon,src:hS,alt:U("Install App")}),U("Install App"),he.createElement("i",{className:ps(bf.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),e.hL1&&he.createElement("div",{className:bf.block},e.hnd&&he.createElement("div",{className:bf.item,onClick:Be},he.createElement("img",{className:bf.menuIcon,src:$S,alt:U("TON Proxy")}),U("TON Proxy"),he.createElement(gN,{className:bf.menuSwitcher,label:U("Toggle TON Proxy"),checked:l})),he.createElement("div",{className:bf.item,onClick:_e},he.createElement("img",{className:bf.menuIcon,src:WS,alt:U("TON Magic")}),U("TON Magic"),he.createElement(gN,{className:bf.menuSwitcher,label:U("Toggle TON Magic"),checked:c})),se&&he.createElement("div",{className:ps(bf.item,re),onClick:KS},he.createElement("img",{className:bf.menuIcon,src:MS,alt:U("Open Telegram Web")}),U("Open Telegram Web"),he.createElement("i",{className:ps(bf.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0})),je()),t.cp&&he.createElement("div",{className:bf.block},je()),he.createElement("div",{className:bf.block},he.createElement("div",{className:bf.item,onClick:ye},he.createElement("img",{className:bf.menuIcon,src:PS,alt:U(I?"Notifications & Sounds":"Sounds")}),U(I?"Notifications & Sounds":"Sounds"),he.createElement("i",{className:ps(bf.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0})),he.createElement("div",{className:bf.item,onClick:we},he.createElement("img",{className:bf.menuIcon,src:CS,alt:U("Appearance")}),U("Appearance"),he.createElement("i",{className:ps(bf.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0})),!e.K_I&&he.createElement("div",{className:bf.item,onClick:Ee},he.createElement("img",{className:bf.menuIcon,src:NS,alt:U("Assets & Activity")}),U("Assets & Activity"),he.createElement("i",{className:ps(bf.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0})),!v&&he.createElement("div",{className:bf.item,onClick:be},he.createElement("img",{className:bf.menuIcon,src:FS,alt:U("Security")}),U("Security"),he.createElement("i",{className:ps(bf.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0})),t.ED&&he.createElement("div",{className:bf.item,onClick:ve},he.createElement("img",{className:bf.menuIcon,src:SS,alt:U("Connected Dapps")}),U("Connected Dapps"),he.createElement("div",{className:bf.itemInfo},m.length?m.length:"",he.createElement("i",{className:ps(bf.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),!e.TI6&&he.createElement("div",{className:bf.item,onClick:ke},he.createElement("img",{className:bf.menuIcon,src:xS,alt:U("Language")}),U("Language"),he.createElement("div",{className:bf.itemInfo},null==te?void 0:te.name,he.createElement("i",{className:ps(bf.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0})))),(!(null==y||!y.length)||t.sC)&&he.createElement("div",{className:bf.block},!(null==y||!y.length)&&he.createElement("div",{className:bf.item,onClick:Te},he.createElement("img",{className:bf.menuIcon,src:VS,alt:U("Wallet Versions")}),U("Wallet Versions"),he.createElement("div",{className:bf.itemInfo},w,he.createElement("i",{className:ps(bf.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),t.sC&&he.createElement("div",{className:bf.item,onClick:qe},he.createElement("img",{className:bf.menuIcon,src:LS,alt:U("Connect Ledger")}),U("Connect Ledger"),he.createElement("i",{className:ps(bf.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),!e.TI6&&he.createElement(he.Fragment,null,!B&&he.createElement("div",{className:bf.block},he.createElement("a",{href:e.b2d,target:"_blank",rel:"noopener noreferrer",className:bf.item},he.createElement("img",{className:bf.menuIcon,src:DS,alt:U("MyTonWallet Cards NFT")}),U("MyTonWallet Cards NFT"),he.createElement("i",{className:ps(bf.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),he.createElement("div",{className:bf.block},he.createElement("a",{href:`https://t.me/${null!==(u=e.AIK[s])&&void 0!==u?u:e.AIK.en}`,target:"_blank",rel:"noopener noreferrer",className:bf.item},he.createElement("img",{className:bf.menuIcon,src:US,alt:U("MyTonWallet Tips")}),U("MyTonWallet Tips"),he.createElement("i",{className:ps(bf.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0})),he.createElement("a",{href:null!==(f=e.nrE[s])&&void 0!==f?f:e.nrE.en,target:"_blank",rel:"noopener noreferrer",className:bf.item},he.createElement("img",{className:bf.menuIcon,src:IS,alt:U("Help Center")}),U("Help Center"),he.createElement("i",{className:ps(bf.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0})),E>0&&he.createElement("a",{href:`https://t.me/${e.Fkn}`,target:"_blank",rel:"noopener noreferrer",className:bf.item},he.createElement("img",{className:bf.menuIcon,src:RS,alt:U("Get Support")}),U("Get Support"),he.createElement("div",{className:bf.itemInfo},he.createElement("span",{className:bf.small},"@",e.Fkn),he.createElement("i",{className:ps(bf.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))))),he.createElement("div",{className:bf.block},he.createElement("div",{className:bf.item,onClick:Ne},he.createElement("img",{className:bf.menuIcon,src:AS,alt:U("Use Responsibly")}),U("Use Responsibly"),he.createElement("i",{className:ps(bf.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),!e.TI6&&e.UMQ&&he.createElement("div",{className:bf.block},he.createElement("div",{className:bf.item,onClick:Le},he.createElement("img",{className:bf.menuIcon,src:BS,alt:U("Install on Desktop")}),U("Install on Desktop"),he.createElement("i",{className:ps(bf.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),!e.TI6&&t.cp&&he.createElement("div",{className:bf.block},he.createElement("div",{className:bf.item,onClick:De},he.createElement("img",{className:bf.menuIcon,src:_S,alt:U("Install on Mobile")}),U("Install on Mobile"),he.createElement("i",{className:ps(bf.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),!e.TI6&&he.createElement("div",{className:bf.block},!e.TI6&&e.hL1&&he.createElement("div",{className:bf.item,onClick:xe},he.createElement("img",{className:bf.menuIcon,src:hS,alt:U("Install App")}),U("Install App"),he.createElement("i",{className:ps(bf.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0})),!e.TI6&&he.createElement("div",{className:bf.item,onClick:Ce},he.createElement("img",{className:bf.menuIcon,src:kS,alt:""}),U("About %app_name%",{app_name:e.C39}),he.createElement("i",{className:ps(bf.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),he.createElement("div",{className:bf.block},he.createElement("div",{className:ps(bf.item,bf.item_red),onClick:J},he.createElement("img",{className:bf.menuIcon,src:TS,alt:U("Exit")}),U("Exit"),he.createElement("i",{className:ps(bf.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),he.createElement("div",{className:bf.version,onClick:Ke},e.C39," ",e.hl5," ",e.vOV)),he.createElement(jN,{isOpen:Y,isTestnet:i,isCopyStorageEnabled:b,onClose:ge}));case un.PushNotifications:return he.createElement(eS,{isActive:n,handleBackClick:Se,isInsideModal:g});case un.Appearance:return he.createElement(IN,{isActive:n,theme:o,animationLevel:r,handleBackClick:Se,isInsideModal:g,isTrayIconEnabled:Fe,onTrayIconEnabledToggle:Me});case un.Assets:return he.createElement(HN,{isActive:n,isInsideModal:g,onBack:Se});case un.Security:return he.createElement(yS,{isActive:p&&n,handleBackClick:Se,isInsideModal:g,isAutoUpdateEnabled:Ue,onAutoUpdateEnabledToggle:$e,onSettingsClose:fe});case un.Dapps:return he.createElement(VN,{isActive:n,dapps:m,handleBackClick:Se,isInsideModal:g});case un.Language:return he.createElement(ZN,{isActive:n,langCode:s,handleBackClick:Se,isInsideModal:g});case un.About:return he.createElement(Ef,{isActive:n,handleBackClick:Se,isInsideModal:g,theme:o});case un.Disclaimer:return he.createElement(YN,{isActive:n,handleBackClick:Se,isInsideModal:g});case un.NativeBiometricsTurnOn:return he.createElement(SN,{isActive:n,handleBackClick:Se});case un.SelectTokenList:return he.createElement(bS,{isActive:n,isInsideModal:g,handleBackClick:Ae});case un.WalletVersion:return he.createElement(ES,{isActive:n,currentVersion:w,handleBackClick:Se,isInsideModal:g,wallets:oe});case un.LedgerConnectHardware:return he.createElement("div",{className:bf.slide},he.createElement(Yh,{isActive:n,isStatic:!g,shouldDelegateToNative:t.KI&&!g,state:N,isLedgerConnected:S,isTonAppConnected:A,isRemoteTab:T,className:bf.nestedTransition,onBackButtonClick:Se,onConnected:Pe,onClose:Ve}));case un.LedgerSelectWallets:return he.createElement("div",{className:bf.slide},he.createElement(kv,{isActive:n,isStatic:!g,accounts:k,hardwareWallets:C,onBackButtonClick:Se,onClose:Ve}));case un.HiddenNfts:return he.createElement(XN,{isActive:n,handleBackClick:Ae,isInsideModal:g})}var u,f}return le((()=>Ih(g?Ve:Se)),[g]),le((()=>{if(t.TF)return Xm(W.current,{onSwipeRightStart:()=>{t.bA?Se():Ve(),V()},onCancel:()=>{_({state:j.current}),z()}})}),[V,z,j]),he.createElement("div",{className:bf.wrapper},he.createElement(gp,{ref:W,name:fh(),className:ps(g?Vc.transition:bf.transitionContainer,"custom-scroll"),activeKey:$,slideClassName:ps(g&&Vc.transitionSlide),withSwipeControl:!0,onStop:Qo()?pe:void 0},Ye),he.createElement(hN,{isOpen:X,onClose:ze}),t.uh&&he.createElement(NN,{isInsideModal:g}))})));function KS(){window.open(e.h4K,"_blank","noopener")}const jS=pe($e((e=>({isMediaViewerOpen:Boolean(e.mediaViewer.mediaId)})))((function(n){let{children:a,isOpen:o,onClose:r,isMediaViewerOpen:i}=n;const s=ps(bf.modalDialog,!(t.cp||e.hL1)&&bf.modalDialogWeb);return he.createElement(Yc,{hasCloseButton:!0,isOpen:o&&!i,dialogClassName:s,contentClassName:bf.modalContent,nativeBottomSheetKey:"settings",forceFullNative:!0,onClose:r},a)}))),YS=pe((function(a){let{isActive:o,swapType:r,toAddress:i="",tokenIn:s,tokenOut:l}=a;const{cancelSwap:c,setSwapCexAddress:d,showNotification:u,setSwapScreen:m,requestOpenQrScanner:p}=He(),f=vs(),{isPortrait:h}=po(),g=me(null),[v,w]=ie(t.Et),[y,b,E]=Rd(),[k,C]=ie(!1),[N,S]=ie(r!==rn.CrosschainFromWallet),A=Hy(),T=v&&""===i,I=i.length>28?xt(i,14)||"":i,B=$r((()=>{C(!1),S(!1),m({state:h?nn.Initial:nn.None})}));Ql({isActive:o,onBack:B});const _=$r((()=>{const e=g.current;requestAnimationFrame((()=>{const t=e.selectionStart;b(),requestAnimationFrame((()=>{const n=t<=17?t:Math.max(0,e.value.length-(I.length-t));e.setSelectionRange(n,n),n>28&&(e.scrollLeft=e.scrollWidth-e.clientWidth)}))}))})),x=$r((async e=>{if(!e.length)return C(!1),void S(!1);const t=await(0,n.p)("swapCexValidateAddress",{slug:null==l?void 0:l.slug,address:e});if(!t)return C(!1),void S(!1);C(!t.result),S(t.result)})),L=$r((()=>{E()})),D=$r((e=>{d({toAddress:e.trim()})})),O=$r((async()=>{try{const{type:e,text:t}=await ir();"text/plain"===e&&(d({toAddress:t.trim()}),await x(t.trim()))}catch(e){u({message:f("Error reading clipboard")}),w(!1)}}));le((()=>{x(i)}),[i,x]);const P=$r((()=>{tr(),m({state:nn.Password})})),F=$r((()=>{p(),c()})),R=f("$swap_from_to",{from:null==s?void 0:s.symbol,icon:he.createElement("i",{className:ps("icon-chevron-right",uy.swapArrowIcon),"aria-hidden":!0}),to:null==l?void 0:l.symbol});return he.createElement(he.Fragment,null,he.createElement(yf,{title:R,onClose:c}),he.createElement("div",{className:ps(uy.scrollContent,uy.selectBlockchainBlock,"custom-scroll")},he.createElement(xm,{play:o,noLoop:!1,nonInteractive:!0,tgsUrl:Ju.bill,previewUrl:Ju.billPreview,size:e.igk}),function(){if(r===rn.CrosschainFromWallet)return he.createElement(he.Fragment,null,he.createElement("div",{className:uy.inputAddress},he.createElement(Wm,{ref:g,isRequired:!0,placeholder:f("Your address on another blockchain"),value:y?i:I,onInput:D,onFocus:_,onBlur:L,wrapperClassName:uy.inputAddressWrapper},A&&he.createElement(ec,{isSimple:!0,className:ps(uy.inputButton,T&&uy.inputButtonShifted),onClick:F,ariaLabel:f("Scan QR Code")},he.createElement("i",{className:"icon-qr-scanner-alt","aria-hidden":!0})),T&&he.createElement(ec,{isSimple:!0,className:uy.inputButton,onClick:O,ariaLabel:f("Paste")},he.createElement("i",{className:"icon-paste","aria-hidden":!0})))),function(){const e=k?f("Incorrect address."):f("Please provide an address of your wallet in %blockchain% blockchain to receive bought tokens.",{blockchain:$v(null==l?void 0:l.chain)});return he.createElement(gp,{name:"fade",activeKey:k?0:1,slideClassName:uy.blockchainHintWrapper},he.createElement("span",{className:ps(uy.blockchainHintText,k&&uy.blockchainHintTextError)},e))}())}(),he.createElement("div",{className:ps(uy.blockchainButtons,Vc.footerButtons)},he.createElement(ec,{onClick:B,className:Vc.buttonHalfWidth},f("Close")),he.createElement(ec,{isPrimary:!0,isDisabled:!N,className:Vc.buttonHalfWidth,onClick:P},f("Continue")))))})),GS="e8xjMuq6",QS="n91WXWIY",XS="nOPyXt4f",JS=pe($e((e=>{var t;return{addressByChain:null===(t=Xe(e))||void 0===t?void 0:t.addressByChain,isSensitiveDataHidden:e.settings.isSensitiveDataHidden}}))((function(e){let{tokenIn:t,tokenOut:n,amountIn:a,amountOut:o,playAnimation:r,firstButtonText:i,secondButtonText:s,swapType:l,toAddress:c="",addressByChain:d,isSensitiveDataHidden:u,onFirstButtonClick:m,onSecondButtonClick:p,isFirstButtonDisabled:f}=e;const h=vs(),g=is({from:t,to:n,toAddress:c,addressByChain:d}),v=de((()=>Boolean(c&&Object.values(null!=d?d:{}).some((e=>e===c)))),[d,c]);return he.createElement(he.Fragment,null,function(){if(l!==rn.CrosschainFromWallet||g)return he.createElement(xm,{play:r,noLoop:!1,nonInteractive:!0,className:"TY_nyPoa",tgsUrl:Ju.thumbUp,previewUrl:Ju.thumbUpPreview})}(),he.createElement(uC,{isSensitiveDataHidden:u,tokenIn:t,amountIn:a,tokenOut:n,amountOut:o}),l!==rn.OnChain&&he.createElement("div",{className:QS},he.createElement("span",{className:XS},h("Please note that it may take up to a few hours for tokens to appear in your wallet."))),function(){if(l!==rn.CrosschainFromWallet||v)return;const e=rs(null==n?void 0:n.chain)?n.chain:void 0;return he.createElement("div",{className:QS},he.createElement("span",{className:XS},h("$swap_changelly_from_ton_description",{blockchain:he.createElement("span",{className:"bTumpDcM"},$v(null==n?void 0:n.chain))})),he.createElement(bg,{chain:e,address:c,copyNotification:h("Address was copied!"),noSavedAddress:!0,noExplorer:!0,className:"qcMvwyr2"}))}(),function(){if(i||s)return he.createElement("div",{className:"JuY14PzG"},i&&he.createElement(ec,{className:GS,onClick:m,isDisabled:f},i),s&&he.createElement(ec,{className:GS,onClick:p},s))}())}))),ZS=pe((function(e){let{isActive:t,tokenIn:n,tokenOut:a,amountIn:o,amountOut:r,swapType:i,toAddress:s,onInfoClick:l,onStartSwap:c,onClose:d,isDetailsDisabled:u}=e;const m=vs();return Ql({isActive:t,onBack:d}),he.createElement(he.Fragment,null,he.createElement(yf,{title:m("Swap Placed"),onClose:d}),he.createElement("div",{className:ps(uy.scrollContent,"custom-scroll")},he.createElement(JS,{tokenIn:n,amountIn:o,tokenOut:a,amountOut:r,swapType:i,toAddress:s,playAnimation:t,firstButtonText:m("Details"),secondButtonText:m("Repeat"),onFirstButtonClick:l,onSecondButtonClick:c,isFirstButtonDisabled:u}),he.createElement("div",{className:Vc.buttons},he.createElement(ec,{onClick:d,isPrimary:!0},m("Close")))))})),eA=pe((function(t){let{isActive:n,isLoading:a,error:o,children:r,onSubmit:i,onBack:s}=t;const{cancelSwap:l,clearSwapError:c}=He(),d=vs();return Ql({isActive:n,onBack:s}),he.createElement(he.Fragment,null,!Qo()&&he.createElement(yf,{title:d("Confirm Swap"),onClose:l}),he.createElement(sp,{isActive:n,isLoading:a,withCloseButton:e.UMQ,error:o,operationType:"swap",submitLabel:d("Send"),cancelLabel:d("Back"),onSubmit:i,onCancel:s,onUpdate:c},r))})),tA=pe((function(t){let{isActive:n,tokenIn:a,tokenOut:o,amountIn:r,amountOut:i,payinAddress:s,payoutAddress:l,payinExtraId:c,activity:d,addressByChain:u,onClose:m}=t;const p=vs(),[f,h]=ie(!1),g=de((()=>Date.now()),[]),{qrCodeRef:v,isInitialized:w}=Bw({address:s,isActive:n,hiddenClassName:uy.qrCodeHidden,hideLogo:!0}),y=!c,b=is({from:a,to:o,toAddress:l,addressByChain:u});Ql({isActive:n,onBack:m});const E=$r((()=>{h(!0)}));return he.createElement(he.Fragment,null,he.createElement(yf,{title:p(f?"Swap Expired":b?"Swapping":"Waiting for Payment"),onClose:m}),he.createElement("div",{className:ps(uy.scrollContent,uy.selectBlockchainBlock,"custom-scroll")},he.createElement(uC,{tokenIn:a,amountIn:r,tokenOut:o,amountOut:i}),he.createElement(gp,{name:"fade",activeKey:f?1:0},function(){var t;if(f){var n;const t=d&&"cex"in d?null===(n=d.cex)||void 0===n?void 0:n.transactionId:void 0;return he.createElement("div",{className:uy.changellyInfoBlock},he.createElement("span",{className:uy.changellyImportantRed},p("The time for sending coins is over.")),he.createElement("span",{className:uy.changellyDescription},p("$swap_changelly_support",{livechat:he.createElement("a",{href:e.o$d,target:"_blank",rel:"noreferrer",className:uy.changellyDescriptionBold},p("Changelly Live Chat")),email:he.createElement("span",{className:uy.changellyDescriptionBold},e.HWN)})),t&&he.createElement(bg,{text:t,copyNotification:p("Transaction ID was copied!"),noSavedAddress:!0,noExplorer:!0,className:uy.changellyTextField}))}if(b)return he.createElement("div",{className:uy.changellyInfoBlock},he.createElement("span",{className:uy.changellyDescription},p("Please note that it may take up to a few hours for tokens to appear in your wallet.")));const o=rs(null==a?void 0:a.chain)?a.chain:void 0;return he.createElement("div",{className:uy.changellyInfoBlock},he.createElement("span",{className:uy.changellyDescription},p("$swap_changelly_to_ton_description1",{value:he.createElement("span",{className:uy.changellyDescriptionBold},vr(Number(r),null!==(t=null==a?void 0:a.symbol)&&void 0!==t?t:"",!0)),blockchain:he.createElement("span",{className:uy.changellyDescriptionBold},$v(null==a?void 0:a.chain)),time:he.createElement(cC,{timestamp:g,deadline:e.JWy,onCompleted:E})})),he.createElement(bg,{chain:o,address:s,copyNotification:p("Address was copied!"),noSavedAddress:!0,noExplorer:!0,noDimming:!0,className:uy.changellyTextField}),function(){if(c)return he.createElement("div",{className:uy.textFieldWrapperFullWidth},he.createElement("span",{className:uy.textFieldLabel},p("Memo")),he.createElement(bg,{chain:"ton",address:c,copyNotification:p("Memo was copied!"),noSavedAddress:!0,noExplorer:!0,className:uy.changellyTextField}))}(),y&&he.createElement("div",{className:ps(uy.qrCode,!w&&uy.qrCodeHidden),ref:v}),he.createElement("span",{className:uy.changellyDescription},p("Please note that it may take up to a few hours for tokens to appear in your wallet.")))}()),he.createElement("div",{className:Vc.buttons},he.createElement(ec,{isPrimary:!0,onClick:m},p("Close")))))})),nA=[nn.Password,nn.SelectTokenFrom,nn.SelectTokenTo],aA=pe($e((e=>{var t;const n=Ze(e),a=Xe(e),o=null==n||null===(t=n.activities)||void 0===t?void 0:t.byId;return{currentSwap:e.currentSwap,swapType:Ln(e),swapTokens:Bn(e),activityById:o,addressByChain:null==a?void 0:a.addressByChain}}))((function(e){let{currentSwap:{state:t,tokenInSlug:n,tokenOutSlug:a,amountIn:o="0",amountOut:r="0",isLoading:i,error:s,activityId:l,toAddress:c,payinAddress:d,payoutAddress:u,payinExtraId:m,shouldResetOnClose:p},swapType:f,swapTokens:h,activityById:g,addressByChain:v}=e;const{startSwap:w,cancelSwap:y,setSwapScreen:b,submitSwap:E,showActivityInfo:k,submitSwapCex:C,addSwapToken:N,setSwapTokenIn:S,setSwapTokenOut:A}=He(),T=vs(),{isPortrait:I}=po(),B=t!==nn.None,{renderingKey:_,nextKey:x,updateNextKey:L}=hh(t,B),D=de((()=>null==h?void 0:h.find((e=>e.slug===n))),[n,h]),O=de((()=>null==h?void 0:h.find((e=>e.slug===a))),[h,a]),[P,F]=ie(f),[R,M]=ie(o),[U,H]=ie(r),[W,$]=ie(D),[V,z]=ie(O),[q,K]=ie();le((()=>{if(!B||!l||null==g||!g[l])return void K(void 0);const e=g[l];if(K(e),"swap"===e.kind&&f===rn.CrosschainToWallet){var t;const n=null===(t=e.cex)||void 0===t?void 0:t.status;"exchanging"!==n&&"confirming"!==n||b({state:nn.Complete})}}),[g,l,B,f]);const j=$r((e=>{M(o),H(r),$(D),z(O),F(f),f!==rn.OnChain?C({password:e}):E({password:e})})),Y=$r((()=>{t!==nn.Password?(t!==nn.SelectTokenTo&&t!==nn.SelectTokenFrom||b({state:I?nn.Initial:nn.None}),t===nn.Blockchain&&b({state:I?nn.Initial:nn.None})):f===rn.CrosschainFromWallet?b({state:nn.Blockchain}):b({state:I?nn.Initial:nn.None})})),G=$r((()=>{l&&(y({shouldReset:!0}),k({id:l}))})),Q=$r((()=>{y({shouldReset:I||p}),L()})),X=$r((()=>{y({shouldReset:!0})})),J=$r((e=>{N({token:e}),(_===nn.SelectTokenTo?A:S)({tokenSlug:e.slug})})),Z=$r((()=>{w({amountIn:R,tokenInSlug:null==W?void 0:W.slug,tokenOutSlug:null==V?void 0:V.slug})}));function ee(e,t,n){switch(n){case nn.Initial:return he.createElement(he.Fragment,null,he.createElement(yf,{title:T("SwapTitle"),onClose:y}),he.createElement(Ry,{isActive:e}));case nn.Blockchain:return he.createElement(YS,{isActive:e,toAddress:c,tokenIn:D,tokenOut:O,swapType:f});case nn.WaitTokens:return he.createElement(tA,{isActive:e,tokenIn:W,tokenOut:V,amountIn:R,amountOut:U,payinAddress:d,payoutAddress:u,payinExtraId:m,addressByChain:v,activity:q,onClose:X});case nn.Password:return he.createElement(eA,{isActive:e,isLoading:i,error:s,onSubmit:j,onBack:Y},function(){var e,t;if(D&&O&&o&&r)return he.createElement(Fw,{tokenIn:D,withChainIcon:!0,tokenOut:O,text:vr(o,null!==(e=D.symbol)&&void 0!==e?e:"",!0),secondText:vr(r,null!==(t=O.symbol)&&void 0!==t?t:"",!0),className:Qo()?void 0:uy.transactionBanner})}());case nn.Complete:return he.createElement(ZS,{isActive:e,tokenIn:W,tokenOut:V,amountIn:R,amountOut:U,swapType:P,toAddress:c,onClose:X,onInfoClick:G,onStartSwap:Z,isDetailsDisabled:!l});case nn.SelectTokenFrom:case nn.SelectTokenTo:return he.createElement(nw,{isActive:e,shouldUseSwapTokens:!0,shouldFilter:n===nn.SelectTokenTo,onTokenSelect:J,onBack:Y,onClose:X})}}const te=nA.includes(_)||_===nn.Complete&&P!==rn.OnChain;return he.createElement(Yc,{isOpen:B,onClose:y,noBackdropClose:!0,dialogClassName:uy.modalDialog,nativeBottomSheetKey:"swap",forceFullNative:te,hasCloseButton:!0,onCloseAnimationEnd:Q},he.createElement(gp,{name:fh(),className:ps(Vc.transition,"custom-scroll"),slideClassName:Vc.transitionSlide,activeKey:_,nextKey:x,onStop:L},ee))}))),oA=pe((function(e){let{isActive:t,amount:n,symbol:a,txId:o,tokenSlug:r,toAddress:i,comment:s,decimals:l,nfts:c,onInfoClick:d,onClose:u}=e;const{startTransfer:m}=He(),p=vs(),{isPortrait:f}=po(),h=Boolean(null==c?void 0:c.length);Ql({isActive:t,onBack:u}),le((()=>t?Qs({onEnter:u}):void 0),[t,u]);const g=$r((()=>{m({isPortrait:f,tokenSlug:r,toAddress:i,amount:n,comment:s})}));return he.createElement(he.Fragment,null,he.createElement(yf,{title:p(h?"NFT has been sent!":"Coins have been sent!"),onClose:u}),he.createElement("div",{className:Vc.transitionContent},h?he.createElement(he.Fragment,null,he.createElement(xm,{play:t,noLoop:!1,nonInteractive:!0,className:Rw.sticker,tgsUrl:Ju.thumbUp,previewUrl:Ju.thumbUpPreview}),1===c.length?he.createElement(ig,{nft:c[0]}):he.createElement(Wy,{nfts:c}),Boolean(o)&&he.createElement("div",{className:ps(Rw.buttons,Rw.buttonsAfterNft)},he.createElement(ec,{className:Rw.button,onClick:d},p("Details")))):he.createElement(Mw,{playAnimation:t,amount:n?-n:void 0,tokenSymbol:a,firstButtonText:o?p("Details"):void 0,secondButtonText:p("Repeat"),onFirstButtonClick:d,onSecondButtonClick:g,decimals:l}),he.createElement("div",{className:Vc.buttons},he.createElement(ec,{onClick:u,isPrimary:!0},p("Close")))))})),rA=pe((function(e){let{amount:t,label:n,currency:a="",symbol:o,feeText:r,className:i,labelClassName:s}=e;const l=vs();return he.createElement(he.Fragment,null,he.createElement("div",{className:ps("vEby849g",s)},n),he.createElement("div",{className:ps("ghrNkOZk",i)},vr(t,a,!0),o&&he.createElement("span",{className:"LPchTYAT"},o),Boolean(r)&&he.createElement(he.Fragment,null,he.createElement("div",{className:"XPUDvAqg"},l("Fee")),he.createElement("span",{className:"SkacqSTU"},r))))})),iA=pe($e((e=>({currentTransfer:e.currentTransfer})))((function(t){let{currentTransfer:{tokenSlug:n,amount:a,toAddress:o,resolvedAddress:r,fee:i,realFee:s,comment:l,shouldEncrypt:c,promiseId:d,isLoading:u,toAddressName:m,isToNewAddress:p,isScam:f,binPayload:h,nfts:g,isGaslessWithStars:v,diesel:w,stateInit:y},token:b,isActive:E,savedAddresses:k,onBack:C,onClose:N}=t;const{submitTransferConfirm:S}=He(),A=vs(),T=Boolean(null==g?void 0:g.length);T&&(n=e.Tu9.slug);const I=Cn(n),B=de((()=>{var e;return o&&(null==k||null===(e=k.find((e=>e.address===o&&e.chain===I)))||void 0===e?void 0:e.name)}),[o,I,k])||m,_=r===e.pV9,x=r===e.WVU[0],L=On({fee:i,realFee:s,diesel:w,tokenSlug:n});Ql({isActive:E,onBack:C});const D=$r((()=>{tr(),S()})),O=null!=g&&g.length?Math.ceil(g.length/e.gR8)*e.WHY/60:void 0,P=A(_||x?"Burn NFT":v?"Pay fee with %stars_symbol%":"Confirm",v?{stars_symbol:e.xFF}:void 0);return he.createElement(he.Fragment,null,he.createElement(yf,{title:A("Is it all ok?"),onClose:N}),he.createElement("div",{className:Vc.transitionContent},T?1===g.length?he.createElement(ig,{nft:g[0],withMediaViewer:!0}):he.createElement(Wy,{nfts:g}):he.createElement(xm,{size:e.jzp,play:E,noLoop:!1,nonInteractive:!0,className:ps("ZDG5rllO","ol7Kgi48"),tgsUrl:Ju.bill,previewUrl:Ju.billPreview}),he.createElement("div",{className:Vy},A("Receiving Address"),p&&he.createElement(xy,{emoji:"⚠️",message:A("This address is new and never received transfers before."),tooltipClassName:"lcmy9IMt"})),he.createElement(bg,{chain:I,address:r,addressName:B,isScam:f,copyNotification:A("Address was copied!"),className:qy}),function(){var e;if(!L.realFee||!b)return;const t=he.createElement(Ag,{terms:L.realFee.terms,precision:L.realFee.precision,token:b,symbolClassName:"aNzt5kkC"});return T?he.createElement(he.Fragment,null,he.createElement("div",{className:Vy},A("Fee")),he.createElement("div",{className:Ky},t)):he.createElement(rA,{label:A("Amount"),amount:(0,wt.nI)(null!=a?a:0n,null==b?void 0:b.decimals),symbol:null!==(e=null==b?void 0:b.symbol)&&void 0!==e?e:"",feeText:t})}(),h||y?he.createElement(he.Fragment,null,h&&he.createElement(he.Fragment,null,he.createElement("div",{className:Vy},A("Signing Data")),he.createElement(bg,{text:h,copyNotification:A("Data was copied!"),className:qy})),y&&he.createElement(he.Fragment,null,he.createElement("div",{className:Vy},A("Contract Initialization Data")),he.createElement(bg,{text:y,copyNotification:A("Data was copied!"),className:qy})),he.createElement("div",{className:Qy},dr(A("$signature_warning")))):l?he.createElement(he.Fragment,null,he.createElement("div",{className:Vy},A(c?"Encrypted Message":"Comment or Memo")),he.createElement("div",{className:ps(Ky,"NH87E1kW",jy)},l)):void 0,g&&(_||x&&(null==g?void 0:g.length)>1)&&he.createElement("div",{className:"CWZdgy5e"},1===(null==g?void 0:g.length)?dr(A("Are you sure you want to burn this NFT? It will be lost forever.")):[dr(A("$multi_burn_nft_warning",{amount:g.length}))," ",dr(A("$multi_send_nft_warning",{duration:O}))]),he.createElement("div",{className:ps(Vc.buttons,Vc.buttonsInsideContentWithScroll)},he.createElement(ec,{className:Vc.button,onClick:d?N:C},A(d?"Cancel":"Edit")),he.createElement(ec,{isPrimary:!0,isLoading:u,isDestructive:_||f,className:Vc.button,onClick:D},P))))}))),sA=pe((function(t){let{nfts:n,sentNftsCount:a=0,toAddress:o,onClose:r}=t;const i=vs(),s=a<n.length,l=o===e.pV9,c=o===e.WVU[0],d=s?i((l||c?"Burning":"Sending")+": %n% of %m% NFTs...",{n:a,m:n.length}):i("Sent"),u=Math.ceil(n.length/e.gR8)*e.WHY/60;return he.createElement(he.Fragment,null,he.createElement(yf,{title:d}),he.createElement("div",{className:Vc.transitionContent},s&&he.createElement(he.Fragment,null,he.createElement(Ph,{className:"gigiDFmZ"}),he.createElement("div",{className:"vKJsXVsk"},i("$multi_send_nft_warning",{duration:u}))),1===n.length?he.createElement(ig,{nft:n[0]}):he.createElement(Wy,{nfts:n}),!s&&he.createElement("div",{className:Vc.buttons},he.createElement(ec,{onClick:r,isPrimary:!0},i("Close")))))})),lA=pe((function(t){let{isActive:n,isLoading:a,isBurning:o,error:r,children:i,onSubmit:s,onCancel:l,isGaslessWithStars:c}=t;const{cancelTransfer:d,clearTransferError:u}=He(),m=vs();Ql({isActive:n,onBack:l});const p=o?"Confirm Burning":"Confirm Sending",f=c?m("Pay fee with %stars_symbol%",{stars_symbol:e.xFF}):m("Send");return he.createElement(he.Fragment,null,!Qo()&&he.createElement(yf,{title:m(p),onClose:d}),he.createElement(sp,{isActive:n,isLoading:a,withCloseButton:Boolean(i),operationType:"transfer",error:r,submitLabel:f,cancelLabel:m("Back"),onSubmit:s,onCancel:l,onUpdate:u},i))})),cA=pe($e((e=>{const t=Ze(e),{hardwareState:n,isLedgerConnected:a,isTonAppConnected:o}=e.hardware;return{currentTransfer:e.currentTransfer,tokens:kt(e),savedAddresses:null==t?void 0:t.savedAddresses,hardwareState:n,isLedgerConnected:a,isTonAppConnected:o,isMediaViewerOpen:Boolean(e.mediaViewer.mediaId),isMultichainAccount:ut(e,e.currentAccountId)}}))((function(t){let{currentTransfer:{state:n,amount:a,toAddress:o,comment:r,error:i,isLoading:s,txId:l,tokenSlug:c,nfts:d,sentNftsCount:u,diesel:m},tokens:p,savedAddresses:f,hardwareState:h,isLedgerConnected:g,isTonAppConnected:v,isMediaViewerOpen:w,isMultichainAccount:y}=t;const{submitTransferConfirm:b,submitTransferPassword:E,submitTransferHardware:k,setTransferScreen:C,cancelTransfer:N,showActivityInfo:S}=He(),A=vs(),{isPortrait:T}=po(),I=n!==tn.None,{screenHeight:B}=Jw(),_=de((()=>null==p?void 0:p.find((e=>e.slug===c))),[c,p]),x=null==_?void 0:_.decimals,L=Bl(a,!0),D=(null==_?void 0:_.symbol)||"",O=Boolean(null==d?void 0:d.length),P=o===e.pV9,{renderingKey:F,nextKey:R,updateNextKey:M}=hh(n,I);le((()=>n===tn.Confirm?Qs({onEnter:()=>b()}):void 0),[n,b]);const U=$r((e=>{E({password:e})})),H=$r((()=>{n===tn.Confirm&&C({state:tn.Initial}),n===tn.Password&&C({state:tn.Confirm})})),W=$r((()=>{N({shouldReset:!0}),S({id:l})})),$=$r((()=>{N({shouldReset:T}),M()})),V=$r((()=>{N({shouldReset:!0})})),z=$r((()=>{k()}));function q(t,n,p){var w,b;switch(p){case tn.Initial:return he.createElement(he.Fragment,null,he.createElement(yf,{title:A(O?"Send NFT":"Send"),onClose:V}),he.createElement(ab,null));case tn.Confirm:return he.createElement(iA,{isActive:t,token:_,savedAddresses:f,onBack:T?H:$,onClose:V});case tn.Password:return he.createElement(lA,{isActive:t,isLoading:s,isBurning:P,error:i,onSubmit:U,onCancel:V,isGaslessWithStars:"stars-fee"===(null==m?void 0:m.status)},he.createElement(Fw,{tokenIn:_,imageUrl:null==d||null===(w=d[0])||void 0===w?void 0:w.thumbnail,withChainIcon:y,text:O?d.length>1?A("%amount% NFTs",{amount:d.length}):(null===(b=d[0])||void 0===b?void 0:b.name)||"NFT":gr((0,wt.nI)(a,x),D),className:Qo()?void 0:"Pxmu6Hot",secondText:xt(o)}));case tn.ConnectHardware:return he.createElement(Yh,{isActive:t,state:h,isLedgerConnected:g,isTonAppConnected:v,onConnected:z,onClose:V});case tn.ConfirmHardware:return he.createElement(Ah,{text:A("Please confirm transaction on your Ledger"),error:i,onClose:V,onTryAgain:k});case tn.Complete:return((null==d?void 0:d.length)||0)<=e.gR8?he.createElement(oA,{isActive:t,nfts:d,amount:L,symbol:D,txId:l,tokenSlug:c,toAddress:o,comment:r,onInfoClick:W,onClose:V,decimals:x}):he.createElement(sA,{nfts:d,sentNftsCount:u,toAddress:o,onClose:V})}}return he.createElement(Yc,{isOpen:I&&!w,noBackdropClose:!0,dialogClassName:"NvbEOoOC",nativeBottomSheetKey:"transfer",forceFullNative:B<=762||F===tn.Password,onClose:V,onCloseAnimationEnd:$},he.createElement(gp,{name:fh(),className:ps(Vc.transition,"custom-scroll"),slideClassName:Vc.transitionSlide,activeKey:F,nextKey:R,onStop:M},q))}))),dA=["#E8BC2C","#D0049E","#02CBFE","#5723FD","#FE8C27","#6CB859"],uA=pe($e((e=>({lastRequestedAt:e.confettiRequestedAt})))((function(e){let{lastRequestedAt:t}=e;const n=me(null),a=me([]),o=me(!1),r=Jw(),i=ge(),{isPortrait:s}=po(),l=s?50:100,c=$r(((e,t)=>{!function(e,t,n,a){for(let o=0;o<a;o++){const a=o%2,r={x:t*(a?-.1:1.1),y:.75*n},i=Math.random()*t*1.5,s={x:a?i:-1*i,y:-n/2-Math.random()*n},l=dA[Math.floor(Math.random()*dA.length)],c=10;e.current.push({pos:r,size:c,color:l,velocity:s,flicker:c,flickerFrequency:.2*Math.random(),rotation:0,lastDrawnAt:Date.now(),frameCount:0})}}(a,e,t,l)})),d=$r((()=>{if(!n.current||!o.current)return;const e=n.current,t=e.getContext("2d");if(!t)return;const{width:r,height:i}=e;t.clearRect(0,0,r,i);const s=new Set([]);a.current.forEach(((e,n)=>{const{pos:o,velocity:r,size:l,color:c,flicker:d,flickerFrequency:u,rotation:m,lastDrawnAt:p,frameCount:f}=e,h=(Date.now()-p)/1e3,g={x:o.x+r.x*h,y:o.y+r.y*h},v={x:.98*r.x,y:r.y+=1e3*h},w=l*Math.abs(Math.sin(f*u)),y=5*f*u*(Math.PI/180),b=f+1,E=Date.now();g.y>i+e.size?s.add(e):(a.current[n]={...e,pos:g,velocity:v,flicker:w,rotation:y,lastDrawnAt:E,frameCount:b},t.fillStyle=c,t.beginPath(),t.ellipse(o.x,o.y,l,d,m,0,2*Math.PI),t.fill())})),a.current=a.current.filter((e=>!s.has(e))),a.current.length?(0,k.YS)(d):o.current=!1}));if(_l((e=>{let n,[a]=e;return t&&a!==t&&(c(r.width,r.height),n=window.setTimeout(i,1e4),o.current||(o.current=!0,(0,k.YS)(d))),()=>{window.clearTimeout(n)}}),[t,i,d]),t&&!(Date.now()-t>1e4))return he.createElement("div",{id:"Confetti",className:"NEu40vNs"},he.createElement("canvas",{ref:n,width:r.width,height:r.height}))}))),mA=pe($e((e=>{var t;const n=void 0!==(null===(t=e.dappConnectRequest)||void 0===t?void 0:t.state)||e.currentDappTransfer.state!==tn.None;return{isOpen:e.isLoadingOverlayOpen&&!n}}))((function(e){let{isOpen:t}=e;const{closeLoadingOverlay:n}=He(),{shouldRender:a,transitionClassNames:o}=ws(t);if(a)return he.createElement($c,null,he.createElement("div",{className:ps("JqqCZr7K",o),onClick:()=>n()},he.createElement(Ph,{color:"white"})))}))),pA="xYgMXl3B",fA=new Set([Jt.Main,Jt.Settings,Jt.Explore]),hA=t.cp&&!t.ig||e.VL7?5*Xn.pY:void 0;let gA=0;const vA=Object.keys(Jt).length/2,wA=pe($e((e=>{var t;return{appState:e.appState,accountId:e.currentAccountId,isBackupWalletModalOpen:e.isBackupWalletModalOpen,isHardwareModalOpen:e.isHardwareModalOpen,isExploreOpen:e.isExploreOpen,areSettingsOpen:e.areSettingsOpen,isQrScannerOpen:e.isQrScannerOpen,isFullscreen:Boolean(e.isFullscreen),theme:e.settings.theme,accentColorIndex:null===(t=at(e))||void 0===t?void 0:t.accentColorIndex}}))((function(a){let{appState:o,accountId:r,isBackupWalletModalOpen:i,isHardwareModalOpen:s,isQrScannerOpen:l,isExploreOpen:c,isFullscreen:d,areSettingsOpen:u,theme:m,accentColorIndex:p}=a;const{closeBackupWalletModal:f,closeHardwareWalletModal:h,closeSettings:g,cancelCaching:v,closeQrScanner:w,checkAppVersion:y}=He(),{isPortrait:b}=po(),E=!b,[k,C]=Rd(!1),[N,S]=Rd(),A=k?Jt.Inactive:u&&!E?Jt.Settings:c&&b?Jt.Explore:o,T=b&&fA.has(A),I=T?"semiFade":b?t.Ni?"slideFadeAndroid":t.pz?"slideLayers":"slideFade":"semiFade";function B(e,t,n){switch(n){case Jt.Auth:return he.createElement(ph,null);case Jt.Main:{const t=ps(pA,"BY5oYr5T","custom-scroll","app-slide-content");return he.createElement(gp,{name:"semiFade",activeKey:gA,shouldCleanup:!0,nextKey:A===Jt.Auth&&N?gA+1:void 0,slideClassName:t},he.createElement($k,{key:gA,isActive:e}))}case Jt.Explore:return he.createElement(Ev,{isActive:e});case Jt.Settings:return he.createElement(qS,{isActive:e});case Jt.Ledger:return he.createElement(Nv,{isOpen:!0,onClose:yA});case Jt.Inactive:return he.createElement(mf,null)}}return lf(S,A!==Jt.Auth||N?void 0:1200),sf(y,e.TI6?void 0:hA),le((()=>{document.documentElement.classList.toggle("with-bottombar",T)}),[T]),le((()=>{oa(),Zp=()=>{document.title=`${e.C39} ${e.LaL}`,C(),g(),v()}}),[C]),Yr((()=>{(0,n.p)("setIsAppFocused",!1)}),(()=>{(0,n.p)("setIsAppFocused",!0)})),ce((()=>{document.documentElement.classList.add("is-rendered"),ao()}),[]),ce((()=>{document.documentElement.classList.toggle("is-fullscreen",d),requestAnimationFrame(oa)}),[d]),_l((()=>{r&&(gA+=1)}),[r]),Dp("body",Fd(m),p),function(){const{observe:e}=af({throttleMs:350});rf=e}(),he.createElement(he.Fragment,null,t.cp&&!t.ig&&he.createElement(Jg,{withTitle:!0}),he.createElement(gp,{name:I,activeKey:A,renderCount:vA,shouldCleanup:!T,className:"XDsN0suQ",slideClassName:ps(pA,T&&"cumlVCAy","custom-scroll")},B),E&&he.createElement(jS,{isOpen:u,onClose:g},he.createElement(qS,{isActive:!!u,isInsideModal:!0})),he.createElement(Tp,null),he.createElement(rN,null),!k&&he.createElement(he.Fragment,null,he.createElement(Nv,{isOpen:s,onClose:h}),he.createElement(Zk,{isOpen:i,onClose:f}),he.createElement(cA,null),!e.TI6&&he.createElement(he.Fragment,null,he.createElement(aA,null),he.createElement(pN,null)),he.createElement(sC,null),he.createElement(CC,null),he.createElement(wC,null),he.createElement(Jh,null),he.createElement(Vg,null),he.createElement(jk,null),he.createElement(eC,null),he.createElement(NC,null),!t.bA&&he.createElement(AC,null),e.UMQ&&he.createElement(rC,{isOpen:l,onClose:w}),!t.bA&&he.createElement(qg,null),!t.bA&&he.createElement(uA,null),e.UMQ&&!t.bA&&he.createElement(Bs,null),!t.bA&&he.createElement(mA,null)),T&&he.createElement(lm,null))})));async function yA(){const e=await chrome.tabs.getCurrent();null!=e&&e.id&&await chrome.tabs.remove(e.id)}var bA,EA,kA;e.Oig&&console.log(">>> INIT"),e.rkj&&(0,qp.Z3)(),e.UMQ&&async function(){var e,n;n=jn.Ii.getPlatform(),Oo=n,Wa.getStatusBarHeight().then((e=>{let{statusBarHeight:t}=e;zo=t,document.documentElement.style.setProperty("--status-bar-height",`${t}px`)})),Wa.getSafeAreaInsets().then((e=>{let{insets:{bottom:t}}=e;document.documentElement.style.setProperty("--safe-area-bottom",`${t}px`)})),t.bA?Ha.hide({fadeOutDuration:0}):("ios"===Po()&&setTimeout((()=>{Ha.hide({fadeOutDuration:600})}),500),Ua.addListener("appUrlOpen",(e=>{vo(e.url)})),Ua.addListener("backButton",(e=>{let{canGoBack:t}=e;t?window.history.back():Ua.exitApp()})),qo(await Wa.getSafeAreaInsets()),await Wa.addListener("safeAreaChanged",(e=>{qo(e)})),Ho=null===(e=await Ua.getLaunchUrl())||void 0===e?void 0:e.url,Ho&&vo(Ho))}(),t.cp&&(null===(bA=window.electron)||void 0===bA||bA.on(Yp.DEEPLINK,(e=>{let{url:t}=e;vo(t)}))),e.tKX&&(ma=null===(EA=window.Telegram)||void 0===EA?void 0:EA.WebApp,ma?(Sa(),ma.lockOrientation(),ma.MainButton.hide(),ma.SecondaryButton.hide(),ma.BackButton.hide(),ma.SettingsButton.hide(),ma.expand(),(0,t.v3)()&&(ma.onEvent("safeAreaChanged",Ea),ma.onEvent("contentSafeAreaChanged",Ea)),ma.onEvent("viewportChanged",(function(e){let{isStateStable:t}=e;t&&oa()})),Ea(),function(){var e;const t=null===(e=ma)||void 0===e?void 0:e.BiometricManager;t&&!pa&&(pa=!0,t.init((()=>{const{isBiometricAvailable:e,biometricType:n,isAccessGranted:a,isAccessRequested:o}=t;fa=e&&(a||!o),"ios"===ma.platform&&(ha="face"===n,ga="finger"===n)})))}(),ma.ready()):(0,l.SJ)("[telegram] Can't initialize Telegram Mini-App")),t.KI?Jr({noPubGlobal:!0}):t.bA&&Jr(),e.UMQ?(kA=()=>{Gp.install(),Qp()},na.push(kA),i.e(408).then(i.bind(i,408)).then((e=>{let{Keyboard:t}=e;t.addListener("keyboardWillHide",Gp.uninstall)}))):(t.pz||t.Ni)&&window.visualViewport&&function(){const{visualViewport:n}=window;let a=n.height;function o(){const e=n.height,t=document.activeElement;e<a&&t&&function(e){const t=e.tagName.toLowerCase();return"input"===t||"textarea"===t||"select"===t||e.hasAttribute("contenteditable")}(t)?(Gp.install(),Qp()):e>a&&Gp.uninstall(),a=e}n.addEventListener("resize",t.pz&&e.tKX?function(){(0,k.RK)((()=>{(0,k.YS)(o)}))}:o)}(),(async n=>{t.ZH&&await async function(){await xo.init();const t=Boolean(window.localStorage.getItem(e.pge)),n=Boolean(await xo.capacitorStorageGetItem("accounts"));t&&!n&&window.localStorage.clear(),!t&&n&&await xo.capacitorStorageClear()}(),await(null===(n=window.electron)||void 0===n?void 0:n.restoreStorage()),He().init(),He().initApi(),e.Oig&&console.log(">>> START INITIAL RENDER"),(0,k.RK)((()=>{Wc(he.createElement(wA,null),document.getElementById("root")),function(){const e=document.createElement("div");e.textContent="₽",e.classList.add("visually-hidden"),document.body.appendChild(e),(0,k.RK)((()=>{document.body.removeChild(e)}))}(),function(){if(!t.pz)return;let e,n=Date.now();function a(){e||Kp||(e=window.setInterval(jp,5e3))}window.addEventListener("focus",(()=>{const e=Date.now();e-n<100||(n=e,a(),jp())})),window.addEventListener("blur",(()=>{clearInterval(e),e=void 0})),document.hasFocus()&&(a(),jp())}()})),e.Oig&&console.log(">>> FINISH INITIAL RENDER"),document.addEventListener("dblclick",(()=>{console.warn("GLOBAL STATE",Me())})),window.top===window&&(0,l.ef)()})()})()})();
//# sourceMappingURL=main.e2948c84e72540ee91ef.js.map